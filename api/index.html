<!DOCTYPE html>
    <html lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/isolated-workers/assets/static/pages_tailwind-65fb2459.DWwu-Xsw.css">
        <meta charset="UTF-8" />
        
        
    <title>isolated-workers</title><meta property="og:title" content="isolated-workers" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="data:image/svg+xml,%3csvg%20width=&#x27;48&#x27;%20height=&#x27;48&#x27;%20viewBox=&#x27;0%200%2048%2048&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3c!--%20Background%20hexagon%20representing%20the%20isolated%20container%20--%3e%3cpath%20d=&#x27;M24%204L42%2014V34L24%2044L6%2034V14L24%204Z&#x27;%20fill=&#x27;%231a1a2e&#x27;%20stroke=&#x27;%234a5568&#x27;%20stroke-width=&#x27;1.5&#x27;/%3e%3c!--%20Inner%20isolated%20worker%20cells%20--%3e%3c!--%20Top%20worker%20--%3e%3cg%20transform=&#x27;translate(24,%2012)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%233b82f6&#x27;%20stroke=&#x27;%2360a5fa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-left%20worker%20--%3e%3cg%20transform=&#x27;translate(14,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%2310b981&#x27;%20stroke=&#x27;%2334d399&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-right%20worker%20--%3e%3cg%20transform=&#x27;translate(34,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%238b5cf6&#x27;%20stroke=&#x27;%23a78bfa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Communication%20channels%20(dashed%20lines%20showing%20IPC)%20--%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;14&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;34&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;20&#x27;%20y1=&#x27;30&#x27;%20x2=&#x27;28&#x27;%20y2=&#x27;30&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3c!--%20Type-safe%20data%20packets%20on%20channels%20--%3e%3ccircle%20cx=&#x27;19&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;29&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;24&#x27;%20cy=&#x27;30&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3c/svg%3e"/><meta name="theme-color" content="#131316"/><meta property="og:type" content="website"/><meta property="og:title" content="isolated-workers"/><meta property="og:description" content="Type-safe worker processes with end-to-end message contracts"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="isolated-workers"/><meta name="twitter:description" content="Type-safe worker processes with end-to-end message contracts"/>
    
    <meta name="description" content="Type-safe worker processes with end-to-end message contracts" /><meta property="og:description" content="Type-safe worker processes with end-to-end message contracts" />
    
  
        
      </head>
      <body>
        
        <div id="root"><div class="min-h-screen bg-primary text-gray-100"><div class="fixed inset-0 overflow-hidden pointer-events-none " aria-hidden="true"><div class="absolute inset-0 retro-horizon"></div><div class="absolute inset-0 retro-grid"></div><div class="absolute w-96 h-96 rounded-full blur-3xl animate-float" style="top:15%;left:20%;background:radial-gradient(circle, rgba(0, 240, 255, 0.15) 0%, transparent 70%)"></div><div class="absolute w-96 h-96 rounded-full blur-3xl animate-float" style="bottom:20%;right:15%;background:radial-gradient(circle, rgba(191, 0, 255, 0.12) 0%, transparent 70%);animation-delay:2s"></div><div class="absolute w-72 h-72 rounded-full blur-3xl animate-float" style="top:40%;left:50%;transform:translateX(-50%);background:radial-gradient(circle, rgba(255, 0, 128, 0.08) 0%, transparent 70%);animation-delay:4s"></div><div class="absolute w-64 h-64 rounded-full blur-3xl animate-pulse-slow" style="top:10%;right:25%;background:radial-gradient(circle, rgba(0, 255, 157, 0.06) 0%, transparent 70%);animation-delay:1s"></div><div class="absolute inset-0 retro-scanlines"></div></div><header class="fixed top-0 left-0 right-0 h-20 z-50 glass-enhanced border-b border-neon-cyan/10"><div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between"><a href="/isolated-workers/" class="flex items-center gap-3 group"><div class="relative neon-flicker-slow"><img src="data:image/svg+xml,%3csvg%20width=&#x27;48&#x27;%20height=&#x27;48&#x27;%20viewBox=&#x27;0%200%2048%2048&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3c!--%20Background%20hexagon%20representing%20the%20isolated%20container%20--%3e%3cpath%20d=&#x27;M24%204L42%2014V34L24%2044L6%2034V14L24%204Z&#x27;%20fill=&#x27;%231a1a2e&#x27;%20stroke=&#x27;%234a5568&#x27;%20stroke-width=&#x27;1.5&#x27;/%3e%3c!--%20Inner%20isolated%20worker%20cells%20--%3e%3c!--%20Top%20worker%20--%3e%3cg%20transform=&#x27;translate(24,%2012)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%233b82f6&#x27;%20stroke=&#x27;%2360a5fa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-left%20worker%20--%3e%3cg%20transform=&#x27;translate(14,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%2310b981&#x27;%20stroke=&#x27;%2334d399&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-right%20worker%20--%3e%3cg%20transform=&#x27;translate(34,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%238b5cf6&#x27;%20stroke=&#x27;%23a78bfa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Communication%20channels%20(dashed%20lines%20showing%20IPC)%20--%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;14&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;34&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;20&#x27;%20y1=&#x27;30&#x27;%20x2=&#x27;28&#x27;%20y2=&#x27;30&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3c!--%20Type-safe%20data%20packets%20on%20channels%20--%3e%3ccircle%20cx=&#x27;19&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;29&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;24&#x27;%20cy=&#x27;30&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3c/svg%3e" height="40" width="40" alt="isolated-workers logo" class="transition-all duration-300 group-hover:drop-shadow-[0_0_12px_rgba(0,240,255,0.6)]"/></div><span class="text-xl font-bold bg-linear-to-r from-neon-cyan to-neon-purple bg-clip-text text-transparent neon-flicker-alt neon-flicker-delay-1">isolated-workers</span></a><nav class="hidden md:flex items-center gap-6"><a href="/isolated-workers/docs/getting-started" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-gray-400 hover:text-gray-200
      ">Getting Started</a><a href="/isolated-workers/docs/guides" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-gray-400 hover:text-gray-200
      ">Guides</a><a href="/isolated-workers/examples" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-gray-400 hover:text-gray-200
      ">Examples</a><a href="/isolated-workers/api" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-neon-cyan text-glow-cyan
      ">API Reference<span class="absolute -bottom-1 left-0 right-0 h-0.5 bg-linear-to-r from-neon-cyan to-neon-purple shadow-neon-sm"></span></a></nav><div class="hidden md:block"><div class="relative"><div class="relative"><svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><input type="text" placeholder="Search docs..." class="
            w-64 pl-10 pr-16 py-2 rounded-lg text-sm
            bg-black/40 border border-white/10
            text-gray-100 placeholder:text-gray-500
            focus:border-neon-cyan focus:ring-1 focus:ring-neon-cyan/50
            focus:outline-none transition-all duration-200
            hover:border-white/20
          " value=""/><kbd class="absolute right-3 top-1/2 -translate-y-1/2 px-1.5 py-0.5 text-xs bg-white/5 border border-white/10 rounded text-gray-500 pointer-events-none flex items-center gap-0.5"><span class="text-[10px]">âŒ˜</span>K</kbd></div></div></div></div></header><div class="pt-20"><div class="relative flex min-h-[calc(100vh-5rem)] p-4 lg:max-w-9/12 m-auto gap-4"><aside class="hidden lg:block shrink-0 p-4 sticky top-0 self-start w-72 rounded-2xl glass-enhanced border-glow"><div class="h-[calc(100vh-6rem)] overflow-y-auto"><nav class="p-4 h-full overflow-y-auto space-y-6"><div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/getting-started" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Getting Started</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/getting-started/installation" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Installation</a></li><li><a href="/isolated-workers/docs/getting-started/quick-start" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Quick Start</a></li><li><a href="/isolated-workers/docs/getting-started/first-worker" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Building Your First Worker</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/concepts" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Concepts</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/concepts/why-isolated-workers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Why isolated-workers?</a></li><li><a href="/isolated-workers/docs/concepts/drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/guides" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Guides</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Error Handling</a></li><li><a href="/isolated-workers/docs/guides/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware</a></li><li><a href="/isolated-workers/docs/guides/timeout-configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/docs/guides/custom-serializers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializers</a></li><li><a href="/isolated-workers/docs/guides/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle</a></li><li><a href="/isolated-workers/docs/guides/typescript" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">TypeScript Deep Dive</a></li><li><a href="/isolated-workers/docs/guides/troubleshooting" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Troubleshooting</a></li><li><a href="/isolated-workers/docs/guides/testing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Testing Workers</a></li><li><a href="/isolated-workers/docs/guides/security" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Security Considerations</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/examples" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Examples</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/examples/basic-ping" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Basic Ping-Pong Worker</a></li><li><a href="/isolated-workers/examples/custom-serializer" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializer</a></li><li><a href="/isolated-workers/examples/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Error Handling</a></li><li><a href="/isolated-workers/examples/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware Pipeline</a></li><li><a href="/isolated-workers/examples/timeout-config" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/examples/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Unexpected Worker Shutdown Handling</a></li><li><a href="/isolated-workers/examples/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle Management</a></li><li><a href="/isolated-workers/examples/worker-threads-driver" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Threads Driver</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/api" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">API Reference</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/api#configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Configuration</a></li><li><a href="/isolated-workers/api#core" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Core</a></li><li><a href="/isolated-workers/api#drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li><li><a href="/isolated-workers/api#other" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Other</a></li><li><a href="/isolated-workers/api#serialization" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Serialization</a></li><li><a href="/isolated-workers/api#types" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Types</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Configuration</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Shutdown Handling</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Resources</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/faq" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">FAQ</a></li><li><a href="/isolated-workers/docs/contributing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Contributing</a></li></ul></div></nav></div></aside><aside class="
                  lg:hidden left-4 bottom-4 top-24 w-72
                  glass-enhanced border-glow fixed! rounded-2xl
                  z-40 transition-transform duration-300 ease-in-out
                  -translate-x-full
                  overflow-clip
                "><div class="h-[calc(100vh-5rem)] overflow-y-auto"><nav class="p-4 h-full overflow-y-auto space-y-6"><div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/getting-started" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Getting Started</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/getting-started/installation" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Installation</a></li><li><a href="/isolated-workers/docs/getting-started/quick-start" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Quick Start</a></li><li><a href="/isolated-workers/docs/getting-started/first-worker" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Building Your First Worker</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/concepts" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Concepts</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/concepts/why-isolated-workers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Why isolated-workers?</a></li><li><a href="/isolated-workers/docs/concepts/drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/guides" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Guides</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Error Handling</a></li><li><a href="/isolated-workers/docs/guides/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware</a></li><li><a href="/isolated-workers/docs/guides/timeout-configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/docs/guides/custom-serializers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializers</a></li><li><a href="/isolated-workers/docs/guides/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle</a></li><li><a href="/isolated-workers/docs/guides/typescript" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">TypeScript Deep Dive</a></li><li><a href="/isolated-workers/docs/guides/troubleshooting" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Troubleshooting</a></li><li><a href="/isolated-workers/docs/guides/testing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Testing Workers</a></li><li><a href="/isolated-workers/docs/guides/security" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Security Considerations</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/examples" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Examples</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/examples/basic-ping" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Basic Ping-Pong Worker</a></li><li><a href="/isolated-workers/examples/custom-serializer" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializer</a></li><li><a href="/isolated-workers/examples/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Error Handling</a></li><li><a href="/isolated-workers/examples/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware Pipeline</a></li><li><a href="/isolated-workers/examples/timeout-config" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/examples/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Unexpected Worker Shutdown Handling</a></li><li><a href="/isolated-workers/examples/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle Management</a></li><li><a href="/isolated-workers/examples/worker-threads-driver" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Threads Driver</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/api" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">API Reference</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/api#configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Configuration</a></li><li><a href="/isolated-workers/api#core" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Core</a></li><li><a href="/isolated-workers/api#drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li><li><a href="/isolated-workers/api#other" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Other</a></li><li><a href="/isolated-workers/api#serialization" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Serialization</a></li><li><a href="/isolated-workers/api#types" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Types</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Configuration</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Shutdown Handling</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Resources</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/faq" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">FAQ</a></li><li><a href="/isolated-workers/docs/contributing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Contributing</a></li></ul></div></nav></div></aside><main class="flex-1 min-w-0 py-4"><div class="max-w-4xl rounded-2xl bg-secondary/60 backdrop-blur-sm border border-tertiary/30 px-8 py-8"><div><div class="mb-8"><h1 class="text-4xl font-bold text-gray-100 mb-4">API Reference</h1><p class="text-gray-400 text-lg">Type-safe worker process library for Node.js. Define your message contracts with TypeScript and get full type inference for payloads and responses.</p></div><div class="mb-10 p-6 rounded-xl bg-tertiary/30 border border-tertiary/50"><h2 class="text-lg font-semibold text-gray-200 mb-4">Categories</h2><div class="flex flex-wrap gap-3"><a href="#core" class="px-4 py-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 border border-tertiary/50 hover:border-neon-cyan/30 transition-all group"><span class="text-gray-100 group-hover:text-neon-cyan transition-colors font-medium">Core</span><span class="ml-2 text-gray-500 text-sm">(<!-- -->2<!-- -->)</span></a><a href="#types" class="px-4 py-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 border border-tertiary/50 hover:border-neon-cyan/30 transition-all group"><span class="text-gray-100 group-hover:text-neon-cyan transition-colors font-medium">Types</span><span class="ml-2 text-gray-500 text-sm">(<!-- -->2<!-- -->)</span></a><a href="#configuration" class="px-4 py-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 border border-tertiary/50 hover:border-neon-cyan/30 transition-all group"><span class="text-gray-100 group-hover:text-neon-cyan transition-colors font-medium">Configuration</span><span class="ml-2 text-gray-500 text-sm">(<!-- -->2<!-- -->)</span></a><a href="#serialization" class="px-4 py-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 border border-tertiary/50 hover:border-neon-cyan/30 transition-all group"><span class="text-gray-100 group-hover:text-neon-cyan transition-colors font-medium">Serialization</span><span class="ml-2 text-gray-500 text-sm">(<!-- -->2<!-- -->)</span></a><a href="#drivers" class="px-4 py-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 border border-tertiary/50 hover:border-neon-cyan/30 transition-all group"><span class="text-gray-100 group-hover:text-neon-cyan transition-colors font-medium">Drivers</span><span class="ml-2 text-gray-500 text-sm">(<!-- -->4<!-- -->)</span></a><a href="#other" class="px-4 py-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 border border-tertiary/50 hover:border-neon-cyan/30 transition-all group"><span class="text-gray-100 group-hover:text-neon-cyan transition-colors font-medium">Other</span><span class="ml-2 text-gray-500 text-sm">(<!-- -->70<!-- -->)</span></a></div></div><div class="space-y-12"><section id="core" class="scroll-mt-24"><h2 class="text-2xl font-bold text-gray-100 mb-6 pb-2 border-b border-tertiary/50">Core</h2><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Functions</h3><div class="space-y-2"><a href="/isolated-workers/api/create-worker" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">createWorker</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Create a worker process with type-safe messaging.

By default, uses the child_process driver which spawns a separate Node.js process
and communicates via Unix domain sockets (or named pipes on Windows).

You can pass a different driver for alternative backends:
- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)</span></a><a href="/isolated-workers/api/start-worker-server" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">startWorkerServer</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Start a worker server that listens for messages (type-safe version)</span></a></div></div></div></section><section id="types" class="scroll-mt-24"><h2 class="text-2xl font-bold text-gray-100 mb-6 pb-2 border-b border-tertiary/50">Types</h2><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Types</h3><div class="space-y-2"><a href="/isolated-workers/api/define-messages" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DefineMessages</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Type constructor for defining message sets.

Use this to define your worker&#x27;s message contract with full type safety.</span></a><a href="/isolated-workers/api/with-result" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WithResult</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Extract keys that have a result defined.</span></a></div></div></div></section><section id="configuration" class="scroll-mt-24"><h2 class="text-2xl font-bold text-gray-100 mb-6 pb-2 border-b border-tertiary/50">Configuration</h2><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Types</h3><div class="space-y-2"><a href="/isolated-workers/api/handlers" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">Handlers</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Handler function type for a message definition.

Handlers receive the payload and return the result (or void if no result).</span></a><a href="/isolated-workers/api/middleware" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">Middleware</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Middleware function type for message inspection/transformation.
Applied sequentially in the order provided.

Messages are sealed before being passed to middleware, so you can
modify existing properties but cannot add new ones.</span></a></div></div></div></section><section id="serialization" class="scroll-mt-24"><h2 class="text-2xl font-bold text-gray-100 mb-6 pb-2 border-b border-tertiary/50">Serialization</h2><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Classes</h3><div class="space-y-2"><a href="/isolated-workers/api/json-serializer" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">JsonSerializer</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Default JSON serializer with newline terminator</span></a><a href="/isolated-workers/api/serializer" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">Serializer</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Abstract serializer class for custom message serialization.
Includes terminator sequence to delimit messages in the stream.

IMPORTANT: Must be a named class (not anonymous) for mismatch detection.</span></a></div></div></div></section><section id="drivers" class="scroll-mt-24"><h2 class="text-2xl font-bold text-gray-100 mb-6 pb-2 border-b border-tertiary/50">Drivers</h2><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Interfaces</h3><div class="space-y-2"><a href="/isolated-workers/api/child-process-capabilities" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessCapabilities</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Capability type for child_process driver.

Child process workers support reconnection and detaching,
but cannot use SharedArrayBuffer across the IPC boundary.</span></a><a href="/isolated-workers/api/driver" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">Driver</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Driver interface for spawning workers.

Drivers implement this interface to provide different worker
communication backends.</span></a><a href="/isolated-workers/api/driver-capabilities" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DriverCapabilities</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Driver capability flags.

These flags indicate what features a driver supports,
allowing higher-level code to make decisions based on
available capabilities.</span></a><a href="/isolated-workers/api/worker-threads-capabilities" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsCapabilities</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Capability type for worker_threads driver.

Worker thread workers support SharedArrayBuffer but cannot
be reconnected or detached from the parent.</span></a></div></div></div></section><section id="other" class="scroll-mt-24"><h2 class="text-2xl font-bold text-gray-100 mb-6 pb-2 border-b border-tertiary/50">Other</h2><div class="space-y-6"><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Functions</h3><div class="space-y-2"><a href="/isolated-workers/api/create-server" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">createServer</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Create a child process server for worker-side communication.

This function takes startup data to determine the socket path and configuration,
then creates a server listening for host connections.</span></a><a href="/isolated-workers/api/create-server" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">createServer</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Create a worker threads server for worker-side communication.

This function uses parentPort from worker_threads to establish
communication with the host process.</span></a><a href="/isolated-workers/api/encode-startup-data" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">encodeStartupData</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Encode startup data for passing to child_process via environment variable.</span></a><a href="/isolated-workers/api/spawn-worker" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">spawnWorker</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Spawn a worker process and establish communication channel.</span></a><a href="/isolated-workers/api/spawn-worker" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-cyan">f</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">spawnWorker</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Spawn a worker thread and establish communication channel.</span></a></div></div><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Classes</h3><div class="space-y-2"><a href="/isolated-workers/api/child-process-channel" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessChannel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Channel implementation for child process driver.

Wraps a Connection and ChildProcess, providing the DriverChannel interface
with optional reconnect and detach capabilities.</span></a><a href="/isolated-workers/api/child-process-server-channel" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessServerChannel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Child process server channel implementation.

Wraps a net.Server and provides the ServerChannel interface.</span></a><a href="/isolated-workers/api/worker-crashed-error" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerCrashedError</span></a><a href="/isolated-workers/api/worker-threads-channel" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsChannel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Channel implementation for worker threads driver.

Wraps a Worker and provides the DriverChannel interface
using MessagePort-based communication.</span></a><a href="/isolated-workers/api/worker-threads-server-channel" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-orange">C</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsServerChannel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Worker threads server channel implementation.

Wraps parentPort and provides the ServerChannel interface.</span></a></div></div><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Interfaces</h3><div class="space-y-2"><a href="/isolated-workers/api/base-message" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">BaseMessage</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Base message with transaction ID for request/response pairing</span></a><a href="/isolated-workers/api/child-process-driver-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessDriverOptions</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Options for child process driver spawn</span></a><a href="/isolated-workers/api/child-process-startup-data" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessStartupData</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Startup data specific to child_process driver.

Extends the base StartupData with child_process-specific fields.</span></a><a href="/isolated-workers/api/connection" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">Connection</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Active connection interface</span></a><a href="/isolated-workers/api/connection-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ConnectionOptions</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Connection options</span></a><a href="/isolated-workers/api/detach-capability" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DetachCapability</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Detach capability mixin.

Channels that support detaching expose this to indicate
whether the worker is running detached from the parent.</span></a><a href="/isolated-workers/api/driver-channel" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DriverChannel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Communication channel returned by driver spawn.

The channel provides a unified interface for sending messages,
handling events, and managing the connection lifecycle.</span></a><a href="/isolated-workers/api/driver-message" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DriverMessage</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Message structure for driver communication.

All messages sent through the driver layer follow this structure,
enabling type-safe messaging with transaction tracking.</span></a><a href="/isolated-workers/api/logger" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">Logger</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Logger interface - must implement all log level methods</span></a><a href="/isolated-workers/api/message-def" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MessageDef</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Message definition shape - each message has a payload and optional result</span></a><a href="/isolated-workers/api/middleware-context" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MiddlewareContext</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Context passed to middleware functions</span></a><a href="/isolated-workers/api/reconnect-capability" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ReconnectCapability</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Reconnect capability mixin.

Channels that support reconnection implement this interface
to allow disconnecting while keeping the worker alive.</span></a><a href="/isolated-workers/api/server-channel" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ServerChannel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Server channel interface for worker-side communication.</span></a><a href="/isolated-workers/api/server-driver" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ServerDriver</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Driver interface for server-side usage.

This is a minimal interface that drivers must satisfy for use with
startWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver
satisfy this interface.</span></a><a href="/isolated-workers/api/server-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ServerOptions</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Options for creating a server channel</span></a><a href="/isolated-workers/api/typed-message" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">TypedMessage</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Message with type discriminator</span></a><a href="/isolated-workers/api/typed-result" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">TypedResult</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Result message with type discriminator</span></a><a href="/isolated-workers/api/worker-client" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerClient</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Base worker client interface for type-safe messaging.

The availability of certain methods depends on the driver&#x27;s capabilities:
- `disconnect()` / `reconnect()`: Only available with child_process driver
- `pid`: Returns number for child_process, undefined for worker_threads</span></a><a href="/isolated-workers/api/worker-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerOptions</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Worker options for spawning</span></a><a href="/isolated-workers/api/worker-server" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerServer</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Active worker server</span></a><a href="/isolated-workers/api/worker-server-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerServerOptions</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Server configuration options</span></a><a href="/isolated-workers/api/worker-threads-driver-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsDriverOptions</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Options for worker threads driver spawn</span></a><a href="/isolated-workers/api/worker-threads-resource-limits" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsResourceLimits</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Resource limits for worker threads</span></a><a href="/isolated-workers/api/worker-threads-startup-data" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-green">I</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsStartupData</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Startup data specific to worker_threads driver.

Extends the base StartupData with worker_threads-specific fields.</span></a></div></div><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Types</h3><div class="space-y-2"><a href="/isolated-workers/api/all-messages" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">AllMessages</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Union of all message types in the definition.</span></a><a href="/isolated-workers/api/all-results" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">AllResults</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Union of all result types in the definition.</span></a><a href="/isolated-workers/api/any-message" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">AnyMessage</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Union of all message types (requests and responses).
Use this for middleware, transaction ID generators, and other
functions that handle any message type.</span></a><a href="/isolated-workers/api/built-in-timeout-key" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">BuiltInTimeoutKey</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Built-in timeout keys for worker lifecycle events</span></a><a href="/isolated-workers/api/child-process-driver-type" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessDriverType</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Type of the ChildProcessDriver</span></a><a href="/isolated-workers/api/driver-options-for" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DriverOptionsFor</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Driver-specific options mapping</span></a><a href="/isolated-workers/api/log-level" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">LogLevel</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Log level enum</span></a><a href="/isolated-workers/api/maybe-promise" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MaybePromise</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Utility type for values that may be promises</span></a><a href="/isolated-workers/api/message-defs" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MessageDefs</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Collection of message definitions</span></a><a href="/isolated-workers/api/message-handler" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MessageHandler</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Handler function type for message processing</span></a><a href="/isolated-workers/api/message-of" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MessageOf</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Extract the full message type for a given key.</span></a><a href="/isolated-workers/api/message-result" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MessageResult</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Map a message type to its corresponding result type.</span></a><a href="/isolated-workers/api/message-type" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MessageType</span></a><a href="/isolated-workers/api/middleware-direction" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">MiddlewareDirection</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Direction for middleware context</span></a><a href="/isolated-workers/api/payload-of" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">PayloadOf</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Extract the payload type for a given message key.</span></a><a href="/isolated-workers/api/response-function" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ResponseFunction</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Function to send a response back to the host</span></a><a href="/isolated-workers/api/response-function" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ResponseFunction</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Function to send a response back to the host</span></a><a href="/isolated-workers/api/result-of" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ResultOf</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Extract the full result type for a given key.</span></a><a href="/isolated-workers/api/result-payload-of" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ResultPayloadOf</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Extract the result type for a given message key.</span></a><a href="/isolated-workers/api/shutdown-reason" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ShutdownReason</span></a><a href="/isolated-workers/api/timeout-config" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">TimeoutConfig</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Timeout configuration allowing per-message-type timeouts.

Built-in keys:
- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)
- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)
- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)

You can also specify timeouts for specific message types by their key name.
Message-specific timeouts take precedence over WORKER_MESSAGE.</span></a><a href="/isolated-workers/api/transaction-id-generator" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">TransactionIdGenerator</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Transaction ID generator function type.
Receives a message and returns a unique transaction ID string.</span></a><a href="/isolated-workers/api/unexpected-shutdown-config" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">UnexpectedShutdownConfig</span></a><a href="/isolated-workers/api/unexpected-shutdown-strategy" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">UnexpectedShutdownStrategy</span></a><a href="/isolated-workers/api/worker-handler" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerHandler</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Handler function type for worker messages</span></a><a href="/isolated-workers/api/worker-handlers" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerHandlers</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Collection of handlers for different message types</span></a><a href="/isolated-workers/api/worker-threads-driver-type" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-purple">T</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsDriverType</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Type of the WorkerThreadsDriver</span></a></div></div><div><h3 class="text-lg font-semibold text-gray-300 mb-4">Variables</h3><div class="space-y-2"><a href="/isolated-workers/api/child-process-driver" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessDriver</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Child process driver.

Uses child_process.fork() with Unix domain sockets for IPC.
Supports disconnect/reconnect and detached workers.</span></a><a href="/isolated-workers/api/child-process-driver-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">ChildProcessDriverOptions</span></a><a href="/isolated-workers/api/default-server-connect-timeout" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">DEFAULT_SERVER_CONNECT_TIMEOUT</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Default server connect timeout (30 seconds)</span></a><a href="/isolated-workers/api/default-logger" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">defaultLogger</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Default console-based logger</span></a><a href="/isolated-workers/api/startup-data-env-key" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">STARTUP_DATA_ENV_KEY</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Environment variable key for startup data</span></a><a href="/isolated-workers/api/startup-data-worker-key" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">STARTUP_DATA_WORKER_KEY</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->workerData key for startup data</span></a><a href="/isolated-workers/api/worker-threads-driver" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsDriver</span><span class="text-gray-500 text-sm truncate flex-1">- <!-- -->Worker threads driver.

Uses worker_threads module with MessagePort for IPC.
Supports SharedArrayBuffer for shared memory.</span></a><a href="/isolated-workers/api/worker-threads-driver-options" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsDriverOptions</span></a><a href="/isolated-workers/api/worker-threads-resource-limits" class="flex items-center gap-3 p-3 rounded-lg bg-tertiary/30 hover:bg-tertiary/50 border border-transparent hover:border-neon-cyan/30 transition-all group"><span class="w-6 h-6 flex items-center justify-center rounded text-sm font-mono font-bold text-neon-yellow">V</span><span class="font-mono text-gray-100 group-hover:text-neon-cyan transition-colors">WorkerThreadsResourceLimits</span></a></div></div></div></section></div></div></div></main></div></div><div class="fixed bottom-4 right-4 z-50"><div class="relative "><button class="p-2 rounded-lg bg-tertiary/50 border border-tertiary hover:border-neon-cyan/50 transition-colors" title="Toggle visual effects" aria-label="Toggle visual effects menu"><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg></button></div></div></div></div>
        
        <script id="vike_pageContext" type="application/json">{"pageId":"\\/pages\\/api","routeParams":{},"data":{"type":"landing","api":{"modules":{"core":{"name":"core","slug":"core","path":"\\/api\\/core","exports":[{"name":"BuiltInTimeoutKey","slug":"built-in-timeout-key","path":"\\/api\\/built-in-timeout-key","module":"core","kind":"type","comment":{"summary":"Built-in timeout keys for worker lifecycle events"},"description":"Built-in timeout keys for worker lifecycle events","category":"!undefined","signature":"type BuiltInTimeoutKey = \"WORKER_STARTUP\" | \"WORKER_MESSAGE\" | \"SERVER_CONNECT\""},{"name":"ChildProcessCapabilities","slug":"child-process-capabilities","path":"\\/api\\/child-process-capabilities","module":"core","kind":"interface","comment":{"summary":"Capability type for child_process driver.\n\nChild process workers support reconnection and detaching,\nbut cannot use SharedArrayBuffer across the IPC boundary."},"description":"Capability type for child_process driver.\n\nChild process workers support reconnection and detaching,\nbut cannot use SharedArrayBuffer across the IPC boundary.","category":"Drivers","properties":[{"name":"detach","type":"true","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"true","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"false","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface ChildProcessCapabilities extends DriverCapabilities"},{"name":"ChildProcessChannel","slug":"child-process-channel","path":"\\/api\\/child-process-channel","module":"core","kind":"class","comment":{"summary":"Channel implementation for child process driver.\n\nWraps a Connection and ChildProcess, providing the DriverChannel interface\nwith optional reconnect and detach capabilities."},"description":"Channel implementation for child process driver.\n\nWraps a Connection and ChildProcess, providing the DriverChannel interface\nwith optional reconnect and detach capabilities.","category":"!undefined","methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"disconnect","signature":"disconnect(): Promise\u003cvoid>","description":"Disconnect from worker but keep process alive","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"reconnect","signature":"reconnect(): Promise\u003cvoid>","description":"Reconnect to existing worker","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"class ChildProcessChannel"},{"name":"ChildProcessDriver","slug":"child-process-driver","path":"\\/api\\/child-process-driver","module":"core","kind":"variable","comment":{"summary":"Child process driver.\n\nUses child_process.fork() with Unix domain sockets for IPC.\nSupports disconnect\\/reconnect and detached workers.","examples":["import { ChildProcessDriver } from 'isolated-workers\\/drivers\\/child-process';\n\n\\/\\/ Host side: spawn a worker\nconst channel = await ChildProcessDriver.spawn('.\\/worker.js', {\n  detached: false,\n  timeout: 10000,\n});\n\n\\/\\/ Worker side: create server\nconst server = await ChildProcessDriver.createServer();"]},"description":"Child process driver.\n\nUses child_process.fork() with Unix domain sockets for IPC.\nSupports disconnect\\/reconnect and detached workers.","category":"!undefined","signature":"type ChildProcessDriver = { detached: false; name: \"child_process\"; createServer: unknown; disconnect: unknown; getStartupData: unknown; reconnect: unknown; spawn: unknown } & { capabilities: InferCapabilities\u003c{ detached: false; name: \"child_process\"; createServer: unknown; disconnect: unknown; getStartupData: unknown; reconnect: unknown; spawn: unknown }> }"},{"name":"ChildProcessDriverOptions","slug":"child-process-driver-options","path":"\\/api\\/child-process-driver-options","module":"core","kind":"variable","comment":"!undefined","description":"!undefined","category":"!undefined"},{"name":"ChildProcessDriverOptions","slug":"child-process-driver-options","path":"\\/api\\/child-process-driver-options","module":"core","kind":"interface","comment":{"summary":"Options for child process driver spawn"},"description":"Options for child process driver spawn","category":"!undefined","properties":[{"name":"detached","type":"boolean","description":"Whether to detach the worker process","optional":true,"readonly":"!undefined"},{"name":"env","type":"Record\u003cstring, string>","description":"Environment variables to pass to worker","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for driver operations","optional":true,"readonly":"!undefined"},{"name":"maxDelay","type":"number","description":"Maximum retry delay cap (default: 5000)","optional":true,"readonly":"!undefined"},{"name":"maxRetries","type":"number","description":"Maximum connection retry attempts (default: 5)","optional":true,"readonly":"!undefined"},{"name":"onShutdown","type":"(reason: ShutdownReason) => void","description":"Shutdown handler callback","optional":true,"readonly":"!undefined"},{"name":"retryDelay","type":"number","description":"Retry delay in ms (default: 100)","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match worker side)","optional":true,"readonly":"!undefined"},{"name":"serverConnectTimeout","type":"number","description":"Server connect timeout passed to worker (default: 30000)","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Override socket path (auto-generated if not provided)","optional":true,"readonly":"!undefined"},{"name":"spawnOptions","type":"SpawnOptions","description":"Additional spawn options","optional":true,"readonly":"!undefined"},{"name":"timeout","type":"number","description":"Connection timeout in ms (default: 10000)","optional":true,"readonly":"!undefined"}],"signature":"interface ChildProcessDriverOptions"},{"name":"ChildProcessDriverType","slug":"child-process-driver-type","path":"\\/api\\/child-process-driver-type","module":"core","kind":"type","comment":{"summary":"Type of the ChildProcessDriver"},"description":"Type of the ChildProcessDriver","category":"!undefined","signature":"type ChildProcessDriverType = typeof unknown"},{"name":"ChildProcessServerChannel","slug":"child-process-server-channel","path":"\\/api\\/child-process-server-channel","module":"core","kind":"class","comment":{"summary":"Child process server channel implementation.\n\nWraps a net.Server and provides the ServerChannel interface."},"description":"Child process server channel implementation.\n\nWraps a net.Server and provides the ServerChannel interface.","category":"!undefined","methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: ResponseFunction) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: ResponseFunction) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"start","signature":"start(hostConnectTimeout: number): Promise\u003cvoid>","description":"Start listening for connections from the host","parameters":[{"name":"hostConnectTimeout","type":"number","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"class ChildProcessServerChannel"},{"name":"ChildProcessStartupData","slug":"child-process-startup-data","path":"\\/api\\/child-process-startup-data","module":"core","kind":"interface","comment":{"summary":"Startup data specific to child_process driver.\n\nExtends the base StartupData with child_process-specific fields."},"description":"Startup data specific to child_process driver.\n\nExtends the base StartupData with child_process-specific fields.","category":"!undefined","properties":[{"name":"driver","type":"\"child_process\"","description":"Driver identifier - always 'child_process' for this driver","optional":"!undefined","readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Socket path for IPC communication (required for child_process)","optional":"!undefined","readonly":"!undefined"}],"signature":"interface ChildProcessStartupData extends StartupData"},{"name":"Connection","slug":"connection","path":"\\/api\\/connection","module":"core","kind":"interface","comment":{"summary":"Active connection interface"},"description":"Active connection interface","category":"!undefined","properties":[{"name":"isConnected","type":"boolean","description":"Whether the connection is active","optional":"!undefined","readonly":"!undefined"},{"name":"socket","type":"Socket","description":"Underlying socket","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the connection","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: TypedResult) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: TypedResult) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: TypedMessage\u003cT>): Promise\u003cvoid>","description":"Send a message through the connection","parameters":[{"name":"message","type":"TypedMessage\u003cT>","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"interface Connection"},{"name":"ConnectionOptions","slug":"connection-options","path":"\\/api\\/connection-options","module":"core","kind":"interface","comment":{"summary":"Connection options"},"description":"Connection options","category":"!undefined","properties":[{"name":"logger","type":"Logger","description":"Custom logger","optional":true,"readonly":"!undefined"},{"name":"maxDelay","type":"number","description":"Maximum delay cap in ms (default: 5000)","optional":true,"readonly":"!undefined"},{"name":"maxRetries","type":"number","description":"Maximum number of retry attempts (default: 5)","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Per-instance middleware pipeline","optional":true,"readonly":"!undefined"},{"name":"reconnect","type":"boolean","description":"Whether to enable reconnection (default: false)","optional":true,"readonly":"!undefined"},{"name":"retryDelay","type":"number | (attempt: number) => number","description":"Base delay in ms between retries, or custom delay function (default: 100)","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Socket path to connect to","optional":"!undefined","readonly":"!undefined"},{"name":"timeout","type":"number","description":"Connection timeout in ms (default: 10000)","optional":true,"readonly":"!undefined"}],"signature":"interface ConnectionOptions\u003cTDefs>"},{"name":"createServer","slug":"create-server","path":"\\/api\\/create-server","module":"core","kind":"function","comment":{"summary":"Create a child process server for worker-side communication.\n\nThis function takes startup data to determine the socket path and configuration,\nthen creates a server listening for host connections.","examples":["import { getStartupData } from '..\\/startup.js';\nimport { createServer } from '.\\/child-process\\/server.js';\n\nconst startupData = getStartupData();\nconst server = await createServer(startupData);\n\nserver.onMessage(async (message, respond) => {\n  console.log('Received:', message);\n  await respond({\n    tx: message.tx,\n    type: message.type,\n    payload: { result: 'ok' },\n  });\n});"]},"description":"Create a child process server for worker-side communication.\n\nThis function takes startup data to determine the socket path and configuration,\nthen creates a server listening for host connections.","category":"!undefined","parameters":[{"name":"startupData","type":"ChildProcessStartupData","description":"Startup data from the host process","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ServerOptions","description":"Server options (overrides startup data if provided)","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cChildProcessServerChannel>","signature":"function createServer(startupData: ChildProcessStartupData, options: ServerOptions): Promise\u003cChildProcessServerChannel>"},{"name":"createServer","slug":"create-server","path":"\\/api\\/create-server","module":"core","kind":"function","comment":{"summary":"Create a worker threads server for worker-side communication.\n\nThis function uses parentPort from worker_threads to establish\ncommunication with the host process.","examples":["import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\nconst startupData = WorkerThreadsDriver.getStartupData();\nconst server = createServer(startupData);\n\nserver.onMessage(async (message, respond) => {\n  console.log('Received:', message);\n  await respond({\n    tx: message.tx,\n    type: message.type,\n    payload: { result: 'ok' },\n  });\n});\n\nserver.start();"]},"description":"Create a worker threads server for worker-side communication.\n\nThis function uses parentPort from worker_threads to establish\ncommunication with the host process.","category":"!undefined","parameters":[{"name":"startupData","type":"WorkerThreadsStartupData","description":"Startup data from the host process","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ServerOptions","description":"Server options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cWorkerThreadsServerChannel>","signature":"function createServer(startupData: WorkerThreadsStartupData, options: ServerOptions): Promise\u003cWorkerThreadsServerChannel>"},{"name":"createWorker","slug":"create-worker","path":"\\/api\\/create-worker","module":"core","kind":"function","comment":{"summary":"Create a worker process with type-safe messaging.\n\nBy default, uses the child_process driver which spawns a separate Node.js process\nand communicates via Unix domain sockets (or named pipes on Windows).\n\nYou can pass a different driver for alternative backends:\n- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)","examples":["const worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n});","import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\nconst worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n  driver: new WorkerThreadsDriver(),\n});"]},"description":"Create a worker process with type-safe messaging.\n\nBy default, uses the child_process driver which spawns a separate Node.js process\nand communicates via Unix domain sockets (or named pipes on Windows).\n\nYou can pass a different driver for alternative backends:\n- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)","category":"Core","parameters":[{"name":"options","type":"WorkerOptions\u003cTMessages, TDriver>","description":"Worker options including script path and optional driver","optional":"!undefined","defaultValue":"!undefined"}],"returnType":"Promise\u003cWorkerClient\u003cTMessages, TDriver extends Driver\u003cC, unknown> ? C : DriverCapabilities>>","signature":"function createWorker(options: WorkerOptions\u003cTMessages, TDriver>): Promise\u003cWorkerClient\u003cTMessages, TDriver extends Driver\u003cC, unknown> ? C : DriverCapabilities>>"},{"name":"DEFAULT_SERVER_CONNECT_TIMEOUT","slug":"default-server-connect-timeout","path":"\\/api\\/default-server-connect-timeout","module":"core","kind":"variable","comment":{"summary":"Default server connect timeout (30 seconds)"},"description":"Default server connect timeout (30 seconds)","category":"!undefined","signature":"type DEFAULT_SERVER_CONNECT_TIMEOUT = 30000"},{"name":"DetachCapability","slug":"detach-capability","path":"\\/api\\/detach-capability","module":"core","kind":"interface","comment":{"summary":"Detach capability mixin.\n\nChannels that support detaching expose this to indicate\nwhether the worker is running detached from the parent."},"description":"Detach capability mixin.\n\nChannels that support detaching expose this to indicate\nwhether the worker is running detached from the parent.","category":"!undefined","properties":[{"name":"detached","type":"boolean","description":"Whether the worker is detached","optional":"!undefined","readonly":true}],"signature":"interface DetachCapability"},{"name":"Driver","slug":"driver","path":"\\/api\\/driver","module":"core","kind":"interface","comment":{"summary":"Driver interface for spawning workers.\n\nDrivers implement this interface to provide different worker\ncommunication backends.","examples":["const childProcessDriver: Driver\u003cChildProcessCapabilities, ChildProcessOptions> = {\n  name: 'child_process',\n  capabilities: { reconnect: true, detach: true, sharedMemory: false },\n  spawn: async (script, options) => { ... }\n};"]},"description":"Driver interface for spawning workers.\n\nDrivers implement this interface to provide different worker\ncommunication backends.","category":"Drivers","properties":[{"name":"capabilities","type":"TCapabilities","description":"Driver capabilities","optional":"!undefined","readonly":true},{"name":"name","type":"string","description":"Driver identifier","optional":"!undefined","readonly":true}],"methods":[{"name":"spawn","signature":"spawn(script: string, options: TOptions): Promise\u003cDriverChannel>","description":"Spawn a worker and return communication channel","parameters":[{"name":"script","type":"string","description":"!undefined","optional":"!undefined"},{"name":"options","type":"TOptions","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cDriverChannel>"}],"signature":"interface Driver\u003cTCapabilities, TOptions>"},{"name":"DriverCapabilities","slug":"driver-capabilities","path":"\\/api\\/driver-capabilities","module":"core","kind":"interface","comment":{"summary":"Driver capability flags.\n\nThese flags indicate what features a driver supports,\nallowing higher-level code to make decisions based on\navailable capabilities."},"description":"Driver capability flags.\n\nThese flags indicate what features a driver supports,\nallowing higher-level code to make decisions based on\navailable capabilities.","category":"Drivers","properties":[{"name":"detach","type":"boolean","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"boolean","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"boolean","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface DriverCapabilities"},{"name":"DriverChannel","slug":"driver-channel","path":"\\/api\\/driver-channel","module":"core","kind":"interface","comment":{"summary":"Communication channel returned by driver spawn.\n\nThe channel provides a unified interface for sending messages,\nhandling events, and managing the connection lifecycle."},"description":"Communication channel returned by driver spawn.\n\nThe channel provides a unified interface for sending messages,\nhandling events, and managing the connection lifecycle.","category":"!undefined","properties":[{"name":"isConnected","type":"boolean","description":"Whether the channel is connected","optional":"!undefined","readonly":true},{"name":"pid","type":"number","description":"Process ID (undefined for worker_threads)","optional":"!undefined","readonly":true}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"interface DriverChannel"},{"name":"DriverMessage","slug":"driver-message","path":"\\/api\\/driver-message","module":"core","kind":"interface","comment":{"summary":"Message structure for driver communication.\n\nAll messages sent through the driver layer follow this structure,\nenabling type-safe messaging with transaction tracking."},"description":"Message structure for driver communication.\n\nAll messages sent through the driver layer follow this structure,\nenabling type-safe messaging with transaction tracking.","category":"!undefined","properties":[{"name":"payload","type":"unknown","description":"Message payload data","optional":"!undefined","readonly":"!undefined"},{"name":"tx","type":"string","description":"Transaction ID for request\\/response correlation","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"Message type identifier","optional":"!undefined","readonly":"!undefined"}],"signature":"interface DriverMessage"},{"name":"DriverOptionsFor","slug":"driver-options-for","path":"\\/api\\/driver-options-for","module":"core","kind":"type","comment":{"summary":"Driver-specific options mapping"},"description":"Driver-specific options mapping","category":"!undefined","signature":"type DriverOptionsFor = TDriver extends Driver\u003cChildProcessCapabilities> ? ChildProcessDriverOptions : TDriver extends Driver\u003cWorkerThreadsCapabilities> ? WorkerThreadsDriverOptions : Record\u003cstring, unknown>"},{"name":"encodeStartupData","slug":"encode-startup-data","path":"\\/api\\/encode-startup-data","module":"core","kind":"function","comment":{"summary":"Encode startup data for passing to child_process via environment variable."},"description":"Encode startup data for passing to child_process via environment variable.","category":"!undefined","parameters":[{"name":"data","type":"StartupData","description":"The startup data to encode","optional":"!undefined","defaultValue":"!undefined"}],"returnType":"string","signature":"function encodeStartupData(data: StartupData): string"},{"name":"MessageHandler","slug":"message-handler","path":"\\/api\\/message-handler","module":"core","kind":"type","comment":{"summary":"Handler function type for message processing"},"description":"Handler function type for message processing","category":"!undefined","signature":"type MessageHandler = (payload: unknown) => unknown | Promise\u003cunknown>"},{"name":"MiddlewareContext","slug":"middleware-context","path":"\\/api\\/middleware-context","module":"core","kind":"interface","comment":{"summary":"Context passed to middleware functions","deprecated":"Use Middleware\u003cTDefs> from types instead"},"description":"Context passed to middleware functions","category":"!undefined","properties":[{"name":"direction","type":"MiddlewareDirection","description":"Direction of message flow","optional":"!undefined","readonly":"!undefined"},{"name":"message","type":"unknown","description":"The message being sent or received","optional":"!undefined","readonly":"!undefined"}],"signature":"interface MiddlewareContext"},{"name":"MiddlewareDirection","slug":"middleware-direction","path":"\\/api\\/middleware-direction","module":"core","kind":"type","comment":{"summary":"Direction for middleware context","deprecated":"Use 'incoming' | 'outgoing' directly"},"description":"Direction for middleware context","category":"!undefined","signature":"type MiddlewareDirection = \"send\" | \"receive\""},{"name":"ReconnectCapability","slug":"reconnect-capability","path":"\\/api\\/reconnect-capability","module":"core","kind":"interface","comment":{"summary":"Reconnect capability mixin.\n\nChannels that support reconnection implement this interface\nto allow disconnecting while keeping the worker alive."},"description":"Reconnect capability mixin.\n\nChannels that support reconnection implement this interface\nto allow disconnecting while keeping the worker alive.","category":"!undefined","methods":[{"name":"disconnect","signature":"disconnect(): Promise\u003cvoid>","description":"Disconnect from worker but keep process alive","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"reconnect","signature":"reconnect(): Promise\u003cvoid>","description":"Reconnect to existing worker","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface ReconnectCapability"},{"name":"ResponseFunction","slug":"response-function","path":"\\/api\\/response-function","module":"core","kind":"type","comment":{"summary":"Function to send a response back to the host"},"description":"Function to send a response back to the host","category":"!undefined","signature":"type ResponseFunction = (response: DriverMessage) => Promise\u003cvoid>"},{"name":"ResponseFunction","slug":"response-function","path":"\\/api\\/response-function","module":"core","kind":"type","comment":{"summary":"Function to send a response back to the host"},"description":"Function to send a response back to the host","category":"!undefined","signature":"type ResponseFunction = (response: DriverMessage) => Promise\u003cvoid>"},{"name":"ServerChannel","slug":"server-channel","path":"\\/api\\/server-channel","module":"core","kind":"interface","comment":{"summary":"Server channel interface for worker-side communication."},"description":"Server channel interface for worker-side communication.","category":"!undefined","properties":[{"name":"isRunning","type":"boolean","description":"Whether the server is running","optional":"!undefined","readonly":true},{"name":"socketPath","type":"string","description":"Socket path the server is listening on (empty for worker_threads)","optional":"!undefined","readonly":true}],"methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: (response: DriverMessage) => Promise\u003cvoid>) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: (response: DriverMessage) => Promise\u003cvoid>) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface ServerChannel"},{"name":"ServerDriver","slug":"server-driver","path":"\\/api\\/server-driver","module":"core","kind":"interface","comment":{"summary":"Driver interface for server-side usage.\n\nThis is a minimal interface that drivers must satisfy for use with\nstartWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver\nsatisfy this interface."},"description":"Driver interface for server-side usage.\n\nThis is a minimal interface that drivers must satisfy for use with\nstartWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver\nsatisfy this interface.","category":"!undefined","properties":[{"name":"name","type":"string","description":"Driver identifier","optional":"!undefined","readonly":true}],"methods":[{"name":"createServer","signature":"createServer(options: ServerOptions): ServerChannel | Promise\u003cServerChannel>","description":"Create server channel","parameters":[{"name":"options","type":"ServerOptions","description":"!undefined","optional":"!undefined"}],"returnType":"ServerChannel | Promise\u003cServerChannel>"},{"name":"getStartupData","signature":"getStartupData(): unknown","description":"Get startup data (throws if not in correct context)","parameters":"!undefined","returnType":"unknown"}],"signature":"interface ServerDriver"},{"name":"ServerOptions","slug":"server-options","path":"\\/api\\/server-options","module":"core","kind":"interface","comment":{"summary":"Options for creating a server channel"},"description":"Options for creating a server channel","category":"!undefined","properties":[{"name":"logger","type":"Logger","description":"Custom logger","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match host!)","optional":true,"readonly":"!undefined"}],"signature":"interface ServerOptions"},{"name":"spawnWorker","slug":"spawn-worker","path":"\\/api\\/spawn-worker","module":"core","kind":"function","comment":{"summary":"Spawn a worker process and establish communication channel."},"description":"Spawn a worker process and establish communication channel.","category":"!undefined","parameters":[{"name":"script","type":"string","description":"Path to the worker script","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ChildProcessDriverOptions","description":"Spawn options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cChildProcessChannel>","signature":"function spawnWorker(script: string, options: ChildProcessDriverOptions): Promise\u003cChildProcessChannel>"},{"name":"spawnWorker","slug":"spawn-worker","path":"\\/api\\/spawn-worker","module":"core","kind":"function","comment":{"summary":"Spawn a worker thread and establish communication channel."},"description":"Spawn a worker thread and establish communication channel.","category":"!undefined","parameters":[{"name":"script","type":"string","description":"Path to the worker script (or code if eval is true)","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"WorkerThreadsDriverOptions","description":"Spawn options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cWorkerThreadsChannel>","signature":"function spawnWorker(script: string, options: WorkerThreadsDriverOptions): Promise\u003cWorkerThreadsChannel>"},{"name":"STARTUP_DATA_ENV_KEY","slug":"startup-data-env-key","path":"\\/api\\/startup-data-env-key","module":"core","kind":"variable","comment":{"summary":"Environment variable key for startup data"},"description":"Environment variable key for startup data","category":"!undefined","signature":"type STARTUP_DATA_ENV_KEY = \"ISOLATED_WORKERS_STARTUP_DATA\""},{"name":"STARTUP_DATA_WORKER_KEY","slug":"startup-data-worker-key","path":"\\/api\\/startup-data-worker-key","module":"core","kind":"variable","comment":{"summary":"workerData key for startup data"},"description":"workerData key for startup data","category":"!undefined","signature":"type STARTUP_DATA_WORKER_KEY = \"__isolatedWorkers\""},{"name":"startWorkerServer","slug":"start-worker-server","path":"\\/api\\/start-worker-server","module":"core","kind":"function","comment":{"summary":"Start a worker server that listens for messages (type-safe version)"},"description":"Start a worker server that listens for messages (type-safe version)","category":"Core","parameters":[{"name":"handlers","type":"Handlers\u003cTDefs>","description":"Map of typed message handlers","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"WorkerServerOptions\u003cTDefs>","description":"Server options","optional":true,"defaultValue":"!undefined"}],"returnType":"Promise\u003cWorkerServer>","signature":"function startWorkerServer(handlers: Handlers\u003cTDefs>, options?: WorkerServerOptions\u003cTDefs>): Promise\u003cWorkerServer>"},{"name":"TimeoutConfig","slug":"timeout-config","path":"\\/api\\/timeout-config","module":"core","kind":"type","comment":{"summary":"Timeout configuration allowing per-message-type timeouts.\n\nBuilt-in keys:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n\nYou can also specify timeouts for specific message types by their key name.\nMessage-specific timeouts take precedence over WORKER_MESSAGE.","examples":["const worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n  timeout: {\n    WORKER_STARTUP: 5000,        \\/\\/ 5s startup\n    SERVER_CONNECT: 10000,       \\/\\/ 10s for server to wait for host\n    WORKER_MESSAGE: 60000,       \\/\\/ 1min default for messages\n    'slowOperation': 600000,     \\/\\/ 10min for specific message type\n  }\n});"]},"description":"Timeout configuration allowing per-message-type timeouts.\n\nBuilt-in keys:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n\nYou can also specify timeouts for specific message types by their key name.\nMessage-specific timeouts take precedence over WORKER_MESSAGE.","category":"!undefined","signature":"type TimeoutConfig = Partial\u003cRecord\u003cBuiltInTimeoutKey | keyof TDefs, number>>"},{"name":"TypedMessage","slug":"typed-message","path":"\\/api\\/typed-message","module":"core","kind":"interface","comment":{"summary":"Message with type discriminator"},"description":"Message with type discriminator","category":"!undefined","properties":[{"name":"payload","type":"T","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"}],"signature":"interface TypedMessage\u003cT> extends BaseMessage"},{"name":"TypedResult","slug":"typed-result","path":"\\/api\\/typed-result","module":"core","kind":"interface","comment":{"summary":"Result message with type discriminator"},"description":"Result message with type discriminator","category":"!undefined","properties":[{"name":"payload","type":"T","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"}],"signature":"interface TypedResult\u003cT> extends BaseMessage"},{"name":"WorkerClient","slug":"worker-client","path":"\\/api\\/worker-client","module":"core","kind":"interface","comment":{"summary":"Base worker client interface for type-safe messaging.\n\nThe availability of certain methods depends on the driver's capabilities:\n- `disconnect()` \\/ `reconnect()`: Only available with child_process driver\n- `pid`: Returns number for child_process, undefined for worker_threads"},"description":"Base worker client interface for type-safe messaging.\n\nThe availability of certain methods depends on the driver's capabilities:\n- `disconnect()` \\/ `reconnect()`: Only available with child_process driver\n- `pid`: Returns number for child_process, undefined for worker_threads","category":"!undefined","properties":[{"name":"capabilities","type":"TCapabilities","description":"The driver capabilities for this worker","optional":"!undefined","readonly":true},{"name":"disconnect","type":"TCapabilities[\"reconnect\"] extends true ? () => Promise\u003cvoid> : never","description":"Disconnect from worker but keep process alive.\nOnly available when driver supports reconnect capability.","optional":"!undefined","readonly":"!undefined"},{"name":"isActive","type":"boolean","description":"Whether the worker process is active","optional":"!undefined","readonly":"!undefined"},{"name":"isConnected","type":"boolean","description":"Whether connection to worker is active","optional":"!undefined","readonly":"!undefined"},{"name":"pid","type":"number","description":"Process ID of the worker.\nReturns undefined for worker_threads (they share the parent's PID).","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"TCapabilities[\"reconnect\"] extends true ? () => Promise\u003cvoid> : never","description":"Reconnect to existing worker.\nOnly available when driver supports reconnect capability.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the worker gracefully","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"send","signature":"send(type: K, payload: TMessages[K][\"payload\"]): Promise\u003cTMessages[K] extends { result: R } ? R : void>","description":"Send a message and await response","parameters":[{"name":"type","type":"K","description":"!undefined","optional":"!undefined"},{"name":"payload","type":"TMessages[K][\"payload\"]","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cTMessages[K] extends { result: R } ? R : void>"}],"signature":"interface WorkerClient\u003cTMessages, TCapabilities>"},{"name":"WorkerHandler","slug":"worker-handler","path":"\\/api\\/worker-handler","module":"core","kind":"type","comment":{"summary":"Handler function type for worker messages"},"description":"Handler function type for worker messages","category":"!undefined","signature":"type WorkerHandler = (payload: TPayload) => TResult | Promise\u003cTResult>"},{"name":"WorkerHandlers","slug":"worker-handlers","path":"\\/api\\/worker-handlers","module":"core","kind":"type","comment":{"summary":"Collection of handlers for different message types"},"description":"Collection of handlers for different message types","category":"!undefined","signature":"type WorkerHandlers = Record\u003cstring, WorkerHandler>"},{"name":"WorkerOptions","slug":"worker-options","path":"\\/api\\/worker-options","module":"core","kind":"interface","comment":{"summary":"Worker options for spawning"},"description":"Worker options for spawning","category":"!undefined","properties":[{"name":"connection","type":"{ attempts: number; delay: number | (attempt: number) => number; maxDelay: number }","description":"Connection options (child_process driver only).","optional":true,"readonly":"!undefined"},{"name":"debug","type":"boolean","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"detached","type":"boolean","description":"Worker lifecycle options","optional":true,"readonly":"!undefined"},{"name":"driver","type":"TDriver","description":"Driver to use for spawning the worker.\n\nIf not provided, the child_process driver is dynamically loaded.\nPass a driver instance for explicit control over the communication backend.","optional":true,"readonly":"!undefined"},{"name":"driverOptions","type":"Partial\u003cDriverOptionsFor\u003cTDriver>>","description":"Driver-specific options.\n\nThese options are passed directly to the driver's spawn method.\nAvailable options depend on the driver being used.","optional":true,"readonly":"!undefined"},{"name":"env","type":"Record\u003cstring, string>","description":"Environment variables to pass to worker","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Logging options","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Messaging options","optional":true,"readonly":"!undefined"},{"name":"script","type":"string","description":"Path to worker script","optional":"!undefined","readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Advanced options","optional":true,"readonly":"!undefined"},{"name":"spawnOptions","type":"SpawnOptions","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"timeout","type":"number | Partial\u003cRecord\u003cBuiltInTimeoutKey | keyof TDefs, number>>","description":"Timeout configuration for worker operations.\n\nCan be a number (applies to all operations) or an object with per-operation timeouts:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n- `[messageType]`: Timeout for specific message type (overrides WORKER_MESSAGE)","optional":true,"readonly":"!undefined"},{"name":"txIdGenerator","type":"TransactionIdGenerator\u003cTDefs>","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"unexpectedShutdown","type":"UnexpectedShutdownConfig\u003cTDefs>","description":"Unexpected shutdown configuration","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerOptions\u003cTDefs, TDriver>"},{"name":"WorkerServer","slug":"worker-server","path":"\\/api\\/worker-server","module":"core","kind":"interface","comment":{"summary":"Active worker server"},"description":"Active worker server","category":"!undefined","properties":[{"name":"isRunning","type":"boolean","description":"Whether the server is running","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface WorkerServer"},{"name":"WorkerServerOptions","slug":"worker-server-options","path":"\\/api\\/worker-server-options","module":"core","kind":"interface","comment":{"summary":"Server configuration options"},"description":"Server configuration options","category":"!undefined","properties":[{"name":"driver","type":"ServerDriver","description":"Driver to use for server communication.\nDefaults to ChildProcessDriver if not specified.\nMust match the driver used on the host side.","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for server operations","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Middleware pipeline for message processing","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match host!)","optional":true,"readonly":"!undefined"},{"name":"txIdGenerator","type":"TransactionIdGenerator\u003cTDefs>","description":"Custom transaction ID generator","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerServerOptions\u003cTDefs>"},{"name":"WorkerThreadsCapabilities","slug":"worker-threads-capabilities","path":"\\/api\\/worker-threads-capabilities","module":"core","kind":"interface","comment":{"summary":"Capability type for worker_threads driver.\n\nWorker thread workers support SharedArrayBuffer but cannot\nbe reconnected or detached from the parent."},"description":"Capability type for worker_threads driver.\n\nWorker thread workers support SharedArrayBuffer but cannot\nbe reconnected or detached from the parent.","category":"Drivers","properties":[{"name":"detach","type":"false","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"false","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"true","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface WorkerThreadsCapabilities extends DriverCapabilities"},{"name":"WorkerThreadsChannel","slug":"worker-threads-channel","path":"\\/api\\/worker-threads-channel","module":"core","kind":"class","comment":{"summary":"Channel implementation for worker threads driver.\n\nWraps a Worker and provides the DriverChannel interface\nusing MessagePort-based communication."},"description":"Channel implementation for worker threads driver.\n\nWraps a Worker and provides the DriverChannel interface\nusing MessagePort-based communication.","category":"!undefined","methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"class WorkerThreadsChannel"},{"name":"WorkerThreadsDriver","slug":"worker-threads-driver","path":"\\/api\\/worker-threads-driver","module":"core","kind":"variable","comment":{"summary":"Worker threads driver.\n\nUses worker_threads module with MessagePort for IPC.\nSupports SharedArrayBuffer for shared memory.","examples":["import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\n\\/\\/ Host side: spawn a worker\nconst channel = await WorkerThreadsDriver.spawn('.\\/worker.js', {\n  resourceLimits: { maxOldGenerationSizeMb: 128 },\n});\n\n\\/\\/ Worker side: create server\nconst server = WorkerThreadsDriver.createServer();"]},"description":"Worker threads driver.\n\nUses worker_threads module with MessagePort for IPC.\nSupports SharedArrayBuffer for shared memory.","category":"!undefined","signature":"type WorkerThreadsDriver = { name: \"worker_threads\"; createServer: unknown; getStartupData: unknown; spawn: unknown; transferSharedMemory: unknown } & { capabilities: InferCapabilities\u003c{ name: \"worker_threads\"; createServer: unknown; getStartupData: unknown; spawn: unknown; transferSharedMemory: unknown }> }"},{"name":"WorkerThreadsDriverOptions","slug":"worker-threads-driver-options","path":"\\/api\\/worker-threads-driver-options","module":"core","kind":"variable","comment":"!undefined","description":"!undefined","category":"!undefined"},{"name":"WorkerThreadsDriverOptions","slug":"worker-threads-driver-options","path":"\\/api\\/worker-threads-driver-options","module":"core","kind":"interface","comment":{"summary":"Options for worker threads driver spawn"},"description":"Options for worker threads driver spawn","category":"!undefined","properties":[{"name":"argv","type":"string[]","description":"Arguments to pass to the worker script","optional":true,"readonly":"!undefined"},{"name":"eval","type":"boolean","description":"If true, script is treated as JavaScript code instead of a path","optional":true,"readonly":"!undefined"},{"name":"execArgv","type":"string[]","description":"List of node CLI options passed to the worker.\nUseful for loading TypeScript files via tsx:","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for driver operations","optional":true,"readonly":"!undefined"},{"name":"resourceLimits","type":"WorkerThreadsResourceLimits","description":"Resource limits for the worker thread","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match worker side)","optional":true,"readonly":"!undefined"},{"name":"transferList","type":"ArrayBuffer[]","description":"List of transferable objects to transfer to worker","optional":true,"readonly":"!undefined"},{"name":"workerData","type":"unknown","description":"Additional data to pass to worker via workerData","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerThreadsDriverOptions"},{"name":"WorkerThreadsDriverType","slug":"worker-threads-driver-type","path":"\\/api\\/worker-threads-driver-type","module":"core","kind":"type","comment":{"summary":"Type of the WorkerThreadsDriver"},"description":"Type of the WorkerThreadsDriver","category":"!undefined","signature":"type WorkerThreadsDriverType = typeof unknown"},{"name":"WorkerThreadsResourceLimits","slug":"worker-threads-resource-limits","path":"\\/api\\/worker-threads-resource-limits","module":"core","kind":"variable","comment":"!undefined","description":"!undefined","category":"!undefined"},{"name":"WorkerThreadsResourceLimits","slug":"worker-threads-resource-limits","path":"\\/api\\/worker-threads-resource-limits","module":"core","kind":"interface","comment":{"summary":"Resource limits for worker threads"},"description":"Resource limits for worker threads","category":"!undefined","properties":[{"name":"codeRangeSizeMb","type":"number","description":"Size of the pre-allocated code range in MB","optional":true,"readonly":"!undefined"},{"name":"maxOldGenerationSizeMb","type":"number","description":"Maximum size of the old generation heap in MB","optional":true,"readonly":"!undefined"},{"name":"maxYoungGenerationSizeMb","type":"number","description":"Maximum size of the young generation heap in MB","optional":true,"readonly":"!undefined"},{"name":"stackSizeMb","type":"number","description":"Default stack size for the worker thread in KB","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerThreadsResourceLimits"},{"name":"WorkerThreadsServerChannel","slug":"worker-threads-server-channel","path":"\\/api\\/worker-threads-server-channel","module":"core","kind":"class","comment":{"summary":"Worker threads server channel implementation.\n\nWraps parentPort and provides the ServerChannel interface."},"description":"Worker threads server channel implementation.\n\nWraps parentPort and provides the ServerChannel interface.","category":"!undefined","methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: ResponseFunction) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: ResponseFunction) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"start","signature":"start(): void","description":"Start listening for messages from the host","parameters":"!undefined","returnType":"void"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"class WorkerThreadsServerChannel"},{"name":"WorkerThreadsStartupData","slug":"worker-threads-startup-data","path":"\\/api\\/worker-threads-startup-data","module":"core","kind":"interface","comment":{"summary":"Startup data specific to worker_threads driver.\n\nExtends the base StartupData with worker_threads-specific fields."},"description":"Startup data specific to worker_threads driver.\n\nExtends the base StartupData with worker_threads-specific fields.","category":"!undefined","properties":[{"name":"driver","type":"\"worker_threads\"","description":"Driver identifier - always 'worker_threads' for this driver","optional":"!undefined","readonly":"!undefined"}],"signature":"interface WorkerThreadsStartupData extends StartupData"}]},"utils":{"name":"utils","slug":"utils","path":"\\/api\\/utils","exports":[{"name":"defaultLogger","slug":"default-logger","path":"\\/api\\/default-logger","module":"utils","kind":"variable","comment":{"summary":"Default console-based logger"},"description":"Default console-based logger","category":"!undefined","signature":"type defaultLogger = Logger"},{"name":"JsonSerializer","slug":"json-serializer","path":"\\/api\\/json-serializer","module":"utils","kind":"class","comment":{"summary":"Default JSON serializer with newline terminator"},"description":"Default JSON serializer with newline terminator","category":"Serialization","properties":[{"name":"terminator","type":"string","description":"Terminator sequence used to delimit messages in the stream.\nMust be the same on both client and server.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"deserialize","signature":"deserialize(data: string | Uint8Array\u003cArrayBufferLike>): T","description":"Deserialize string or Uint8Array back to data","parameters":[{"name":"data","type":"string | Uint8Array\u003cArrayBufferLike>","description":"!undefined","optional":"!undefined"}],"returnType":"T"},{"name":"serialize","signature":"serialize(data: T): string","description":"Serialize data to string or Uint8Array","parameters":[{"name":"data","type":"T","description":"!undefined","optional":"!undefined"}],"returnType":"string"}],"signature":"class JsonSerializer extends Serializer"},{"name":"Logger","slug":"logger","path":"\\/api\\/logger","module":"utils","kind":"interface","comment":{"summary":"Logger interface - must implement all log level methods"},"description":"Logger interface - must implement all log level methods","category":"!undefined","methods":[{"name":"debug","signature":"debug(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"error","signature":"error(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"info","signature":"info(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"warn","signature":"warn(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"}],"signature":"interface Logger"},{"name":"LogLevel","slug":"log-level","path":"\\/api\\/log-level","module":"utils","kind":"type","comment":{"summary":"Log level enum"},"description":"Log level enum","category":"!undefined","signature":"type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\""},{"name":"Serializer","slug":"serializer","path":"\\/api\\/serializer","module":"utils","kind":"class","comment":{"summary":"Abstract serializer class for custom message serialization.\nIncludes terminator sequence to delimit messages in the stream.\n\nIMPORTANT: Must be a named class (not anonymous) for mismatch detection."},"description":"Abstract serializer class for custom message serialization.\nIncludes terminator sequence to delimit messages in the stream.\n\nIMPORTANT: Must be a named class (not anonymous) for mismatch detection.","category":"Serialization","properties":[{"name":"terminator","type":"string | Uint8Array\u003cArrayBufferLike>","description":"Terminator sequence used to delimit messages in the stream.\nMust be the same on both client and server.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"deserialize","signature":"deserialize(data: string | Uint8Array\u003cArrayBufferLike>): T","description":"Deserialize string or Uint8Array back to data","parameters":[{"name":"data","type":"string | Uint8Array\u003cArrayBufferLike>","description":"!undefined","optional":"!undefined"}],"returnType":"T"},{"name":"serialize","signature":"serialize(data: T): string | Uint8Array\u003cArrayBufferLike>","description":"Serialize data to string or Uint8Array","parameters":[{"name":"data","type":"T","description":"!undefined","optional":"!undefined"}],"returnType":"string | Uint8Array\u003cArrayBufferLike>"}],"signature":"class Serializer"}]},"types":{"name":"types","slug":"types","path":"\\/api\\/types","exports":[{"name":"AllMessages","slug":"all-messages","path":"\\/api\\/all-messages","module":"types","kind":"type","comment":{"summary":"Union of all message types in the definition.","examples":["type AllMsgs = AllMessages\u003cMyMessages>;\n\\/\\/ MessageOf\u003cMyMessages, 'load'> | MessageOf\u003cMyMessages, 'compute'> | ..."]},"description":"Union of all message types in the definition.","category":"!undefined","signature":"type AllMessages = { [key: string]: ... }[keyof TDefs & string]"},{"name":"AllResults","slug":"all-results","path":"\\/api\\/all-results","module":"types","kind":"type","comment":{"summary":"Union of all result types in the definition.","examples":["type AllRes = AllResults\u003cMyMessages>;\n\\/\\/ ResultOf\u003cMyMessages, 'load'> | ResultOf\u003cMyMessages, 'compute'> | ..."]},"description":"Union of all result types in the definition.","category":"!undefined","signature":"type AllResults = { [key: string]: ... }[WithResult\u003cTDefs> & string]"},{"name":"AnyMessage","slug":"any-message","path":"\\/api\\/any-message","module":"types","kind":"type","comment":{"summary":"Union of all message types (requests and responses).\nUse this for middleware, transaction ID generators, and other\nfunctions that handle any message type.","examples":["type MyMessages = DefineMessages\u003c{\n  load: { payload: { config: string }; result: { loaded: true } };\n}>;\n\nfunction middleware(msg: AnyMessage\u003cMyMessages>) {\n  console.log('Handling:', msg.type);\n}"]},"description":"Union of all message types (requests and responses).\nUse this for middleware, transaction ID generators, and other\nfunctions that handle any message type.","category":"!undefined","signature":"type AnyMessage = AllMessages\u003cTDefs> | AllResults\u003cTDefs>"},{"name":"BaseMessage","slug":"base-message","path":"\\/api\\/base-message","module":"types","kind":"interface","comment":{"summary":"Base message with transaction ID for request\\/response pairing"},"description":"Base message with transaction ID for request\\/response pairing","category":"!undefined","properties":[{"name":"tx","type":"string","description":"Transaction ID","optional":"!undefined","readonly":"!undefined"}],"signature":"interface BaseMessage"},{"name":"DefineMessages","slug":"define-messages","path":"\\/api\\/define-messages","module":"types","kind":"type","comment":{"summary":"Type constructor for defining message sets.\n\nUse this to define your worker's message contract with full type safety.","examples":["type MyMessages = DefineMessages\u003c{\n  load: { payload: { config: string }; result: { loaded: true } };\n  compute: { payload: { data: number }; result: { value: number } };\n  shutdown: { payload: void };\n}>;"]},"description":"Type constructor for defining message sets.\n\nUse this to define your worker's message contract with full type safety.","category":"Types","signature":"type DefineMessages = TDefs"},{"name":"Handlers","slug":"handlers","path":"\\/api\\/handlers","module":"types","kind":"type","comment":{"summary":"Handler function type for a message definition.\n\nHandlers receive the payload and return the result (or void if no result).","examples":["const handlers: Handlers\u003cMyMessages> = {\n  load: async (payload) => ({ loaded: true }),\n  shutdown: () => { console.log('bye'); }\n};"]},"description":"Handler function type for a message definition.\n\nHandlers receive the payload and return the result (or void if no result).","category":"Configuration","signature":"type Handlers = { [key: string]: ... }"},{"name":"MaybePromise","slug":"maybe-promise","path":"\\/api\\/maybe-promise","module":"types","kind":"type","comment":{"summary":"Utility type for values that may be promises"},"description":"Utility type for values that may be promises","category":"!undefined","signature":"type MaybePromise = T | Promise\u003cT>"},{"name":"MessageDef","slug":"message-def","path":"\\/api\\/message-def","module":"types","kind":"interface","comment":{"summary":"Message definition shape - each message has a payload and optional result"},"description":"Message definition shape - each message has a payload and optional result","category":"!undefined","properties":[{"name":"payload","type":"unknown","description":"Payload type for the message","optional":"!undefined","readonly":"!undefined"},{"name":"result","type":"unknown","description":"Optional result type (if message expects a response)","optional":true,"readonly":"!undefined"}],"signature":"interface MessageDef"},{"name":"MessageDefs","slug":"message-defs","path":"\\/api\\/message-defs","module":"types","kind":"type","comment":{"summary":"Collection of message definitions"},"description":"Collection of message definitions","category":"!undefined","signature":"type MessageDefs = Record\u003cstring, MessageDef>"},{"name":"MessageOf","slug":"message-of","path":"\\/api\\/message-of","module":"types","kind":"type","comment":{"summary":"Extract the full message type for a given key.","examples":["type LoadMessage = MessageOf\u003cMyMessages, 'load'>;\n\\/\\/ { tx: string; type: 'load'; payload: { config: string } }"]},"description":"Extract the full message type for a given key.","category":"!undefined","signature":"type MessageOf = BaseMessage & { payload: TDefs[K][\"payload\"]; type: K }"},{"name":"MessageResult","slug":"message-result","path":"\\/api\\/message-result","module":"types","kind":"type","comment":{"summary":"Map a message type to its corresponding result type.","examples":["type LoadResponse = MessageResult\u003c'load', MyMessages>;\n\\/\\/ ResultOf\u003cMyMessages, 'load'>"]},"description":"Map a message type to its corresponding result type.","category":"!undefined","signature":"type MessageResult = TMessageType extends WithResult\u003cTDefs> ? ResultOf\u003cTDefs, TMessageType> : never"},{"name":"MessageType","slug":"message-type","path":"\\/api\\/message-type","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type MessageType = keyof TDefs & string"},{"name":"Middleware","slug":"middleware","path":"\\/api\\/middleware","module":"types","kind":"type","comment":{"summary":"Middleware function type for message inspection\\/transformation.\nApplied sequentially in the order provided.\n\nMessages are sealed before being passed to middleware, so you can\nmodify existing properties but cannot add new ones.","examples":["const logMiddleware: Middleware\u003cMyMessages> = (msg, direction) => {\n  console.log(`${direction}:`, msg.type);\n  return msg;\n};"]},"description":"Middleware function type for message inspection\\/transformation.\nApplied sequentially in the order provided.\n\nMessages are sealed before being passed to middleware, so you can\nmodify existing properties but cannot add new ones.","category":"Configuration","signature":"type Middleware = (message: AnyMessage\u003cTDefs>, direction: \"incoming\" | \"outgoing\") => AnyMessage\u003cTDefs> | void | Promise\u003cAnyMessage\u003cTDefs> | void>"},{"name":"PayloadOf","slug":"payload-of","path":"\\/api\\/payload-of","module":"types","kind":"type","comment":{"summary":"Extract the payload type for a given message key."},"description":"Extract the payload type for a given message key.","category":"!undefined","signature":"type PayloadOf = TDefs[K][\"payload\"]"},{"name":"ResultOf","slug":"result-of","path":"\\/api\\/result-of","module":"types","kind":"type","comment":{"summary":"Extract the full result type for a given key.","examples":["type LoadResult = ResultOf\u003cMyMessages, 'load'>;\n\\/\\/ { tx: string; type: 'loadResult'; payload: { loaded: true } }"]},"description":"Extract the full result type for a given key.","category":"!undefined","signature":"type ResultOf = BaseMessage & { payload: TDefs[K] extends { result: unknown } ? TDefs[K][\"result\"] : never; type: string }"},{"name":"ResultPayloadOf","slug":"result-payload-of","path":"\\/api\\/result-payload-of","module":"types","kind":"type","comment":{"summary":"Extract the result type for a given message key."},"description":"Extract the result type for a given message key.","category":"!undefined","signature":"type ResultPayloadOf = TDefs[K] extends { result: unknown } ? TDefs[K][\"result\"] : never"},{"name":"ShutdownReason","slug":"shutdown-reason","path":"\\/api\\/shutdown-reason","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type ShutdownReason = { code: number | null; signal: string | null; type: \"exit\" } | { error: Error; type: \"error\" } | { type: \"close\" }"},{"name":"TransactionIdGenerator","slug":"transaction-id-generator","path":"\\/api\\/transaction-id-generator","module":"types","kind":"type","comment":{"summary":"Transaction ID generator function type.\nReceives a message and returns a unique transaction ID string.","examples":["const customGen: TransactionIdGenerator\u003cMyMessages> = (msg) => {\n  return `${msg.type}-${Date.now()}`;\n};"]},"description":"Transaction ID generator function type.\nReceives a message and returns a unique transaction ID string.","category":"!undefined","signature":"type TransactionIdGenerator = (message: AnyMessage\u003cTDefs>) => string"},{"name":"UnexpectedShutdownConfig","slug":"unexpected-shutdown-config","path":"\\/api\\/unexpected-shutdown-config","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type UnexpectedShutdownConfig = UnexpectedShutdownStrategy & { [key: string]: ... }"},{"name":"UnexpectedShutdownStrategy","slug":"unexpected-shutdown-strategy","path":"\\/api\\/unexpected-shutdown-strategy","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type UnexpectedShutdownStrategy = { strategy: \"reject\" } | { attempts: number; strategy: \"retry\" }"},{"name":"WithResult","slug":"with-result","path":"\\/api\\/with-result","module":"types","kind":"type","comment":{"summary":"Extract keys that have a result defined.","examples":["type Messages = DefineMessages\u003c{\n  load: { payload: {}; result: {} };  \\/\\/ Has result\n  shutdown: { payload: {} };          \\/\\/ No result\n}>;\ntype WithRes = WithResult\u003cMessages>; \\/\\/ 'load'"]},"description":"Extract keys that have a result defined.","category":"Types","signature":"type WithResult = { [key: string]: ... }[keyof TDefs]"},{"name":"WorkerCrashedError","slug":"worker-crashed-error","path":"\\/api\\/worker-crashed-error","module":"types","kind":"class","comment":"!undefined","description":"!undefined","category":"!undefined","properties":[{"name":"attempt","type":"number","description":"!undefined","optional":"!undefined","readonly":true},{"name":"maxAttempts","type":"number","description":"!undefined","optional":"!undefined","readonly":true},{"name":"messageType","type":"string","description":"!undefined","optional":"!undefined","readonly":true},{"name":"name","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"reason","type":"ShutdownReason","description":"!undefined","optional":"!undefined","readonly":true}],"signature":"class WorkerCrashedError extends Error"}]}},"exports":{"child-process-channel":{"name":"ChildProcessChannel","slug":"child-process-channel","path":"\\/api\\/child-process-channel","module":"core","kind":"class","comment":{"summary":"Channel implementation for child process driver.\n\nWraps a Connection and ChildProcess, providing the DriverChannel interface\nwith optional reconnect and detach capabilities."},"description":"Channel implementation for child process driver.\n\nWraps a Connection and ChildProcess, providing the DriverChannel interface\nwith optional reconnect and detach capabilities.","category":"!undefined","methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"disconnect","signature":"disconnect(): Promise\u003cvoid>","description":"Disconnect from worker but keep process alive","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"reconnect","signature":"reconnect(): Promise\u003cvoid>","description":"Reconnect to existing worker","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"class ChildProcessChannel"},"child-process-server-channel":{"name":"ChildProcessServerChannel","slug":"child-process-server-channel","path":"\\/api\\/child-process-server-channel","module":"core","kind":"class","comment":{"summary":"Child process server channel implementation.\n\nWraps a net.Server and provides the ServerChannel interface."},"description":"Child process server channel implementation.\n\nWraps a net.Server and provides the ServerChannel interface.","category":"!undefined","methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: ResponseFunction) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: ResponseFunction) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"start","signature":"start(hostConnectTimeout: number): Promise\u003cvoid>","description":"Start listening for connections from the host","parameters":[{"name":"hostConnectTimeout","type":"number","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"class ChildProcessServerChannel"},"child-process-startup-data":{"name":"ChildProcessStartupData","slug":"child-process-startup-data","path":"\\/api\\/child-process-startup-data","module":"core","kind":"interface","comment":{"summary":"Startup data specific to child_process driver.\n\nExtends the base StartupData with child_process-specific fields."},"description":"Startup data specific to child_process driver.\n\nExtends the base StartupData with child_process-specific fields.","category":"!undefined","properties":[{"name":"driver","type":"\"child_process\"","description":"Driver identifier - always 'child_process' for this driver","optional":"!undefined","readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Socket path for IPC communication (required for child_process)","optional":"!undefined","readonly":"!undefined"}],"signature":"interface ChildProcessStartupData extends StartupData"},"child-process-driver-type":{"name":"ChildProcessDriverType","slug":"child-process-driver-type","path":"\\/api\\/child-process-driver-type","module":"core","kind":"type","comment":{"summary":"Type of the ChildProcessDriver"},"description":"Type of the ChildProcessDriver","category":"!undefined","signature":"type ChildProcessDriverType = typeof unknown"},"response-function":{"name":"ResponseFunction","slug":"response-function","path":"\\/api\\/response-function","module":"core","kind":"type","comment":{"summary":"Function to send a response back to the host"},"description":"Function to send a response back to the host","category":"!undefined","signature":"type ResponseFunction = (response: DriverMessage) => Promise\u003cvoid>"},"child-process-driver":{"name":"ChildProcessDriver","slug":"child-process-driver","path":"\\/api\\/child-process-driver","module":"core","kind":"variable","comment":{"summary":"Child process driver.\n\nUses child_process.fork() with Unix domain sockets for IPC.\nSupports disconnect\\/reconnect and detached workers.","examples":["import { ChildProcessDriver } from 'isolated-workers\\/drivers\\/child-process';\n\n\\/\\/ Host side: spawn a worker\nconst channel = await ChildProcessDriver.spawn('.\\/worker.js', {\n  detached: false,\n  timeout: 10000,\n});\n\n\\/\\/ Worker side: create server\nconst server = await ChildProcessDriver.createServer();"]},"description":"Child process driver.\n\nUses child_process.fork() with Unix domain sockets for IPC.\nSupports disconnect\\/reconnect and detached workers.","category":"!undefined","signature":"type ChildProcessDriver = { detached: false; name: \"child_process\"; createServer: unknown; disconnect: unknown; getStartupData: unknown; reconnect: unknown; spawn: unknown } & { capabilities: InferCapabilities\u003c{ detached: false; name: \"child_process\"; createServer: unknown; disconnect: unknown; getStartupData: unknown; reconnect: unknown; spawn: unknown }> }"},"default-server-connect-timeout":{"name":"DEFAULT_SERVER_CONNECT_TIMEOUT","slug":"default-server-connect-timeout","path":"\\/api\\/default-server-connect-timeout","module":"core","kind":"variable","comment":{"summary":"Default server connect timeout (30 seconds)"},"description":"Default server connect timeout (30 seconds)","category":"!undefined","signature":"type DEFAULT_SERVER_CONNECT_TIMEOUT = 30000"},"startup-data-env-key":{"name":"STARTUP_DATA_ENV_KEY","slug":"startup-data-env-key","path":"\\/api\\/startup-data-env-key","module":"core","kind":"variable","comment":{"summary":"Environment variable key for startup data"},"description":"Environment variable key for startup data","category":"!undefined","signature":"type STARTUP_DATA_ENV_KEY = \"ISOLATED_WORKERS_STARTUP_DATA\""},"create-server":{"name":"createServer","slug":"create-server","path":"\\/api\\/create-server","module":"core","kind":"function","comment":{"summary":"Create a worker threads server for worker-side communication.\n\nThis function uses parentPort from worker_threads to establish\ncommunication with the host process.","examples":["import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\nconst startupData = WorkerThreadsDriver.getStartupData();\nconst server = createServer(startupData);\n\nserver.onMessage(async (message, respond) => {\n  console.log('Received:', message);\n  await respond({\n    tx: message.tx,\n    type: message.type,\n    payload: { result: 'ok' },\n  });\n});\n\nserver.start();"]},"description":"Create a worker threads server for worker-side communication.\n\nThis function uses parentPort from worker_threads to establish\ncommunication with the host process.","category":"!undefined","parameters":[{"name":"startupData","type":"WorkerThreadsStartupData","description":"Startup data from the host process","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ServerOptions","description":"Server options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cWorkerThreadsServerChannel>","signature":"function createServer(startupData: WorkerThreadsStartupData, options: ServerOptions): Promise\u003cWorkerThreadsServerChannel>"},"encode-startup-data":{"name":"encodeStartupData","slug":"encode-startup-data","path":"\\/api\\/encode-startup-data","module":"core","kind":"function","comment":{"summary":"Encode startup data for passing to child_process via environment variable."},"description":"Encode startup data for passing to child_process via environment variable.","category":"!undefined","parameters":[{"name":"data","type":"StartupData","description":"The startup data to encode","optional":"!undefined","defaultValue":"!undefined"}],"returnType":"string","signature":"function encodeStartupData(data: StartupData): string"},"spawn-worker":{"name":"spawnWorker","slug":"spawn-worker","path":"\\/api\\/spawn-worker","module":"core","kind":"function","comment":{"summary":"Spawn a worker thread and establish communication channel."},"description":"Spawn a worker thread and establish communication channel.","category":"!undefined","parameters":[{"name":"script","type":"string","description":"Path to the worker script (or code if eval is true)","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"WorkerThreadsDriverOptions","description":"Spawn options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cWorkerThreadsChannel>","signature":"function spawnWorker(script: string, options: WorkerThreadsDriverOptions): Promise\u003cWorkerThreadsChannel>"},"child-process-driver-options":{"name":"ChildProcessDriverOptions","slug":"child-process-driver-options","path":"\\/api\\/child-process-driver-options","module":"core","kind":"interface","comment":{"summary":"Options for child process driver spawn"},"description":"Options for child process driver spawn","category":"!undefined","properties":[{"name":"detached","type":"boolean","description":"Whether to detach the worker process","optional":true,"readonly":"!undefined"},{"name":"env","type":"Record\u003cstring, string>","description":"Environment variables to pass to worker","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for driver operations","optional":true,"readonly":"!undefined"},{"name":"maxDelay","type":"number","description":"Maximum retry delay cap (default: 5000)","optional":true,"readonly":"!undefined"},{"name":"maxRetries","type":"number","description":"Maximum connection retry attempts (default: 5)","optional":true,"readonly":"!undefined"},{"name":"onShutdown","type":"(reason: ShutdownReason) => void","description":"Shutdown handler callback","optional":true,"readonly":"!undefined"},{"name":"retryDelay","type":"number","description":"Retry delay in ms (default: 100)","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match worker side)","optional":true,"readonly":"!undefined"},{"name":"serverConnectTimeout","type":"number","description":"Server connect timeout passed to worker (default: 30000)","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Override socket path (auto-generated if not provided)","optional":true,"readonly":"!undefined"},{"name":"spawnOptions","type":"SpawnOptions","description":"Additional spawn options","optional":true,"readonly":"!undefined"},{"name":"timeout","type":"number","description":"Connection timeout in ms (default: 10000)","optional":true,"readonly":"!undefined"}],"signature":"interface ChildProcessDriverOptions"},"worker-threads-channel":{"name":"WorkerThreadsChannel","slug":"worker-threads-channel","path":"\\/api\\/worker-threads-channel","module":"core","kind":"class","comment":{"summary":"Channel implementation for worker threads driver.\n\nWraps a Worker and provides the DriverChannel interface\nusing MessagePort-based communication."},"description":"Channel implementation for worker threads driver.\n\nWraps a Worker and provides the DriverChannel interface\nusing MessagePort-based communication.","category":"!undefined","methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"class WorkerThreadsChannel"},"worker-threads-server-channel":{"name":"WorkerThreadsServerChannel","slug":"worker-threads-server-channel","path":"\\/api\\/worker-threads-server-channel","module":"core","kind":"class","comment":{"summary":"Worker threads server channel implementation.\n\nWraps parentPort and provides the ServerChannel interface."},"description":"Worker threads server channel implementation.\n\nWraps parentPort and provides the ServerChannel interface.","category":"!undefined","methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: ResponseFunction) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: ResponseFunction) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"start","signature":"start(): void","description":"Start listening for messages from the host","parameters":"!undefined","returnType":"void"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"class WorkerThreadsServerChannel"},"worker-threads-startup-data":{"name":"WorkerThreadsStartupData","slug":"worker-threads-startup-data","path":"\\/api\\/worker-threads-startup-data","module":"core","kind":"interface","comment":{"summary":"Startup data specific to worker_threads driver.\n\nExtends the base StartupData with worker_threads-specific fields."},"description":"Startup data specific to worker_threads driver.\n\nExtends the base StartupData with worker_threads-specific fields.","category":"!undefined","properties":[{"name":"driver","type":"\"worker_threads\"","description":"Driver identifier - always 'worker_threads' for this driver","optional":"!undefined","readonly":"!undefined"}],"signature":"interface WorkerThreadsStartupData extends StartupData"},"worker-threads-driver-type":{"name":"WorkerThreadsDriverType","slug":"worker-threads-driver-type","path":"\\/api\\/worker-threads-driver-type","module":"core","kind":"type","comment":{"summary":"Type of the WorkerThreadsDriver"},"description":"Type of the WorkerThreadsDriver","category":"!undefined","signature":"type WorkerThreadsDriverType = typeof unknown"},"startup-data-worker-key":{"name":"STARTUP_DATA_WORKER_KEY","slug":"startup-data-worker-key","path":"\\/api\\/startup-data-worker-key","module":"core","kind":"variable","comment":{"summary":"workerData key for startup data"},"description":"workerData key for startup data","category":"!undefined","signature":"type STARTUP_DATA_WORKER_KEY = \"__isolatedWorkers\""},"worker-threads-driver":{"name":"WorkerThreadsDriver","slug":"worker-threads-driver","path":"\\/api\\/worker-threads-driver","module":"core","kind":"variable","comment":{"summary":"Worker threads driver.\n\nUses worker_threads module with MessagePort for IPC.\nSupports SharedArrayBuffer for shared memory.","examples":["import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\n\\/\\/ Host side: spawn a worker\nconst channel = await WorkerThreadsDriver.spawn('.\\/worker.js', {\n  resourceLimits: { maxOldGenerationSizeMb: 128 },\n});\n\n\\/\\/ Worker side: create server\nconst server = WorkerThreadsDriver.createServer();"]},"description":"Worker threads driver.\n\nUses worker_threads module with MessagePort for IPC.\nSupports SharedArrayBuffer for shared memory.","category":"!undefined","signature":"type WorkerThreadsDriver = { name: \"worker_threads\"; createServer: unknown; getStartupData: unknown; spawn: unknown; transferSharedMemory: unknown } & { capabilities: InferCapabilities\u003c{ name: \"worker_threads\"; createServer: unknown; getStartupData: unknown; spawn: unknown; transferSharedMemory: unknown }> }"},"worker-threads-driver-options":{"name":"WorkerThreadsDriverOptions","slug":"worker-threads-driver-options","path":"\\/api\\/worker-threads-driver-options","module":"core","kind":"interface","comment":{"summary":"Options for worker threads driver spawn"},"description":"Options for worker threads driver spawn","category":"!undefined","properties":[{"name":"argv","type":"string[]","description":"Arguments to pass to the worker script","optional":true,"readonly":"!undefined"},{"name":"eval","type":"boolean","description":"If true, script is treated as JavaScript code instead of a path","optional":true,"readonly":"!undefined"},{"name":"execArgv","type":"string[]","description":"List of node CLI options passed to the worker.\nUseful for loading TypeScript files via tsx:","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for driver operations","optional":true,"readonly":"!undefined"},{"name":"resourceLimits","type":"WorkerThreadsResourceLimits","description":"Resource limits for the worker thread","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match worker side)","optional":true,"readonly":"!undefined"},{"name":"transferList","type":"ArrayBuffer[]","description":"List of transferable objects to transfer to worker","optional":true,"readonly":"!undefined"},{"name":"workerData","type":"unknown","description":"Additional data to pass to worker via workerData","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerThreadsDriverOptions"},"worker-threads-resource-limits":{"name":"WorkerThreadsResourceLimits","slug":"worker-threads-resource-limits","path":"\\/api\\/worker-threads-resource-limits","module":"core","kind":"interface","comment":{"summary":"Resource limits for worker threads"},"description":"Resource limits for worker threads","category":"!undefined","properties":[{"name":"codeRangeSizeMb","type":"number","description":"Size of the pre-allocated code range in MB","optional":true,"readonly":"!undefined"},{"name":"maxOldGenerationSizeMb","type":"number","description":"Maximum size of the old generation heap in MB","optional":true,"readonly":"!undefined"},{"name":"maxYoungGenerationSizeMb","type":"number","description":"Maximum size of the young generation heap in MB","optional":true,"readonly":"!undefined"},{"name":"stackSizeMb","type":"number","description":"Default stack size for the worker thread in KB","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerThreadsResourceLimits"},"child-process-capabilities":{"name":"ChildProcessCapabilities","slug":"child-process-capabilities","path":"\\/api\\/child-process-capabilities","module":"core","kind":"interface","comment":{"summary":"Capability type for child_process driver.\n\nChild process workers support reconnection and detaching,\nbut cannot use SharedArrayBuffer across the IPC boundary."},"description":"Capability type for child_process driver.\n\nChild process workers support reconnection and detaching,\nbut cannot use SharedArrayBuffer across the IPC boundary.","category":"Drivers","properties":[{"name":"detach","type":"true","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"true","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"false","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface ChildProcessCapabilities extends DriverCapabilities"},"connection":{"name":"Connection","slug":"connection","path":"\\/api\\/connection","module":"core","kind":"interface","comment":{"summary":"Active connection interface"},"description":"Active connection interface","category":"!undefined","properties":[{"name":"isConnected","type":"boolean","description":"Whether the connection is active","optional":"!undefined","readonly":"!undefined"},{"name":"socket","type":"Socket","description":"Underlying socket","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the connection","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: TypedResult) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: TypedResult) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: TypedMessage\u003cT>): Promise\u003cvoid>","description":"Send a message through the connection","parameters":[{"name":"message","type":"TypedMessage\u003cT>","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"interface Connection"},"connection-options":{"name":"ConnectionOptions","slug":"connection-options","path":"\\/api\\/connection-options","module":"core","kind":"interface","comment":{"summary":"Connection options"},"description":"Connection options","category":"!undefined","properties":[{"name":"logger","type":"Logger","description":"Custom logger","optional":true,"readonly":"!undefined"},{"name":"maxDelay","type":"number","description":"Maximum delay cap in ms (default: 5000)","optional":true,"readonly":"!undefined"},{"name":"maxRetries","type":"number","description":"Maximum number of retry attempts (default: 5)","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Per-instance middleware pipeline","optional":true,"readonly":"!undefined"},{"name":"reconnect","type":"boolean","description":"Whether to enable reconnection (default: false)","optional":true,"readonly":"!undefined"},{"name":"retryDelay","type":"number | (attempt: number) => number","description":"Base delay in ms between retries, or custom delay function (default: 100)","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Socket path to connect to","optional":"!undefined","readonly":"!undefined"},{"name":"timeout","type":"number","description":"Connection timeout in ms (default: 10000)","optional":true,"readonly":"!undefined"}],"signature":"interface ConnectionOptions\u003cTDefs>"},"detach-capability":{"name":"DetachCapability","slug":"detach-capability","path":"\\/api\\/detach-capability","module":"core","kind":"interface","comment":{"summary":"Detach capability mixin.\n\nChannels that support detaching expose this to indicate\nwhether the worker is running detached from the parent."},"description":"Detach capability mixin.\n\nChannels that support detaching expose this to indicate\nwhether the worker is running detached from the parent.","category":"!undefined","properties":[{"name":"detached","type":"boolean","description":"Whether the worker is detached","optional":"!undefined","readonly":true}],"signature":"interface DetachCapability"},"driver":{"name":"Driver","slug":"driver","path":"\\/api\\/driver","module":"core","kind":"interface","comment":{"summary":"Driver interface for spawning workers.\n\nDrivers implement this interface to provide different worker\ncommunication backends.","examples":["const childProcessDriver: Driver\u003cChildProcessCapabilities, ChildProcessOptions> = {\n  name: 'child_process',\n  capabilities: { reconnect: true, detach: true, sharedMemory: false },\n  spawn: async (script, options) => { ... }\n};"]},"description":"Driver interface for spawning workers.\n\nDrivers implement this interface to provide different worker\ncommunication backends.","category":"Drivers","properties":[{"name":"capabilities","type":"TCapabilities","description":"Driver capabilities","optional":"!undefined","readonly":true},{"name":"name","type":"string","description":"Driver identifier","optional":"!undefined","readonly":true}],"methods":[{"name":"spawn","signature":"spawn(script: string, options: TOptions): Promise\u003cDriverChannel>","description":"Spawn a worker and return communication channel","parameters":[{"name":"script","type":"string","description":"!undefined","optional":"!undefined"},{"name":"options","type":"TOptions","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cDriverChannel>"}],"signature":"interface Driver\u003cTCapabilities, TOptions>"},"driver-capabilities":{"name":"DriverCapabilities","slug":"driver-capabilities","path":"\\/api\\/driver-capabilities","module":"core","kind":"interface","comment":{"summary":"Driver capability flags.\n\nThese flags indicate what features a driver supports,\nallowing higher-level code to make decisions based on\navailable capabilities."},"description":"Driver capability flags.\n\nThese flags indicate what features a driver supports,\nallowing higher-level code to make decisions based on\navailable capabilities.","category":"Drivers","properties":[{"name":"detach","type":"boolean","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"boolean","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"boolean","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface DriverCapabilities"},"driver-channel":{"name":"DriverChannel","slug":"driver-channel","path":"\\/api\\/driver-channel","module":"core","kind":"interface","comment":{"summary":"Communication channel returned by driver spawn.\n\nThe channel provides a unified interface for sending messages,\nhandling events, and managing the connection lifecycle."},"description":"Communication channel returned by driver spawn.\n\nThe channel provides a unified interface for sending messages,\nhandling events, and managing the connection lifecycle.","category":"!undefined","properties":[{"name":"isConnected","type":"boolean","description":"Whether the channel is connected","optional":"!undefined","readonly":true},{"name":"pid","type":"number","description":"Process ID (undefined for worker_threads)","optional":"!undefined","readonly":true}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"interface DriverChannel"},"driver-message":{"name":"DriverMessage","slug":"driver-message","path":"\\/api\\/driver-message","module":"core","kind":"interface","comment":{"summary":"Message structure for driver communication.\n\nAll messages sent through the driver layer follow this structure,\nenabling type-safe messaging with transaction tracking."},"description":"Message structure for driver communication.\n\nAll messages sent through the driver layer follow this structure,\nenabling type-safe messaging with transaction tracking.","category":"!undefined","properties":[{"name":"payload","type":"unknown","description":"Message payload data","optional":"!undefined","readonly":"!undefined"},{"name":"tx","type":"string","description":"Transaction ID for request\\/response correlation","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"Message type identifier","optional":"!undefined","readonly":"!undefined"}],"signature":"interface DriverMessage"},"middleware-context":{"name":"MiddlewareContext","slug":"middleware-context","path":"\\/api\\/middleware-context","module":"core","kind":"interface","comment":{"summary":"Context passed to middleware functions","deprecated":"Use Middleware\u003cTDefs> from types instead"},"description":"Context passed to middleware functions","category":"!undefined","properties":[{"name":"direction","type":"MiddlewareDirection","description":"Direction of message flow","optional":"!undefined","readonly":"!undefined"},{"name":"message","type":"unknown","description":"The message being sent or received","optional":"!undefined","readonly":"!undefined"}],"signature":"interface MiddlewareContext"},"reconnect-capability":{"name":"ReconnectCapability","slug":"reconnect-capability","path":"\\/api\\/reconnect-capability","module":"core","kind":"interface","comment":{"summary":"Reconnect capability mixin.\n\nChannels that support reconnection implement this interface\nto allow disconnecting while keeping the worker alive."},"description":"Reconnect capability mixin.\n\nChannels that support reconnection implement this interface\nto allow disconnecting while keeping the worker alive.","category":"!undefined","methods":[{"name":"disconnect","signature":"disconnect(): Promise\u003cvoid>","description":"Disconnect from worker but keep process alive","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"reconnect","signature":"reconnect(): Promise\u003cvoid>","description":"Reconnect to existing worker","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface ReconnectCapability"},"server-channel":{"name":"ServerChannel","slug":"server-channel","path":"\\/api\\/server-channel","module":"core","kind":"interface","comment":{"summary":"Server channel interface for worker-side communication."},"description":"Server channel interface for worker-side communication.","category":"!undefined","properties":[{"name":"isRunning","type":"boolean","description":"Whether the server is running","optional":"!undefined","readonly":true},{"name":"socketPath","type":"string","description":"Socket path the server is listening on (empty for worker_threads)","optional":"!undefined","readonly":true}],"methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: (response: DriverMessage) => Promise\u003cvoid>) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: (response: DriverMessage) => Promise\u003cvoid>) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface ServerChannel"},"server-driver":{"name":"ServerDriver","slug":"server-driver","path":"\\/api\\/server-driver","module":"core","kind":"interface","comment":{"summary":"Driver interface for server-side usage.\n\nThis is a minimal interface that drivers must satisfy for use with\nstartWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver\nsatisfy this interface."},"description":"Driver interface for server-side usage.\n\nThis is a minimal interface that drivers must satisfy for use with\nstartWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver\nsatisfy this interface.","category":"!undefined","properties":[{"name":"name","type":"string","description":"Driver identifier","optional":"!undefined","readonly":true}],"methods":[{"name":"createServer","signature":"createServer(options: ServerOptions): ServerChannel | Promise\u003cServerChannel>","description":"Create server channel","parameters":[{"name":"options","type":"ServerOptions","description":"!undefined","optional":"!undefined"}],"returnType":"ServerChannel | Promise\u003cServerChannel>"},{"name":"getStartupData","signature":"getStartupData(): unknown","description":"Get startup data (throws if not in correct context)","parameters":"!undefined","returnType":"unknown"}],"signature":"interface ServerDriver"},"server-options":{"name":"ServerOptions","slug":"server-options","path":"\\/api\\/server-options","module":"core","kind":"interface","comment":{"summary":"Options for creating a server channel"},"description":"Options for creating a server channel","category":"!undefined","properties":[{"name":"logger","type":"Logger","description":"Custom logger","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match host!)","optional":true,"readonly":"!undefined"}],"signature":"interface ServerOptions"},"typed-message":{"name":"TypedMessage","slug":"typed-message","path":"\\/api\\/typed-message","module":"core","kind":"interface","comment":{"summary":"Message with type discriminator"},"description":"Message with type discriminator","category":"!undefined","properties":[{"name":"payload","type":"T","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"}],"signature":"interface TypedMessage\u003cT> extends BaseMessage"},"typed-result":{"name":"TypedResult","slug":"typed-result","path":"\\/api\\/typed-result","module":"core","kind":"interface","comment":{"summary":"Result message with type discriminator"},"description":"Result message with type discriminator","category":"!undefined","properties":[{"name":"payload","type":"T","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"}],"signature":"interface TypedResult\u003cT> extends BaseMessage"},"worker-client":{"name":"WorkerClient","slug":"worker-client","path":"\\/api\\/worker-client","module":"core","kind":"interface","comment":{"summary":"Base worker client interface for type-safe messaging.\n\nThe availability of certain methods depends on the driver's capabilities:\n- `disconnect()` \\/ `reconnect()`: Only available with child_process driver\n- `pid`: Returns number for child_process, undefined for worker_threads"},"description":"Base worker client interface for type-safe messaging.\n\nThe availability of certain methods depends on the driver's capabilities:\n- `disconnect()` \\/ `reconnect()`: Only available with child_process driver\n- `pid`: Returns number for child_process, undefined for worker_threads","category":"!undefined","properties":[{"name":"capabilities","type":"TCapabilities","description":"The driver capabilities for this worker","optional":"!undefined","readonly":true},{"name":"disconnect","type":"TCapabilities[\"reconnect\"] extends true ? () => Promise\u003cvoid> : never","description":"Disconnect from worker but keep process alive.\nOnly available when driver supports reconnect capability.","optional":"!undefined","readonly":"!undefined"},{"name":"isActive","type":"boolean","description":"Whether the worker process is active","optional":"!undefined","readonly":"!undefined"},{"name":"isConnected","type":"boolean","description":"Whether connection to worker is active","optional":"!undefined","readonly":"!undefined"},{"name":"pid","type":"number","description":"Process ID of the worker.\nReturns undefined for worker_threads (they share the parent's PID).","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"TCapabilities[\"reconnect\"] extends true ? () => Promise\u003cvoid> : never","description":"Reconnect to existing worker.\nOnly available when driver supports reconnect capability.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the worker gracefully","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"send","signature":"send(type: K, payload: TMessages[K][\"payload\"]): Promise\u003cTMessages[K] extends { result: R } ? R : void>","description":"Send a message and await response","parameters":[{"name":"type","type":"K","description":"!undefined","optional":"!undefined"},{"name":"payload","type":"TMessages[K][\"payload\"]","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cTMessages[K] extends { result: R } ? R : void>"}],"signature":"interface WorkerClient\u003cTMessages, TCapabilities>"},"worker-options":{"name":"WorkerOptions","slug":"worker-options","path":"\\/api\\/worker-options","module":"core","kind":"interface","comment":{"summary":"Worker options for spawning"},"description":"Worker options for spawning","category":"!undefined","properties":[{"name":"connection","type":"{ attempts: number; delay: number | (attempt: number) => number; maxDelay: number }","description":"Connection options (child_process driver only).","optional":true,"readonly":"!undefined"},{"name":"debug","type":"boolean","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"detached","type":"boolean","description":"Worker lifecycle options","optional":true,"readonly":"!undefined"},{"name":"driver","type":"TDriver","description":"Driver to use for spawning the worker.\n\nIf not provided, the child_process driver is dynamically loaded.\nPass a driver instance for explicit control over the communication backend.","optional":true,"readonly":"!undefined"},{"name":"driverOptions","type":"Partial\u003cDriverOptionsFor\u003cTDriver>>","description":"Driver-specific options.\n\nThese options are passed directly to the driver's spawn method.\nAvailable options depend on the driver being used.","optional":true,"readonly":"!undefined"},{"name":"env","type":"Record\u003cstring, string>","description":"Environment variables to pass to worker","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Logging options","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Messaging options","optional":true,"readonly":"!undefined"},{"name":"script","type":"string","description":"Path to worker script","optional":"!undefined","readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Advanced options","optional":true,"readonly":"!undefined"},{"name":"spawnOptions","type":"SpawnOptions","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"timeout","type":"number | Partial\u003cRecord\u003cBuiltInTimeoutKey | keyof TDefs, number>>","description":"Timeout configuration for worker operations.\n\nCan be a number (applies to all operations) or an object with per-operation timeouts:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n- `[messageType]`: Timeout for specific message type (overrides WORKER_MESSAGE)","optional":true,"readonly":"!undefined"},{"name":"txIdGenerator","type":"TransactionIdGenerator\u003cTDefs>","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"unexpectedShutdown","type":"UnexpectedShutdownConfig\u003cTDefs>","description":"Unexpected shutdown configuration","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerOptions\u003cTDefs, TDriver>"},"worker-server":{"name":"WorkerServer","slug":"worker-server","path":"\\/api\\/worker-server","module":"core","kind":"interface","comment":{"summary":"Active worker server"},"description":"Active worker server","category":"!undefined","properties":[{"name":"isRunning","type":"boolean","description":"Whether the server is running","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface WorkerServer"},"worker-server-options":{"name":"WorkerServerOptions","slug":"worker-server-options","path":"\\/api\\/worker-server-options","module":"core","kind":"interface","comment":{"summary":"Server configuration options"},"description":"Server configuration options","category":"!undefined","properties":[{"name":"driver","type":"ServerDriver","description":"Driver to use for server communication.\nDefaults to ChildProcessDriver if not specified.\nMust match the driver used on the host side.","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for server operations","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Middleware pipeline for message processing","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match host!)","optional":true,"readonly":"!undefined"},{"name":"txIdGenerator","type":"TransactionIdGenerator\u003cTDefs>","description":"Custom transaction ID generator","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerServerOptions\u003cTDefs>"},"worker-threads-capabilities":{"name":"WorkerThreadsCapabilities","slug":"worker-threads-capabilities","path":"\\/api\\/worker-threads-capabilities","module":"core","kind":"interface","comment":{"summary":"Capability type for worker_threads driver.\n\nWorker thread workers support SharedArrayBuffer but cannot\nbe reconnected or detached from the parent."},"description":"Capability type for worker_threads driver.\n\nWorker thread workers support SharedArrayBuffer but cannot\nbe reconnected or detached from the parent.","category":"Drivers","properties":[{"name":"detach","type":"false","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"false","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"true","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface WorkerThreadsCapabilities extends DriverCapabilities"},"built-in-timeout-key":{"name":"BuiltInTimeoutKey","slug":"built-in-timeout-key","path":"\\/api\\/built-in-timeout-key","module":"core","kind":"type","comment":{"summary":"Built-in timeout keys for worker lifecycle events"},"description":"Built-in timeout keys for worker lifecycle events","category":"!undefined","signature":"type BuiltInTimeoutKey = \"WORKER_STARTUP\" | \"WORKER_MESSAGE\" | \"SERVER_CONNECT\""},"driver-options-for":{"name":"DriverOptionsFor","slug":"driver-options-for","path":"\\/api\\/driver-options-for","module":"core","kind":"type","comment":{"summary":"Driver-specific options mapping"},"description":"Driver-specific options mapping","category":"!undefined","signature":"type DriverOptionsFor = TDriver extends Driver\u003cChildProcessCapabilities> ? ChildProcessDriverOptions : TDriver extends Driver\u003cWorkerThreadsCapabilities> ? WorkerThreadsDriverOptions : Record\u003cstring, unknown>"},"message-handler":{"name":"MessageHandler","slug":"message-handler","path":"\\/api\\/message-handler","module":"core","kind":"type","comment":{"summary":"Handler function type for message processing"},"description":"Handler function type for message processing","category":"!undefined","signature":"type MessageHandler = (payload: unknown) => unknown | Promise\u003cunknown>"},"middleware-direction":{"name":"MiddlewareDirection","slug":"middleware-direction","path":"\\/api\\/middleware-direction","module":"core","kind":"type","comment":{"summary":"Direction for middleware context","deprecated":"Use 'incoming' | 'outgoing' directly"},"description":"Direction for middleware context","category":"!undefined","signature":"type MiddlewareDirection = \"send\" | \"receive\""},"timeout-config":{"name":"TimeoutConfig","slug":"timeout-config","path":"\\/api\\/timeout-config","module":"core","kind":"type","comment":{"summary":"Timeout configuration allowing per-message-type timeouts.\n\nBuilt-in keys:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n\nYou can also specify timeouts for specific message types by their key name.\nMessage-specific timeouts take precedence over WORKER_MESSAGE.","examples":["const worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n  timeout: {\n    WORKER_STARTUP: 5000,        \\/\\/ 5s startup\n    SERVER_CONNECT: 10000,       \\/\\/ 10s for server to wait for host\n    WORKER_MESSAGE: 60000,       \\/\\/ 1min default for messages\n    'slowOperation': 600000,     \\/\\/ 10min for specific message type\n  }\n});"]},"description":"Timeout configuration allowing per-message-type timeouts.\n\nBuilt-in keys:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n\nYou can also specify timeouts for specific message types by their key name.\nMessage-specific timeouts take precedence over WORKER_MESSAGE.","category":"!undefined","signature":"type TimeoutConfig = Partial\u003cRecord\u003cBuiltInTimeoutKey | keyof TDefs, number>>"},"worker-handler":{"name":"WorkerHandler","slug":"worker-handler","path":"\\/api\\/worker-handler","module":"core","kind":"type","comment":{"summary":"Handler function type for worker messages"},"description":"Handler function type for worker messages","category":"!undefined","signature":"type WorkerHandler = (payload: TPayload) => TResult | Promise\u003cTResult>"},"worker-handlers":{"name":"WorkerHandlers","slug":"worker-handlers","path":"\\/api\\/worker-handlers","module":"core","kind":"type","comment":{"summary":"Collection of handlers for different message types"},"description":"Collection of handlers for different message types","category":"!undefined","signature":"type WorkerHandlers = Record\u003cstring, WorkerHandler>"},"create-worker":{"name":"createWorker","slug":"create-worker","path":"\\/api\\/create-worker","module":"core","kind":"function","comment":{"summary":"Create a worker process with type-safe messaging.\n\nBy default, uses the child_process driver which spawns a separate Node.js process\nand communicates via Unix domain sockets (or named pipes on Windows).\n\nYou can pass a different driver for alternative backends:\n- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)","examples":["const worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n});","import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\nconst worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n  driver: new WorkerThreadsDriver(),\n});"]},"description":"Create a worker process with type-safe messaging.\n\nBy default, uses the child_process driver which spawns a separate Node.js process\nand communicates via Unix domain sockets (or named pipes on Windows).\n\nYou can pass a different driver for alternative backends:\n- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)","category":"Core","parameters":[{"name":"options","type":"WorkerOptions\u003cTMessages, TDriver>","description":"Worker options including script path and optional driver","optional":"!undefined","defaultValue":"!undefined"}],"returnType":"Promise\u003cWorkerClient\u003cTMessages, TDriver extends Driver\u003cC, unknown> ? C : DriverCapabilities>>","signature":"function createWorker(options: WorkerOptions\u003cTMessages, TDriver>): Promise\u003cWorkerClient\u003cTMessages, TDriver extends Driver\u003cC, unknown> ? C : DriverCapabilities>>"},"start-worker-server":{"name":"startWorkerServer","slug":"start-worker-server","path":"\\/api\\/start-worker-server","module":"core","kind":"function","comment":{"summary":"Start a worker server that listens for messages (type-safe version)"},"description":"Start a worker server that listens for messages (type-safe version)","category":"Core","parameters":[{"name":"handlers","type":"Handlers\u003cTDefs>","description":"Map of typed message handlers","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"WorkerServerOptions\u003cTDefs>","description":"Server options","optional":true,"defaultValue":"!undefined"}],"returnType":"Promise\u003cWorkerServer>","signature":"function startWorkerServer(handlers: Handlers\u003cTDefs>, options?: WorkerServerOptions\u003cTDefs>): Promise\u003cWorkerServer>"},"json-serializer":{"name":"JsonSerializer","slug":"json-serializer","path":"\\/api\\/json-serializer","module":"utils","kind":"class","comment":{"summary":"Default JSON serializer with newline terminator"},"description":"Default JSON serializer with newline terminator","category":"Serialization","properties":[{"name":"terminator","type":"string","description":"Terminator sequence used to delimit messages in the stream.\nMust be the same on both client and server.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"deserialize","signature":"deserialize(data: string | Uint8Array\u003cArrayBufferLike>): T","description":"Deserialize string or Uint8Array back to data","parameters":[{"name":"data","type":"string | Uint8Array\u003cArrayBufferLike>","description":"!undefined","optional":"!undefined"}],"returnType":"T"},{"name":"serialize","signature":"serialize(data: T): string","description":"Serialize data to string or Uint8Array","parameters":[{"name":"data","type":"T","description":"!undefined","optional":"!undefined"}],"returnType":"string"}],"signature":"class JsonSerializer extends Serializer"},"serializer":{"name":"Serializer","slug":"serializer","path":"\\/api\\/serializer","module":"utils","kind":"class","comment":{"summary":"Abstract serializer class for custom message serialization.\nIncludes terminator sequence to delimit messages in the stream.\n\nIMPORTANT: Must be a named class (not anonymous) for mismatch detection."},"description":"Abstract serializer class for custom message serialization.\nIncludes terminator sequence to delimit messages in the stream.\n\nIMPORTANT: Must be a named class (not anonymous) for mismatch detection.","category":"Serialization","properties":[{"name":"terminator","type":"string | Uint8Array\u003cArrayBufferLike>","description":"Terminator sequence used to delimit messages in the stream.\nMust be the same on both client and server.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"deserialize","signature":"deserialize(data: string | Uint8Array\u003cArrayBufferLike>): T","description":"Deserialize string or Uint8Array back to data","parameters":[{"name":"data","type":"string | Uint8Array\u003cArrayBufferLike>","description":"!undefined","optional":"!undefined"}],"returnType":"T"},{"name":"serialize","signature":"serialize(data: T): string | Uint8Array\u003cArrayBufferLike>","description":"Serialize data to string or Uint8Array","parameters":[{"name":"data","type":"T","description":"!undefined","optional":"!undefined"}],"returnType":"string | Uint8Array\u003cArrayBufferLike>"}],"signature":"class Serializer"},"logger":{"name":"Logger","slug":"logger","path":"\\/api\\/logger","module":"utils","kind":"interface","comment":{"summary":"Logger interface - must implement all log level methods"},"description":"Logger interface - must implement all log level methods","category":"!undefined","methods":[{"name":"debug","signature":"debug(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"error","signature":"error(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"info","signature":"info(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"warn","signature":"warn(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"}],"signature":"interface Logger"},"log-level":{"name":"LogLevel","slug":"log-level","path":"\\/api\\/log-level","module":"utils","kind":"type","comment":{"summary":"Log level enum"},"description":"Log level enum","category":"!undefined","signature":"type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\""},"default-logger":{"name":"defaultLogger","slug":"default-logger","path":"\\/api\\/default-logger","module":"utils","kind":"variable","comment":{"summary":"Default console-based logger"},"description":"Default console-based logger","category":"!undefined","signature":"type defaultLogger = Logger"},"worker-crashed-error":{"name":"WorkerCrashedError","slug":"worker-crashed-error","path":"\\/api\\/worker-crashed-error","module":"types","kind":"class","comment":"!undefined","description":"!undefined","category":"!undefined","properties":[{"name":"attempt","type":"number","description":"!undefined","optional":"!undefined","readonly":true},{"name":"maxAttempts","type":"number","description":"!undefined","optional":"!undefined","readonly":true},{"name":"messageType","type":"string","description":"!undefined","optional":"!undefined","readonly":true},{"name":"name","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"reason","type":"ShutdownReason","description":"!undefined","optional":"!undefined","readonly":true}],"signature":"class WorkerCrashedError extends Error"},"base-message":{"name":"BaseMessage","slug":"base-message","path":"\\/api\\/base-message","module":"types","kind":"interface","comment":{"summary":"Base message with transaction ID for request\\/response pairing"},"description":"Base message with transaction ID for request\\/response pairing","category":"!undefined","properties":[{"name":"tx","type":"string","description":"Transaction ID","optional":"!undefined","readonly":"!undefined"}],"signature":"interface BaseMessage"},"message-def":{"name":"MessageDef","slug":"message-def","path":"\\/api\\/message-def","module":"types","kind":"interface","comment":{"summary":"Message definition shape - each message has a payload and optional result"},"description":"Message definition shape - each message has a payload and optional result","category":"!undefined","properties":[{"name":"payload","type":"unknown","description":"Payload type for the message","optional":"!undefined","readonly":"!undefined"},{"name":"result","type":"unknown","description":"Optional result type (if message expects a response)","optional":true,"readonly":"!undefined"}],"signature":"interface MessageDef"},"all-messages":{"name":"AllMessages","slug":"all-messages","path":"\\/api\\/all-messages","module":"types","kind":"type","comment":{"summary":"Union of all message types in the definition.","examples":["type AllMsgs = AllMessages\u003cMyMessages>;\n\\/\\/ MessageOf\u003cMyMessages, 'load'> | MessageOf\u003cMyMessages, 'compute'> | ..."]},"description":"Union of all message types in the definition.","category":"!undefined","signature":"type AllMessages = { [key: string]: ... }[keyof TDefs & string]"},"all-results":{"name":"AllResults","slug":"all-results","path":"\\/api\\/all-results","module":"types","kind":"type","comment":{"summary":"Union of all result types in the definition.","examples":["type AllRes = AllResults\u003cMyMessages>;\n\\/\\/ ResultOf\u003cMyMessages, 'load'> | ResultOf\u003cMyMessages, 'compute'> | ..."]},"description":"Union of all result types in the definition.","category":"!undefined","signature":"type AllResults = { [key: string]: ... }[WithResult\u003cTDefs> & string]"},"any-message":{"name":"AnyMessage","slug":"any-message","path":"\\/api\\/any-message","module":"types","kind":"type","comment":{"summary":"Union of all message types (requests and responses).\nUse this for middleware, transaction ID generators, and other\nfunctions that handle any message type.","examples":["type MyMessages = DefineMessages\u003c{\n  load: { payload: { config: string }; result: { loaded: true } };\n}>;\n\nfunction middleware(msg: AnyMessage\u003cMyMessages>) {\n  console.log('Handling:', msg.type);\n}"]},"description":"Union of all message types (requests and responses).\nUse this for middleware, transaction ID generators, and other\nfunctions that handle any message type.","category":"!undefined","signature":"type AnyMessage = AllMessages\u003cTDefs> | AllResults\u003cTDefs>"},"define-messages":{"name":"DefineMessages","slug":"define-messages","path":"\\/api\\/define-messages","module":"types","kind":"type","comment":{"summary":"Type constructor for defining message sets.\n\nUse this to define your worker's message contract with full type safety.","examples":["type MyMessages = DefineMessages\u003c{\n  load: { payload: { config: string }; result: { loaded: true } };\n  compute: { payload: { data: number }; result: { value: number } };\n  shutdown: { payload: void };\n}>;"]},"description":"Type constructor for defining message sets.\n\nUse this to define your worker's message contract with full type safety.","category":"Types","signature":"type DefineMessages = TDefs"},"handlers":{"name":"Handlers","slug":"handlers","path":"\\/api\\/handlers","module":"types","kind":"type","comment":{"summary":"Handler function type for a message definition.\n\nHandlers receive the payload and return the result (or void if no result).","examples":["const handlers: Handlers\u003cMyMessages> = {\n  load: async (payload) => ({ loaded: true }),\n  shutdown: () => { console.log('bye'); }\n};"]},"description":"Handler function type for a message definition.\n\nHandlers receive the payload and return the result (or void if no result).","category":"Configuration","signature":"type Handlers = { [key: string]: ... }"},"maybe-promise":{"name":"MaybePromise","slug":"maybe-promise","path":"\\/api\\/maybe-promise","module":"types","kind":"type","comment":{"summary":"Utility type for values that may be promises"},"description":"Utility type for values that may be promises","category":"!undefined","signature":"type MaybePromise = T | Promise\u003cT>"},"message-defs":{"name":"MessageDefs","slug":"message-defs","path":"\\/api\\/message-defs","module":"types","kind":"type","comment":{"summary":"Collection of message definitions"},"description":"Collection of message definitions","category":"!undefined","signature":"type MessageDefs = Record\u003cstring, MessageDef>"},"message-of":{"name":"MessageOf","slug":"message-of","path":"\\/api\\/message-of","module":"types","kind":"type","comment":{"summary":"Extract the full message type for a given key.","examples":["type LoadMessage = MessageOf\u003cMyMessages, 'load'>;\n\\/\\/ { tx: string; type: 'load'; payload: { config: string } }"]},"description":"Extract the full message type for a given key.","category":"!undefined","signature":"type MessageOf = BaseMessage & { payload: TDefs[K][\"payload\"]; type: K }"},"message-result":{"name":"MessageResult","slug":"message-result","path":"\\/api\\/message-result","module":"types","kind":"type","comment":{"summary":"Map a message type to its corresponding result type.","examples":["type LoadResponse = MessageResult\u003c'load', MyMessages>;\n\\/\\/ ResultOf\u003cMyMessages, 'load'>"]},"description":"Map a message type to its corresponding result type.","category":"!undefined","signature":"type MessageResult = TMessageType extends WithResult\u003cTDefs> ? ResultOf\u003cTDefs, TMessageType> : never"},"message-type":{"name":"MessageType","slug":"message-type","path":"\\/api\\/message-type","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type MessageType = keyof TDefs & string"},"middleware":{"name":"Middleware","slug":"middleware","path":"\\/api\\/middleware","module":"types","kind":"type","comment":{"summary":"Middleware function type for message inspection\\/transformation.\nApplied sequentially in the order provided.\n\nMessages are sealed before being passed to middleware, so you can\nmodify existing properties but cannot add new ones.","examples":["const logMiddleware: Middleware\u003cMyMessages> = (msg, direction) => {\n  console.log(`${direction}:`, msg.type);\n  return msg;\n};"]},"description":"Middleware function type for message inspection\\/transformation.\nApplied sequentially in the order provided.\n\nMessages are sealed before being passed to middleware, so you can\nmodify existing properties but cannot add new ones.","category":"Configuration","signature":"type Middleware = (message: AnyMessage\u003cTDefs>, direction: \"incoming\" | \"outgoing\") => AnyMessage\u003cTDefs> | void | Promise\u003cAnyMessage\u003cTDefs> | void>"},"payload-of":{"name":"PayloadOf","slug":"payload-of","path":"\\/api\\/payload-of","module":"types","kind":"type","comment":{"summary":"Extract the payload type for a given message key."},"description":"Extract the payload type for a given message key.","category":"!undefined","signature":"type PayloadOf = TDefs[K][\"payload\"]"},"result-of":{"name":"ResultOf","slug":"result-of","path":"\\/api\\/result-of","module":"types","kind":"type","comment":{"summary":"Extract the full result type for a given key.","examples":["type LoadResult = ResultOf\u003cMyMessages, 'load'>;\n\\/\\/ { tx: string; type: 'loadResult'; payload: { loaded: true } }"]},"description":"Extract the full result type for a given key.","category":"!undefined","signature":"type ResultOf = BaseMessage & { payload: TDefs[K] extends { result: unknown } ? TDefs[K][\"result\"] : never; type: string }"},"result-payload-of":{"name":"ResultPayloadOf","slug":"result-payload-of","path":"\\/api\\/result-payload-of","module":"types","kind":"type","comment":{"summary":"Extract the result type for a given message key."},"description":"Extract the result type for a given message key.","category":"!undefined","signature":"type ResultPayloadOf = TDefs[K] extends { result: unknown } ? TDefs[K][\"result\"] : never"},"shutdown-reason":{"name":"ShutdownReason","slug":"shutdown-reason","path":"\\/api\\/shutdown-reason","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type ShutdownReason = { code: number | null; signal: string | null; type: \"exit\" } | { error: Error; type: \"error\" } | { type: \"close\" }"},"transaction-id-generator":{"name":"TransactionIdGenerator","slug":"transaction-id-generator","path":"\\/api\\/transaction-id-generator","module":"types","kind":"type","comment":{"summary":"Transaction ID generator function type.\nReceives a message and returns a unique transaction ID string.","examples":["const customGen: TransactionIdGenerator\u003cMyMessages> = (msg) => {\n  return `${msg.type}-${Date.now()}`;\n};"]},"description":"Transaction ID generator function type.\nReceives a message and returns a unique transaction ID string.","category":"!undefined","signature":"type TransactionIdGenerator = (message: AnyMessage\u003cTDefs>) => string"},"unexpected-shutdown-config":{"name":"UnexpectedShutdownConfig","slug":"unexpected-shutdown-config","path":"\\/api\\/unexpected-shutdown-config","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type UnexpectedShutdownConfig = UnexpectedShutdownStrategy & { [key: string]: ... }"},"unexpected-shutdown-strategy":{"name":"UnexpectedShutdownStrategy","slug":"unexpected-shutdown-strategy","path":"\\/api\\/unexpected-shutdown-strategy","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type UnexpectedShutdownStrategy = { strategy: \"reject\" } | { attempts: number; strategy: \"retry\" }"},"with-result":{"name":"WithResult","slug":"with-result","path":"\\/api\\/with-result","module":"types","kind":"type","comment":{"summary":"Extract keys that have a result defined.","examples":["type Messages = DefineMessages\u003c{\n  load: { payload: {}; result: {} };  \\/\\/ Has result\n  shutdown: { payload: {} };          \\/\\/ No result\n}>;\ntype WithRes = WithResult\u003cMessages>; \\/\\/ 'load'"]},"description":"Extract keys that have a result defined.","category":"Types","signature":"type WithResult = { [key: string]: ... }[keyof TDefs]"}},"allExports":[{"name":"ChildProcessChannel","slug":"child-process-channel","path":"\\/api\\/child-process-channel","module":"core","kind":"class","comment":{"summary":"Channel implementation for child process driver.\n\nWraps a Connection and ChildProcess, providing the DriverChannel interface\nwith optional reconnect and detach capabilities."},"description":"Channel implementation for child process driver.\n\nWraps a Connection and ChildProcess, providing the DriverChannel interface\nwith optional reconnect and detach capabilities.","category":"!undefined","methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"disconnect","signature":"disconnect(): Promise\u003cvoid>","description":"Disconnect from worker but keep process alive","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"reconnect","signature":"reconnect(): Promise\u003cvoid>","description":"Reconnect to existing worker","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"class ChildProcessChannel"},{"name":"ChildProcessServerChannel","slug":"child-process-server-channel","path":"\\/api\\/child-process-server-channel","module":"core","kind":"class","comment":{"summary":"Child process server channel implementation.\n\nWraps a net.Server and provides the ServerChannel interface."},"description":"Child process server channel implementation.\n\nWraps a net.Server and provides the ServerChannel interface.","category":"!undefined","methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: ResponseFunction) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: ResponseFunction) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"start","signature":"start(hostConnectTimeout: number): Promise\u003cvoid>","description":"Start listening for connections from the host","parameters":[{"name":"hostConnectTimeout","type":"number","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"class ChildProcessServerChannel"},{"name":"ChildProcessStartupData","slug":"child-process-startup-data","path":"\\/api\\/child-process-startup-data","module":"core","kind":"interface","comment":{"summary":"Startup data specific to child_process driver.\n\nExtends the base StartupData with child_process-specific fields."},"description":"Startup data specific to child_process driver.\n\nExtends the base StartupData with child_process-specific fields.","category":"!undefined","properties":[{"name":"driver","type":"\"child_process\"","description":"Driver identifier - always 'child_process' for this driver","optional":"!undefined","readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Socket path for IPC communication (required for child_process)","optional":"!undefined","readonly":"!undefined"}],"signature":"interface ChildProcessStartupData extends StartupData"},{"name":"ChildProcessDriverType","slug":"child-process-driver-type","path":"\\/api\\/child-process-driver-type","module":"core","kind":"type","comment":{"summary":"Type of the ChildProcessDriver"},"description":"Type of the ChildProcessDriver","category":"!undefined","signature":"type ChildProcessDriverType = typeof unknown"},{"name":"ResponseFunction","slug":"response-function","path":"\\/api\\/response-function","module":"core","kind":"type","comment":{"summary":"Function to send a response back to the host"},"description":"Function to send a response back to the host","category":"!undefined","signature":"type ResponseFunction = (response: DriverMessage) => Promise\u003cvoid>"},{"name":"ChildProcessDriver","slug":"child-process-driver","path":"\\/api\\/child-process-driver","module":"core","kind":"variable","comment":{"summary":"Child process driver.\n\nUses child_process.fork() with Unix domain sockets for IPC.\nSupports disconnect\\/reconnect and detached workers.","examples":["import { ChildProcessDriver } from 'isolated-workers\\/drivers\\/child-process';\n\n\\/\\/ Host side: spawn a worker\nconst channel = await ChildProcessDriver.spawn('.\\/worker.js', {\n  detached: false,\n  timeout: 10000,\n});\n\n\\/\\/ Worker side: create server\nconst server = await ChildProcessDriver.createServer();"]},"description":"Child process driver.\n\nUses child_process.fork() with Unix domain sockets for IPC.\nSupports disconnect\\/reconnect and detached workers.","category":"!undefined","signature":"type ChildProcessDriver = { detached: false; name: \"child_process\"; createServer: unknown; disconnect: unknown; getStartupData: unknown; reconnect: unknown; spawn: unknown } & { capabilities: InferCapabilities\u003c{ detached: false; name: \"child_process\"; createServer: unknown; disconnect: unknown; getStartupData: unknown; reconnect: unknown; spawn: unknown }> }"},{"name":"DEFAULT_SERVER_CONNECT_TIMEOUT","slug":"default-server-connect-timeout","path":"\\/api\\/default-server-connect-timeout","module":"core","kind":"variable","comment":{"summary":"Default server connect timeout (30 seconds)"},"description":"Default server connect timeout (30 seconds)","category":"!undefined","signature":"type DEFAULT_SERVER_CONNECT_TIMEOUT = 30000"},{"name":"STARTUP_DATA_ENV_KEY","slug":"startup-data-env-key","path":"\\/api\\/startup-data-env-key","module":"core","kind":"variable","comment":{"summary":"Environment variable key for startup data"},"description":"Environment variable key for startup data","category":"!undefined","signature":"type STARTUP_DATA_ENV_KEY = \"ISOLATED_WORKERS_STARTUP_DATA\""},{"name":"createServer","slug":"create-server","path":"\\/api\\/create-server","module":"core","kind":"function","comment":{"summary":"Create a child process server for worker-side communication.\n\nThis function takes startup data to determine the socket path and configuration,\nthen creates a server listening for host connections.","examples":["import { getStartupData } from '..\\/startup.js';\nimport { createServer } from '.\\/child-process\\/server.js';\n\nconst startupData = getStartupData();\nconst server = await createServer(startupData);\n\nserver.onMessage(async (message, respond) => {\n  console.log('Received:', message);\n  await respond({\n    tx: message.tx,\n    type: message.type,\n    payload: { result: 'ok' },\n  });\n});"]},"description":"Create a child process server for worker-side communication.\n\nThis function takes startup data to determine the socket path and configuration,\nthen creates a server listening for host connections.","category":"!undefined","parameters":[{"name":"startupData","type":"ChildProcessStartupData","description":"Startup data from the host process","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ServerOptions","description":"Server options (overrides startup data if provided)","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cChildProcessServerChannel>","signature":"function createServer(startupData: ChildProcessStartupData, options: ServerOptions): Promise\u003cChildProcessServerChannel>"},{"name":"encodeStartupData","slug":"encode-startup-data","path":"\\/api\\/encode-startup-data","module":"core","kind":"function","comment":{"summary":"Encode startup data for passing to child_process via environment variable."},"description":"Encode startup data for passing to child_process via environment variable.","category":"!undefined","parameters":[{"name":"data","type":"StartupData","description":"The startup data to encode","optional":"!undefined","defaultValue":"!undefined"}],"returnType":"string","signature":"function encodeStartupData(data: StartupData): string"},{"name":"spawnWorker","slug":"spawn-worker","path":"\\/api\\/spawn-worker","module":"core","kind":"function","comment":{"summary":"Spawn a worker process and establish communication channel."},"description":"Spawn a worker process and establish communication channel.","category":"!undefined","parameters":[{"name":"script","type":"string","description":"Path to the worker script","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ChildProcessDriverOptions","description":"Spawn options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cChildProcessChannel>","signature":"function spawnWorker(script: string, options: ChildProcessDriverOptions): Promise\u003cChildProcessChannel>"},{"name":"ChildProcessDriverOptions","slug":"child-process-driver-options","path":"\\/api\\/child-process-driver-options","module":"core","kind":"variable","comment":"!undefined","description":"!undefined","category":"!undefined"},{"name":"WorkerThreadsChannel","slug":"worker-threads-channel","path":"\\/api\\/worker-threads-channel","module":"core","kind":"class","comment":{"summary":"Channel implementation for worker threads driver.\n\nWraps a Worker and provides the DriverChannel interface\nusing MessagePort-based communication."},"description":"Channel implementation for worker threads driver.\n\nWraps a Worker and provides the DriverChannel interface\nusing MessagePort-based communication.","category":"!undefined","methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"class WorkerThreadsChannel"},{"name":"WorkerThreadsServerChannel","slug":"worker-threads-server-channel","path":"\\/api\\/worker-threads-server-channel","module":"core","kind":"class","comment":{"summary":"Worker threads server channel implementation.\n\nWraps parentPort and provides the ServerChannel interface."},"description":"Worker threads server channel implementation.\n\nWraps parentPort and provides the ServerChannel interface.","category":"!undefined","methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: ResponseFunction) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: ResponseFunction) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"start","signature":"start(): void","description":"Start listening for messages from the host","parameters":"!undefined","returnType":"void"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"class WorkerThreadsServerChannel"},{"name":"WorkerThreadsStartupData","slug":"worker-threads-startup-data","path":"\\/api\\/worker-threads-startup-data","module":"core","kind":"interface","comment":{"summary":"Startup data specific to worker_threads driver.\n\nExtends the base StartupData with worker_threads-specific fields."},"description":"Startup data specific to worker_threads driver.\n\nExtends the base StartupData with worker_threads-specific fields.","category":"!undefined","properties":[{"name":"driver","type":"\"worker_threads\"","description":"Driver identifier - always 'worker_threads' for this driver","optional":"!undefined","readonly":"!undefined"}],"signature":"interface WorkerThreadsStartupData extends StartupData"},{"name":"ResponseFunction","slug":"response-function","path":"\\/api\\/response-function","module":"core","kind":"type","comment":{"summary":"Function to send a response back to the host"},"description":"Function to send a response back to the host","category":"!undefined","signature":"type ResponseFunction = (response: DriverMessage) => Promise\u003cvoid>"},{"name":"WorkerThreadsDriverType","slug":"worker-threads-driver-type","path":"\\/api\\/worker-threads-driver-type","module":"core","kind":"type","comment":{"summary":"Type of the WorkerThreadsDriver"},"description":"Type of the WorkerThreadsDriver","category":"!undefined","signature":"type WorkerThreadsDriverType = typeof unknown"},{"name":"STARTUP_DATA_WORKER_KEY","slug":"startup-data-worker-key","path":"\\/api\\/startup-data-worker-key","module":"core","kind":"variable","comment":{"summary":"workerData key for startup data"},"description":"workerData key for startup data","category":"!undefined","signature":"type STARTUP_DATA_WORKER_KEY = \"__isolatedWorkers\""},{"name":"WorkerThreadsDriver","slug":"worker-threads-driver","path":"\\/api\\/worker-threads-driver","module":"core","kind":"variable","comment":{"summary":"Worker threads driver.\n\nUses worker_threads module with MessagePort for IPC.\nSupports SharedArrayBuffer for shared memory.","examples":["import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\n\\/\\/ Host side: spawn a worker\nconst channel = await WorkerThreadsDriver.spawn('.\\/worker.js', {\n  resourceLimits: { maxOldGenerationSizeMb: 128 },\n});\n\n\\/\\/ Worker side: create server\nconst server = WorkerThreadsDriver.createServer();"]},"description":"Worker threads driver.\n\nUses worker_threads module with MessagePort for IPC.\nSupports SharedArrayBuffer for shared memory.","category":"!undefined","signature":"type WorkerThreadsDriver = { name: \"worker_threads\"; createServer: unknown; getStartupData: unknown; spawn: unknown; transferSharedMemory: unknown } & { capabilities: InferCapabilities\u003c{ name: \"worker_threads\"; createServer: unknown; getStartupData: unknown; spawn: unknown; transferSharedMemory: unknown }> }"},{"name":"createServer","slug":"create-server","path":"\\/api\\/create-server","module":"core","kind":"function","comment":{"summary":"Create a worker threads server for worker-side communication.\n\nThis function uses parentPort from worker_threads to establish\ncommunication with the host process.","examples":["import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\nconst startupData = WorkerThreadsDriver.getStartupData();\nconst server = createServer(startupData);\n\nserver.onMessage(async (message, respond) => {\n  console.log('Received:', message);\n  await respond({\n    tx: message.tx,\n    type: message.type,\n    payload: { result: 'ok' },\n  });\n});\n\nserver.start();"]},"description":"Create a worker threads server for worker-side communication.\n\nThis function uses parentPort from worker_threads to establish\ncommunication with the host process.","category":"!undefined","parameters":[{"name":"startupData","type":"WorkerThreadsStartupData","description":"Startup data from the host process","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"ServerOptions","description":"Server options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cWorkerThreadsServerChannel>","signature":"function createServer(startupData: WorkerThreadsStartupData, options: ServerOptions): Promise\u003cWorkerThreadsServerChannel>"},{"name":"spawnWorker","slug":"spawn-worker","path":"\\/api\\/spawn-worker","module":"core","kind":"function","comment":{"summary":"Spawn a worker thread and establish communication channel."},"description":"Spawn a worker thread and establish communication channel.","category":"!undefined","parameters":[{"name":"script","type":"string","description":"Path to the worker script (or code if eval is true)","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"WorkerThreadsDriverOptions","description":"Spawn options","optional":"!undefined","defaultValue":"{}"}],"returnType":"Promise\u003cWorkerThreadsChannel>","signature":"function spawnWorker(script: string, options: WorkerThreadsDriverOptions): Promise\u003cWorkerThreadsChannel>"},{"name":"WorkerThreadsDriverOptions","slug":"worker-threads-driver-options","path":"\\/api\\/worker-threads-driver-options","module":"core","kind":"variable","comment":"!undefined","description":"!undefined","category":"!undefined"},{"name":"WorkerThreadsResourceLimits","slug":"worker-threads-resource-limits","path":"\\/api\\/worker-threads-resource-limits","module":"core","kind":"variable","comment":"!undefined","description":"!undefined","category":"!undefined"},{"name":"ChildProcessCapabilities","slug":"child-process-capabilities","path":"\\/api\\/child-process-capabilities","module":"core","kind":"interface","comment":{"summary":"Capability type for child_process driver.\n\nChild process workers support reconnection and detaching,\nbut cannot use SharedArrayBuffer across the IPC boundary."},"description":"Capability type for child_process driver.\n\nChild process workers support reconnection and detaching,\nbut cannot use SharedArrayBuffer across the IPC boundary.","category":"Drivers","properties":[{"name":"detach","type":"true","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"true","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"false","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface ChildProcessCapabilities extends DriverCapabilities"},{"name":"ChildProcessDriverOptions","slug":"child-process-driver-options","path":"\\/api\\/child-process-driver-options","module":"core","kind":"interface","comment":{"summary":"Options for child process driver spawn"},"description":"Options for child process driver spawn","category":"!undefined","properties":[{"name":"detached","type":"boolean","description":"Whether to detach the worker process","optional":true,"readonly":"!undefined"},{"name":"env","type":"Record\u003cstring, string>","description":"Environment variables to pass to worker","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for driver operations","optional":true,"readonly":"!undefined"},{"name":"maxDelay","type":"number","description":"Maximum retry delay cap (default: 5000)","optional":true,"readonly":"!undefined"},{"name":"maxRetries","type":"number","description":"Maximum connection retry attempts (default: 5)","optional":true,"readonly":"!undefined"},{"name":"onShutdown","type":"(reason: ShutdownReason) => void","description":"Shutdown handler callback","optional":true,"readonly":"!undefined"},{"name":"retryDelay","type":"number","description":"Retry delay in ms (default: 100)","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match worker side)","optional":true,"readonly":"!undefined"},{"name":"serverConnectTimeout","type":"number","description":"Server connect timeout passed to worker (default: 30000)","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Override socket path (auto-generated if not provided)","optional":true,"readonly":"!undefined"},{"name":"spawnOptions","type":"SpawnOptions","description":"Additional spawn options","optional":true,"readonly":"!undefined"},{"name":"timeout","type":"number","description":"Connection timeout in ms (default: 10000)","optional":true,"readonly":"!undefined"}],"signature":"interface ChildProcessDriverOptions"},{"name":"Connection","slug":"connection","path":"\\/api\\/connection","module":"core","kind":"interface","comment":{"summary":"Active connection interface"},"description":"Active connection interface","category":"!undefined","properties":[{"name":"isConnected","type":"boolean","description":"Whether the connection is active","optional":"!undefined","readonly":"!undefined"},{"name":"socket","type":"Socket","description":"Underlying socket","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the connection","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: TypedResult) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: TypedResult) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: TypedMessage\u003cT>): Promise\u003cvoid>","description":"Send a message through the connection","parameters":[{"name":"message","type":"TypedMessage\u003cT>","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"interface Connection"},{"name":"ConnectionOptions","slug":"connection-options","path":"\\/api\\/connection-options","module":"core","kind":"interface","comment":{"summary":"Connection options"},"description":"Connection options","category":"!undefined","properties":[{"name":"logger","type":"Logger","description":"Custom logger","optional":true,"readonly":"!undefined"},{"name":"maxDelay","type":"number","description":"Maximum delay cap in ms (default: 5000)","optional":true,"readonly":"!undefined"},{"name":"maxRetries","type":"number","description":"Maximum number of retry attempts (default: 5)","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Per-instance middleware pipeline","optional":true,"readonly":"!undefined"},{"name":"reconnect","type":"boolean","description":"Whether to enable reconnection (default: false)","optional":true,"readonly":"!undefined"},{"name":"retryDelay","type":"number | (attempt: number) => number","description":"Base delay in ms between retries, or custom delay function (default: 100)","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Socket path to connect to","optional":"!undefined","readonly":"!undefined"},{"name":"timeout","type":"number","description":"Connection timeout in ms (default: 10000)","optional":true,"readonly":"!undefined"}],"signature":"interface ConnectionOptions\u003cTDefs>"},{"name":"DetachCapability","slug":"detach-capability","path":"\\/api\\/detach-capability","module":"core","kind":"interface","comment":{"summary":"Detach capability mixin.\n\nChannels that support detaching expose this to indicate\nwhether the worker is running detached from the parent."},"description":"Detach capability mixin.\n\nChannels that support detaching expose this to indicate\nwhether the worker is running detached from the parent.","category":"!undefined","properties":[{"name":"detached","type":"boolean","description":"Whether the worker is detached","optional":"!undefined","readonly":true}],"signature":"interface DetachCapability"},{"name":"Driver","slug":"driver","path":"\\/api\\/driver","module":"core","kind":"interface","comment":{"summary":"Driver interface for spawning workers.\n\nDrivers implement this interface to provide different worker\ncommunication backends.","examples":["const childProcessDriver: Driver\u003cChildProcessCapabilities, ChildProcessOptions> = {\n  name: 'child_process',\n  capabilities: { reconnect: true, detach: true, sharedMemory: false },\n  spawn: async (script, options) => { ... }\n};"]},"description":"Driver interface for spawning workers.\n\nDrivers implement this interface to provide different worker\ncommunication backends.","category":"Drivers","properties":[{"name":"capabilities","type":"TCapabilities","description":"Driver capabilities","optional":"!undefined","readonly":true},{"name":"name","type":"string","description":"Driver identifier","optional":"!undefined","readonly":true}],"methods":[{"name":"spawn","signature":"spawn(script: string, options: TOptions): Promise\u003cDriverChannel>","description":"Spawn a worker and return communication channel","parameters":[{"name":"script","type":"string","description":"!undefined","optional":"!undefined"},{"name":"options","type":"TOptions","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cDriverChannel>"}],"signature":"interface Driver\u003cTCapabilities, TOptions>"},{"name":"DriverCapabilities","slug":"driver-capabilities","path":"\\/api\\/driver-capabilities","module":"core","kind":"interface","comment":{"summary":"Driver capability flags.\n\nThese flags indicate what features a driver supports,\nallowing higher-level code to make decisions based on\navailable capabilities."},"description":"Driver capability flags.\n\nThese flags indicate what features a driver supports,\nallowing higher-level code to make decisions based on\navailable capabilities.","category":"Drivers","properties":[{"name":"detach","type":"boolean","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"boolean","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"boolean","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface DriverCapabilities"},{"name":"DriverChannel","slug":"driver-channel","path":"\\/api\\/driver-channel","module":"core","kind":"interface","comment":{"summary":"Communication channel returned by driver spawn.\n\nThe channel provides a unified interface for sending messages,\nhandling events, and managing the connection lifecycle."},"description":"Communication channel returned by driver spawn.\n\nThe channel provides a unified interface for sending messages,\nhandling events, and managing the connection lifecycle.","category":"!undefined","properties":[{"name":"isConnected","type":"boolean","description":"Whether the channel is connected","optional":"!undefined","readonly":true},{"name":"pid","type":"number","description":"Process ID (undefined for worker_threads)","optional":"!undefined","readonly":true}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the channel","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"onClose","signature":"onClose(handler: () => void): void","description":"Register a close handler","parameters":[{"name":"handler","type":"() => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onShutdown","signature":"onShutdown(handler: (reason: ShutdownReason) => void): void","description":"Register a shutdown handler","parameters":[{"name":"handler","type":"(reason: ShutdownReason) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"send","signature":"send(message: DriverMessage): Promise\u003cvoid>","description":"Send a message through the channel","parameters":[{"name":"message","type":"DriverMessage","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cvoid>"}],"signature":"interface DriverChannel"},{"name":"DriverMessage","slug":"driver-message","path":"\\/api\\/driver-message","module":"core","kind":"interface","comment":{"summary":"Message structure for driver communication.\n\nAll messages sent through the driver layer follow this structure,\nenabling type-safe messaging with transaction tracking."},"description":"Message structure for driver communication.\n\nAll messages sent through the driver layer follow this structure,\nenabling type-safe messaging with transaction tracking.","category":"!undefined","properties":[{"name":"payload","type":"unknown","description":"Message payload data","optional":"!undefined","readonly":"!undefined"},{"name":"tx","type":"string","description":"Transaction ID for request\\/response correlation","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"Message type identifier","optional":"!undefined","readonly":"!undefined"}],"signature":"interface DriverMessage"},{"name":"MiddlewareContext","slug":"middleware-context","path":"\\/api\\/middleware-context","module":"core","kind":"interface","comment":{"summary":"Context passed to middleware functions","deprecated":"Use Middleware\u003cTDefs> from types instead"},"description":"Context passed to middleware functions","category":"!undefined","properties":[{"name":"direction","type":"MiddlewareDirection","description":"Direction of message flow","optional":"!undefined","readonly":"!undefined"},{"name":"message","type":"unknown","description":"The message being sent or received","optional":"!undefined","readonly":"!undefined"}],"signature":"interface MiddlewareContext"},{"name":"ReconnectCapability","slug":"reconnect-capability","path":"\\/api\\/reconnect-capability","module":"core","kind":"interface","comment":{"summary":"Reconnect capability mixin.\n\nChannels that support reconnection implement this interface\nto allow disconnecting while keeping the worker alive."},"description":"Reconnect capability mixin.\n\nChannels that support reconnection implement this interface\nto allow disconnecting while keeping the worker alive.","category":"!undefined","methods":[{"name":"disconnect","signature":"disconnect(): Promise\u003cvoid>","description":"Disconnect from worker but keep process alive","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"reconnect","signature":"reconnect(): Promise\u003cvoid>","description":"Reconnect to existing worker","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface ReconnectCapability"},{"name":"ServerChannel","slug":"server-channel","path":"\\/api\\/server-channel","module":"core","kind":"interface","comment":{"summary":"Server channel interface for worker-side communication."},"description":"Server channel interface for worker-side communication.","category":"!undefined","properties":[{"name":"isRunning","type":"boolean","description":"Whether the server is running","optional":"!undefined","readonly":true},{"name":"socketPath","type":"string","description":"Socket path the server is listening on (empty for worker_threads)","optional":"!undefined","readonly":true}],"methods":[{"name":"onError","signature":"onError(handler: (error: Error) => void): void","description":"Register an error handler","parameters":[{"name":"handler","type":"(error: Error) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"onMessage","signature":"onMessage(handler: (message: DriverMessage, respond: (response: DriverMessage) => Promise\u003cvoid>) => void): void","description":"Register a message handler","parameters":[{"name":"handler","type":"(message: DriverMessage, respond: (response: DriverMessage) => Promise\u003cvoid>) => void","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface ServerChannel"},{"name":"ServerDriver","slug":"server-driver","path":"\\/api\\/server-driver","module":"core","kind":"interface","comment":{"summary":"Driver interface for server-side usage.\n\nThis is a minimal interface that drivers must satisfy for use with\nstartWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver\nsatisfy this interface."},"description":"Driver interface for server-side usage.\n\nThis is a minimal interface that drivers must satisfy for use with\nstartWorkerServer. Both ChildProcessDriver and WorkerThreadsDriver\nsatisfy this interface.","category":"!undefined","properties":[{"name":"name","type":"string","description":"Driver identifier","optional":"!undefined","readonly":true}],"methods":[{"name":"createServer","signature":"createServer(options: ServerOptions): ServerChannel | Promise\u003cServerChannel>","description":"Create server channel","parameters":[{"name":"options","type":"ServerOptions","description":"!undefined","optional":"!undefined"}],"returnType":"ServerChannel | Promise\u003cServerChannel>"},{"name":"getStartupData","signature":"getStartupData(): unknown","description":"Get startup data (throws if not in correct context)","parameters":"!undefined","returnType":"unknown"}],"signature":"interface ServerDriver"},{"name":"ServerOptions","slug":"server-options","path":"\\/api\\/server-options","module":"core","kind":"interface","comment":{"summary":"Options for creating a server channel"},"description":"Options for creating a server channel","category":"!undefined","properties":[{"name":"logger","type":"Logger","description":"Custom logger","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match host!)","optional":true,"readonly":"!undefined"}],"signature":"interface ServerOptions"},{"name":"TypedMessage","slug":"typed-message","path":"\\/api\\/typed-message","module":"core","kind":"interface","comment":{"summary":"Message with type discriminator"},"description":"Message with type discriminator","category":"!undefined","properties":[{"name":"payload","type":"T","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"}],"signature":"interface TypedMessage\u003cT> extends BaseMessage"},{"name":"TypedResult","slug":"typed-result","path":"\\/api\\/typed-result","module":"core","kind":"interface","comment":{"summary":"Result message with type discriminator"},"description":"Result message with type discriminator","category":"!undefined","properties":[{"name":"payload","type":"T","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"type","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"}],"signature":"interface TypedResult\u003cT> extends BaseMessage"},{"name":"WorkerClient","slug":"worker-client","path":"\\/api\\/worker-client","module":"core","kind":"interface","comment":{"summary":"Base worker client interface for type-safe messaging.\n\nThe availability of certain methods depends on the driver's capabilities:\n- `disconnect()` \\/ `reconnect()`: Only available with child_process driver\n- `pid`: Returns number for child_process, undefined for worker_threads"},"description":"Base worker client interface for type-safe messaging.\n\nThe availability of certain methods depends on the driver's capabilities:\n- `disconnect()` \\/ `reconnect()`: Only available with child_process driver\n- `pid`: Returns number for child_process, undefined for worker_threads","category":"!undefined","properties":[{"name":"capabilities","type":"TCapabilities","description":"The driver capabilities for this worker","optional":"!undefined","readonly":true},{"name":"disconnect","type":"TCapabilities[\"reconnect\"] extends true ? () => Promise\u003cvoid> : never","description":"Disconnect from worker but keep process alive.\nOnly available when driver supports reconnect capability.","optional":"!undefined","readonly":"!undefined"},{"name":"isActive","type":"boolean","description":"Whether the worker process is active","optional":"!undefined","readonly":"!undefined"},{"name":"isConnected","type":"boolean","description":"Whether connection to worker is active","optional":"!undefined","readonly":"!undefined"},{"name":"pid","type":"number","description":"Process ID of the worker.\nReturns undefined for worker_threads (they share the parent's PID).","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"TCapabilities[\"reconnect\"] extends true ? () => Promise\u003cvoid> : never","description":"Reconnect to existing worker.\nOnly available when driver supports reconnect capability.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"close","signature":"close(): Promise\u003cvoid>","description":"Close the worker gracefully","parameters":"!undefined","returnType":"Promise\u003cvoid>"},{"name":"send","signature":"send(type: K, payload: TMessages[K][\"payload\"]): Promise\u003cTMessages[K] extends { result: R } ? R : void>","description":"Send a message and await response","parameters":[{"name":"type","type":"K","description":"!undefined","optional":"!undefined"},{"name":"payload","type":"TMessages[K][\"payload\"]","description":"!undefined","optional":"!undefined"}],"returnType":"Promise\u003cTMessages[K] extends { result: R } ? R : void>"}],"signature":"interface WorkerClient\u003cTMessages, TCapabilities>"},{"name":"WorkerOptions","slug":"worker-options","path":"\\/api\\/worker-options","module":"core","kind":"interface","comment":{"summary":"Worker options for spawning"},"description":"Worker options for spawning","category":"!undefined","properties":[{"name":"connection","type":"{ attempts: number; delay: number | (attempt: number) => number; maxDelay: number }","description":"Connection options (child_process driver only).","optional":true,"readonly":"!undefined"},{"name":"debug","type":"boolean","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"detached","type":"boolean","description":"Worker lifecycle options","optional":true,"readonly":"!undefined"},{"name":"driver","type":"TDriver","description":"Driver to use for spawning the worker.\n\nIf not provided, the child_process driver is dynamically loaded.\nPass a driver instance for explicit control over the communication backend.","optional":true,"readonly":"!undefined"},{"name":"driverOptions","type":"Partial\u003cDriverOptionsFor\u003cTDriver>>","description":"Driver-specific options.\n\nThese options are passed directly to the driver's spawn method.\nAvailable options depend on the driver being used.","optional":true,"readonly":"!undefined"},{"name":"env","type":"Record\u003cstring, string>","description":"Environment variables to pass to worker","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Logging options","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Messaging options","optional":true,"readonly":"!undefined"},{"name":"script","type":"string","description":"Path to worker script","optional":"!undefined","readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"socketPath","type":"string","description":"Advanced options","optional":true,"readonly":"!undefined"},{"name":"spawnOptions","type":"SpawnOptions","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"timeout","type":"number | Partial\u003cRecord\u003cBuiltInTimeoutKey | keyof TDefs, number>>","description":"Timeout configuration for worker operations.\n\nCan be a number (applies to all operations) or an object with per-operation timeouts:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n- `[messageType]`: Timeout for specific message type (overrides WORKER_MESSAGE)","optional":true,"readonly":"!undefined"},{"name":"txIdGenerator","type":"TransactionIdGenerator\u003cTDefs>","description":"!undefined","optional":true,"readonly":"!undefined"},{"name":"unexpectedShutdown","type":"UnexpectedShutdownConfig\u003cTDefs>","description":"Unexpected shutdown configuration","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerOptions\u003cTDefs, TDriver>"},{"name":"WorkerServer","slug":"worker-server","path":"\\/api\\/worker-server","module":"core","kind":"interface","comment":{"summary":"Active worker server"},"description":"Active worker server","category":"!undefined","properties":[{"name":"isRunning","type":"boolean","description":"Whether the server is running","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"stop","signature":"stop(): Promise\u003cvoid>","description":"Stop the server and cleanup","parameters":"!undefined","returnType":"Promise\u003cvoid>"}],"signature":"interface WorkerServer"},{"name":"WorkerServerOptions","slug":"worker-server-options","path":"\\/api\\/worker-server-options","module":"core","kind":"interface","comment":{"summary":"Server configuration options"},"description":"Server configuration options","category":"!undefined","properties":[{"name":"driver","type":"ServerDriver","description":"Driver to use for server communication.\nDefaults to ChildProcessDriver if not specified.\nMust match the driver used on the host side.","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for server operations","optional":true,"readonly":"!undefined"},{"name":"middleware","type":"Middleware\u003cTDefs>[]","description":"Middleware pipeline for message processing","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match host!)","optional":true,"readonly":"!undefined"},{"name":"txIdGenerator","type":"TransactionIdGenerator\u003cTDefs>","description":"Custom transaction ID generator","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerServerOptions\u003cTDefs>"},{"name":"WorkerThreadsCapabilities","slug":"worker-threads-capabilities","path":"\\/api\\/worker-threads-capabilities","module":"core","kind":"interface","comment":{"summary":"Capability type for worker_threads driver.\n\nWorker thread workers support SharedArrayBuffer but cannot\nbe reconnected or detached from the parent."},"description":"Capability type for worker_threads driver.\n\nWorker thread workers support SharedArrayBuffer but cannot\nbe reconnected or detached from the parent.","category":"Drivers","properties":[{"name":"detach","type":"false","description":"Worker can outlive parent process","optional":"!undefined","readonly":"!undefined"},{"name":"reconnect","type":"false","description":"Can disconnect\\/reconnect to running worker","optional":"!undefined","readonly":"!undefined"},{"name":"sharedMemory","type":"true","description":"Supports SharedArrayBuffer","optional":"!undefined","readonly":"!undefined"}],"signature":"interface WorkerThreadsCapabilities extends DriverCapabilities"},{"name":"WorkerThreadsDriverOptions","slug":"worker-threads-driver-options","path":"\\/api\\/worker-threads-driver-options","module":"core","kind":"interface","comment":{"summary":"Options for worker threads driver spawn"},"description":"Options for worker threads driver spawn","category":"!undefined","properties":[{"name":"argv","type":"string[]","description":"Arguments to pass to the worker script","optional":true,"readonly":"!undefined"},{"name":"eval","type":"boolean","description":"If true, script is treated as JavaScript code instead of a path","optional":true,"readonly":"!undefined"},{"name":"execArgv","type":"string[]","description":"List of node CLI options passed to the worker.\nUseful for loading TypeScript files via tsx:","optional":true,"readonly":"!undefined"},{"name":"logger","type":"Logger","description":"Custom logger instance","optional":true,"readonly":"!undefined"},{"name":"logLevel","type":"LogLevel","description":"Log level for driver operations","optional":true,"readonly":"!undefined"},{"name":"resourceLimits","type":"WorkerThreadsResourceLimits","description":"Resource limits for the worker thread","optional":true,"readonly":"!undefined"},{"name":"serializer","type":"Serializer","description":"Custom serializer (must match worker side)","optional":true,"readonly":"!undefined"},{"name":"transferList","type":"ArrayBuffer[]","description":"List of transferable objects to transfer to worker","optional":true,"readonly":"!undefined"},{"name":"workerData","type":"unknown","description":"Additional data to pass to worker via workerData","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerThreadsDriverOptions"},{"name":"WorkerThreadsResourceLimits","slug":"worker-threads-resource-limits","path":"\\/api\\/worker-threads-resource-limits","module":"core","kind":"interface","comment":{"summary":"Resource limits for worker threads"},"description":"Resource limits for worker threads","category":"!undefined","properties":[{"name":"codeRangeSizeMb","type":"number","description":"Size of the pre-allocated code range in MB","optional":true,"readonly":"!undefined"},{"name":"maxOldGenerationSizeMb","type":"number","description":"Maximum size of the old generation heap in MB","optional":true,"readonly":"!undefined"},{"name":"maxYoungGenerationSizeMb","type":"number","description":"Maximum size of the young generation heap in MB","optional":true,"readonly":"!undefined"},{"name":"stackSizeMb","type":"number","description":"Default stack size for the worker thread in KB","optional":true,"readonly":"!undefined"}],"signature":"interface WorkerThreadsResourceLimits"},{"name":"BuiltInTimeoutKey","slug":"built-in-timeout-key","path":"\\/api\\/built-in-timeout-key","module":"core","kind":"type","comment":{"summary":"Built-in timeout keys for worker lifecycle events"},"description":"Built-in timeout keys for worker lifecycle events","category":"!undefined","signature":"type BuiltInTimeoutKey = \"WORKER_STARTUP\" | \"WORKER_MESSAGE\" | \"SERVER_CONNECT\""},{"name":"DriverOptionsFor","slug":"driver-options-for","path":"\\/api\\/driver-options-for","module":"core","kind":"type","comment":{"summary":"Driver-specific options mapping"},"description":"Driver-specific options mapping","category":"!undefined","signature":"type DriverOptionsFor = TDriver extends Driver\u003cChildProcessCapabilities> ? ChildProcessDriverOptions : TDriver extends Driver\u003cWorkerThreadsCapabilities> ? WorkerThreadsDriverOptions : Record\u003cstring, unknown>"},{"name":"MessageHandler","slug":"message-handler","path":"\\/api\\/message-handler","module":"core","kind":"type","comment":{"summary":"Handler function type for message processing"},"description":"Handler function type for message processing","category":"!undefined","signature":"type MessageHandler = (payload: unknown) => unknown | Promise\u003cunknown>"},{"name":"MiddlewareDirection","slug":"middleware-direction","path":"\\/api\\/middleware-direction","module":"core","kind":"type","comment":{"summary":"Direction for middleware context","deprecated":"Use 'incoming' | 'outgoing' directly"},"description":"Direction for middleware context","category":"!undefined","signature":"type MiddlewareDirection = \"send\" | \"receive\""},{"name":"TimeoutConfig","slug":"timeout-config","path":"\\/api\\/timeout-config","module":"core","kind":"type","comment":{"summary":"Timeout configuration allowing per-message-type timeouts.\n\nBuilt-in keys:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n\nYou can also specify timeouts for specific message types by their key name.\nMessage-specific timeouts take precedence over WORKER_MESSAGE.","examples":["const worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n  timeout: {\n    WORKER_STARTUP: 5000,        \\/\\/ 5s startup\n    SERVER_CONNECT: 10000,       \\/\\/ 10s for server to wait for host\n    WORKER_MESSAGE: 60000,       \\/\\/ 1min default for messages\n    'slowOperation': 600000,     \\/\\/ 10min for specific message type\n  }\n});"]},"description":"Timeout configuration allowing per-message-type timeouts.\n\nBuilt-in keys:\n- `WORKER_STARTUP`: Time to wait for worker to start (default: 10s)\n- `SERVER_CONNECT`: Time for server to wait for host connection (default: 30s)\n- `WORKER_MESSAGE`: Default timeout for all messages (default: 5min)\n\nYou can also specify timeouts for specific message types by their key name.\nMessage-specific timeouts take precedence over WORKER_MESSAGE.","category":"!undefined","signature":"type TimeoutConfig = Partial\u003cRecord\u003cBuiltInTimeoutKey | keyof TDefs, number>>"},{"name":"WorkerHandler","slug":"worker-handler","path":"\\/api\\/worker-handler","module":"core","kind":"type","comment":{"summary":"Handler function type for worker messages"},"description":"Handler function type for worker messages","category":"!undefined","signature":"type WorkerHandler = (payload: TPayload) => TResult | Promise\u003cTResult>"},{"name":"WorkerHandlers","slug":"worker-handlers","path":"\\/api\\/worker-handlers","module":"core","kind":"type","comment":{"summary":"Collection of handlers for different message types"},"description":"Collection of handlers for different message types","category":"!undefined","signature":"type WorkerHandlers = Record\u003cstring, WorkerHandler>"},{"name":"createWorker","slug":"create-worker","path":"\\/api\\/create-worker","module":"core","kind":"function","comment":{"summary":"Create a worker process with type-safe messaging.\n\nBy default, uses the child_process driver which spawns a separate Node.js process\nand communicates via Unix domain sockets (or named pipes on Windows).\n\nYou can pass a different driver for alternative backends:\n- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)","examples":["const worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n});","import { WorkerThreadsDriver } from 'isolated-workers\\/drivers\\/worker-threads';\n\nconst worker = await createWorker\u003cMyMessages>({\n  script: '.\\/worker.js',\n  driver: new WorkerThreadsDriver(),\n});"]},"description":"Create a worker process with type-safe messaging.\n\nBy default, uses the child_process driver which spawns a separate Node.js process\nand communicates via Unix domain sockets (or named pipes on Windows).\n\nYou can pass a different driver for alternative backends:\n- `WorkerThreadsDriver`: Uses worker_threads with MessagePort (shared memory capable)","category":"Core","parameters":[{"name":"options","type":"WorkerOptions\u003cTMessages, TDriver>","description":"Worker options including script path and optional driver","optional":"!undefined","defaultValue":"!undefined"}],"returnType":"Promise\u003cWorkerClient\u003cTMessages, TDriver extends Driver\u003cC, unknown> ? C : DriverCapabilities>>","signature":"function createWorker(options: WorkerOptions\u003cTMessages, TDriver>): Promise\u003cWorkerClient\u003cTMessages, TDriver extends Driver\u003cC, unknown> ? C : DriverCapabilities>>"},{"name":"startWorkerServer","slug":"start-worker-server","path":"\\/api\\/start-worker-server","module":"core","kind":"function","comment":{"summary":"Start a worker server that listens for messages (type-safe version)"},"description":"Start a worker server that listens for messages (type-safe version)","category":"Core","parameters":[{"name":"handlers","type":"Handlers\u003cTDefs>","description":"Map of typed message handlers","optional":"!undefined","defaultValue":"!undefined"},{"name":"options","type":"WorkerServerOptions\u003cTDefs>","description":"Server options","optional":true,"defaultValue":"!undefined"}],"returnType":"Promise\u003cWorkerServer>","signature":"function startWorkerServer(handlers: Handlers\u003cTDefs>, options?: WorkerServerOptions\u003cTDefs>): Promise\u003cWorkerServer>"},{"name":"JsonSerializer","slug":"json-serializer","path":"\\/api\\/json-serializer","module":"utils","kind":"class","comment":{"summary":"Default JSON serializer with newline terminator"},"description":"Default JSON serializer with newline terminator","category":"Serialization","properties":[{"name":"terminator","type":"string","description":"Terminator sequence used to delimit messages in the stream.\nMust be the same on both client and server.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"deserialize","signature":"deserialize(data: string | Uint8Array\u003cArrayBufferLike>): T","description":"Deserialize string or Uint8Array back to data","parameters":[{"name":"data","type":"string | Uint8Array\u003cArrayBufferLike>","description":"!undefined","optional":"!undefined"}],"returnType":"T"},{"name":"serialize","signature":"serialize(data: T): string","description":"Serialize data to string or Uint8Array","parameters":[{"name":"data","type":"T","description":"!undefined","optional":"!undefined"}],"returnType":"string"}],"signature":"class JsonSerializer extends Serializer"},{"name":"Serializer","slug":"serializer","path":"\\/api\\/serializer","module":"utils","kind":"class","comment":{"summary":"Abstract serializer class for custom message serialization.\nIncludes terminator sequence to delimit messages in the stream.\n\nIMPORTANT: Must be a named class (not anonymous) for mismatch detection."},"description":"Abstract serializer class for custom message serialization.\nIncludes terminator sequence to delimit messages in the stream.\n\nIMPORTANT: Must be a named class (not anonymous) for mismatch detection.","category":"Serialization","properties":[{"name":"terminator","type":"string | Uint8Array\u003cArrayBufferLike>","description":"Terminator sequence used to delimit messages in the stream.\nMust be the same on both client and server.","optional":"!undefined","readonly":"!undefined"}],"methods":[{"name":"deserialize","signature":"deserialize(data: string | Uint8Array\u003cArrayBufferLike>): T","description":"Deserialize string or Uint8Array back to data","parameters":[{"name":"data","type":"string | Uint8Array\u003cArrayBufferLike>","description":"!undefined","optional":"!undefined"}],"returnType":"T"},{"name":"serialize","signature":"serialize(data: T): string | Uint8Array\u003cArrayBufferLike>","description":"Serialize data to string or Uint8Array","parameters":[{"name":"data","type":"T","description":"!undefined","optional":"!undefined"}],"returnType":"string | Uint8Array\u003cArrayBufferLike>"}],"signature":"class Serializer"},{"name":"Logger","slug":"logger","path":"\\/api\\/logger","module":"utils","kind":"interface","comment":{"summary":"Logger interface - must implement all log level methods"},"description":"Logger interface - must implement all log level methods","category":"!undefined","methods":[{"name":"debug","signature":"debug(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"error","signature":"error(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"info","signature":"info(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"},{"name":"warn","signature":"warn(parts: unknown[]): void","description":"!undefined","parameters":[{"name":"parts","type":"unknown[]","description":"!undefined","optional":"!undefined"}],"returnType":"void"}],"signature":"interface Logger"},{"name":"LogLevel","slug":"log-level","path":"\\/api\\/log-level","module":"utils","kind":"type","comment":{"summary":"Log level enum"},"description":"Log level enum","category":"!undefined","signature":"type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\""},{"name":"defaultLogger","slug":"default-logger","path":"\\/api\\/default-logger","module":"utils","kind":"variable","comment":{"summary":"Default console-based logger"},"description":"Default console-based logger","category":"!undefined","signature":"type defaultLogger = Logger"},{"name":"WorkerCrashedError","slug":"worker-crashed-error","path":"\\/api\\/worker-crashed-error","module":"types","kind":"class","comment":"!undefined","description":"!undefined","category":"!undefined","properties":[{"name":"attempt","type":"number","description":"!undefined","optional":"!undefined","readonly":true},{"name":"maxAttempts","type":"number","description":"!undefined","optional":"!undefined","readonly":true},{"name":"messageType","type":"string","description":"!undefined","optional":"!undefined","readonly":true},{"name":"name","type":"string","description":"!undefined","optional":"!undefined","readonly":"!undefined"},{"name":"reason","type":"ShutdownReason","description":"!undefined","optional":"!undefined","readonly":true}],"signature":"class WorkerCrashedError extends Error"},{"name":"BaseMessage","slug":"base-message","path":"\\/api\\/base-message","module":"types","kind":"interface","comment":{"summary":"Base message with transaction ID for request\\/response pairing"},"description":"Base message with transaction ID for request\\/response pairing","category":"!undefined","properties":[{"name":"tx","type":"string","description":"Transaction ID","optional":"!undefined","readonly":"!undefined"}],"signature":"interface BaseMessage"},{"name":"MessageDef","slug":"message-def","path":"\\/api\\/message-def","module":"types","kind":"interface","comment":{"summary":"Message definition shape - each message has a payload and optional result"},"description":"Message definition shape - each message has a payload and optional result","category":"!undefined","properties":[{"name":"payload","type":"unknown","description":"Payload type for the message","optional":"!undefined","readonly":"!undefined"},{"name":"result","type":"unknown","description":"Optional result type (if message expects a response)","optional":true,"readonly":"!undefined"}],"signature":"interface MessageDef"},{"name":"AllMessages","slug":"all-messages","path":"\\/api\\/all-messages","module":"types","kind":"type","comment":{"summary":"Union of all message types in the definition.","examples":["type AllMsgs = AllMessages\u003cMyMessages>;\n\\/\\/ MessageOf\u003cMyMessages, 'load'> | MessageOf\u003cMyMessages, 'compute'> | ..."]},"description":"Union of all message types in the definition.","category":"!undefined","signature":"type AllMessages = { [key: string]: ... }[keyof TDefs & string]"},{"name":"AllResults","slug":"all-results","path":"\\/api\\/all-results","module":"types","kind":"type","comment":{"summary":"Union of all result types in the definition.","examples":["type AllRes = AllResults\u003cMyMessages>;\n\\/\\/ ResultOf\u003cMyMessages, 'load'> | ResultOf\u003cMyMessages, 'compute'> | ..."]},"description":"Union of all result types in the definition.","category":"!undefined","signature":"type AllResults = { [key: string]: ... }[WithResult\u003cTDefs> & string]"},{"name":"AnyMessage","slug":"any-message","path":"\\/api\\/any-message","module":"types","kind":"type","comment":{"summary":"Union of all message types (requests and responses).\nUse this for middleware, transaction ID generators, and other\nfunctions that handle any message type.","examples":["type MyMessages = DefineMessages\u003c{\n  load: { payload: { config: string }; result: { loaded: true } };\n}>;\n\nfunction middleware(msg: AnyMessage\u003cMyMessages>) {\n  console.log('Handling:', msg.type);\n}"]},"description":"Union of all message types (requests and responses).\nUse this for middleware, transaction ID generators, and other\nfunctions that handle any message type.","category":"!undefined","signature":"type AnyMessage = AllMessages\u003cTDefs> | AllResults\u003cTDefs>"},{"name":"DefineMessages","slug":"define-messages","path":"\\/api\\/define-messages","module":"types","kind":"type","comment":{"summary":"Type constructor for defining message sets.\n\nUse this to define your worker's message contract with full type safety.","examples":["type MyMessages = DefineMessages\u003c{\n  load: { payload: { config: string }; result: { loaded: true } };\n  compute: { payload: { data: number }; result: { value: number } };\n  shutdown: { payload: void };\n}>;"]},"description":"Type constructor for defining message sets.\n\nUse this to define your worker's message contract with full type safety.","category":"Types","signature":"type DefineMessages = TDefs"},{"name":"Handlers","slug":"handlers","path":"\\/api\\/handlers","module":"types","kind":"type","comment":{"summary":"Handler function type for a message definition.\n\nHandlers receive the payload and return the result (or void if no result).","examples":["const handlers: Handlers\u003cMyMessages> = {\n  load: async (payload) => ({ loaded: true }),\n  shutdown: () => { console.log('bye'); }\n};"]},"description":"Handler function type for a message definition.\n\nHandlers receive the payload and return the result (or void if no result).","category":"Configuration","signature":"type Handlers = { [key: string]: ... }"},{"name":"MaybePromise","slug":"maybe-promise","path":"\\/api\\/maybe-promise","module":"types","kind":"type","comment":{"summary":"Utility type for values that may be promises"},"description":"Utility type for values that may be promises","category":"!undefined","signature":"type MaybePromise = T | Promise\u003cT>"},{"name":"MessageDefs","slug":"message-defs","path":"\\/api\\/message-defs","module":"types","kind":"type","comment":{"summary":"Collection of message definitions"},"description":"Collection of message definitions","category":"!undefined","signature":"type MessageDefs = Record\u003cstring, MessageDef>"},{"name":"MessageOf","slug":"message-of","path":"\\/api\\/message-of","module":"types","kind":"type","comment":{"summary":"Extract the full message type for a given key.","examples":["type LoadMessage = MessageOf\u003cMyMessages, 'load'>;\n\\/\\/ { tx: string; type: 'load'; payload: { config: string } }"]},"description":"Extract the full message type for a given key.","category":"!undefined","signature":"type MessageOf = BaseMessage & { payload: TDefs[K][\"payload\"]; type: K }"},{"name":"MessageResult","slug":"message-result","path":"\\/api\\/message-result","module":"types","kind":"type","comment":{"summary":"Map a message type to its corresponding result type.","examples":["type LoadResponse = MessageResult\u003c'load', MyMessages>;\n\\/\\/ ResultOf\u003cMyMessages, 'load'>"]},"description":"Map a message type to its corresponding result type.","category":"!undefined","signature":"type MessageResult = TMessageType extends WithResult\u003cTDefs> ? ResultOf\u003cTDefs, TMessageType> : never"},{"name":"MessageType","slug":"message-type","path":"\\/api\\/message-type","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type MessageType = keyof TDefs & string"},{"name":"Middleware","slug":"middleware","path":"\\/api\\/middleware","module":"types","kind":"type","comment":{"summary":"Middleware function type for message inspection\\/transformation.\nApplied sequentially in the order provided.\n\nMessages are sealed before being passed to middleware, so you can\nmodify existing properties but cannot add new ones.","examples":["const logMiddleware: Middleware\u003cMyMessages> = (msg, direction) => {\n  console.log(`${direction}:`, msg.type);\n  return msg;\n};"]},"description":"Middleware function type for message inspection\\/transformation.\nApplied sequentially in the order provided.\n\nMessages are sealed before being passed to middleware, so you can\nmodify existing properties but cannot add new ones.","category":"Configuration","signature":"type Middleware = (message: AnyMessage\u003cTDefs>, direction: \"incoming\" | \"outgoing\") => AnyMessage\u003cTDefs> | void | Promise\u003cAnyMessage\u003cTDefs> | void>"},{"name":"PayloadOf","slug":"payload-of","path":"\\/api\\/payload-of","module":"types","kind":"type","comment":{"summary":"Extract the payload type for a given message key."},"description":"Extract the payload type for a given message key.","category":"!undefined","signature":"type PayloadOf = TDefs[K][\"payload\"]"},{"name":"ResultOf","slug":"result-of","path":"\\/api\\/result-of","module":"types","kind":"type","comment":{"summary":"Extract the full result type for a given key.","examples":["type LoadResult = ResultOf\u003cMyMessages, 'load'>;\n\\/\\/ { tx: string; type: 'loadResult'; payload: { loaded: true } }"]},"description":"Extract the full result type for a given key.","category":"!undefined","signature":"type ResultOf = BaseMessage & { payload: TDefs[K] extends { result: unknown } ? TDefs[K][\"result\"] : never; type: string }"},{"name":"ResultPayloadOf","slug":"result-payload-of","path":"\\/api\\/result-payload-of","module":"types","kind":"type","comment":{"summary":"Extract the result type for a given message key."},"description":"Extract the result type for a given message key.","category":"!undefined","signature":"type ResultPayloadOf = TDefs[K] extends { result: unknown } ? TDefs[K][\"result\"] : never"},{"name":"ShutdownReason","slug":"shutdown-reason","path":"\\/api\\/shutdown-reason","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type ShutdownReason = { code: number | null; signal: string | null; type: \"exit\" } | { error: Error; type: \"error\" } | { type: \"close\" }"},{"name":"TransactionIdGenerator","slug":"transaction-id-generator","path":"\\/api\\/transaction-id-generator","module":"types","kind":"type","comment":{"summary":"Transaction ID generator function type.\nReceives a message and returns a unique transaction ID string.","examples":["const customGen: TransactionIdGenerator\u003cMyMessages> = (msg) => {\n  return `${msg.type}-${Date.now()}`;\n};"]},"description":"Transaction ID generator function type.\nReceives a message and returns a unique transaction ID string.","category":"!undefined","signature":"type TransactionIdGenerator = (message: AnyMessage\u003cTDefs>) => string"},{"name":"UnexpectedShutdownConfig","slug":"unexpected-shutdown-config","path":"\\/api\\/unexpected-shutdown-config","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type UnexpectedShutdownConfig = UnexpectedShutdownStrategy & { [key: string]: ... }"},{"name":"UnexpectedShutdownStrategy","slug":"unexpected-shutdown-strategy","path":"\\/api\\/unexpected-shutdown-strategy","module":"types","kind":"type","comment":"!undefined","description":"!undefined","category":"!undefined","signature":"type UnexpectedShutdownStrategy = { strategy: \"reject\" } | { attempts: number; strategy: \"retry\" }"},{"name":"WithResult","slug":"with-result","path":"\\/api\\/with-result","module":"types","kind":"type","comment":{"summary":"Extract keys that have a result defined.","examples":["type Messages = DefineMessages\u003c{\n  load: { payload: {}; result: {} };  \\/\\/ Has result\n  shutdown: { payload: {} };          \\/\\/ No result\n}>;\ntype WithRes = WithResult\u003cMessages>; \\/\\/ 'load'"]},"description":"Extract keys that have a result defined.","category":"Types","signature":"type WithResult = { [key: string]: ... }[keyof TDefs]"}]}}}</script>
        <script id="vike_globalContext" type="application/json">{"navigation":[{"title":"Getting Started","children":[{"title":"Installation","path":"\\/docs\\/getting-started\\/installation","order":0},{"title":"Quick Start","path":"\\/docs\\/getting-started\\/quick-start","order":2},{"title":"Building Your First Worker","path":"\\/docs\\/getting-started\\/first-worker","order":3}],"order":0,"path":"\\/docs\\/getting-started"},{"title":"Concepts","children":[{"title":"Why isolated-workers?","path":"\\/docs\\/concepts\\/why-isolated-workers","order":1},{"title":"Drivers","path":"\\/docs\\/concepts\\/drivers","order":3}],"order":10,"path":"\\/docs\\/concepts"},{"title":"Guides","children":[{"title":"Error Handling","path":"\\/docs\\/guides\\/error-handling","order":1},{"title":"Middleware","path":"\\/docs\\/guides\\/middleware","order":2},{"title":"Timeout Configuration","path":"\\/docs\\/guides\\/timeout-configuration","order":3},{"title":"Custom Serializers","path":"\\/docs\\/guides\\/custom-serializers","order":4},{"title":"Worker Lifecycle","path":"\\/docs\\/guides\\/worker-lifecycle","order":5},{"title":"TypeScript Deep Dive","path":"\\/docs\\/guides\\/typescript","order":6},{"title":"Troubleshooting","path":"\\/docs\\/guides\\/troubleshooting","order":7},{"title":"Testing Workers","path":"\\/docs\\/guides\\/testing","order":8},{"title":"Security Considerations","path":"\\/docs\\/guides\\/security","order":9}],"order":20,"path":"\\/docs\\/guides"},{"title":"Examples","path":"\\/examples","children":[{"title":"Basic Ping-Pong Worker","path":"\\/examples\\/basic-ping"},{"title":"Custom Serializer","path":"\\/examples\\/custom-serializer"},{"title":"Error Handling","path":"\\/examples\\/error-handling"},{"title":"Middleware Pipeline","path":"\\/examples\\/middleware"},{"title":"Timeout Configuration","path":"\\/examples\\/timeout-config"},{"title":"Unexpected Worker Shutdown Handling","path":"\\/examples\\/shutdown-handling"},{"title":"Worker Lifecycle Management","path":"\\/examples\\/worker-lifecycle"},{"title":"Worker Threads Driver","path":"\\/examples\\/worker-threads-driver"}],"order":100},{"title":"API Reference","path":"\\/api","children":[{"title":"Configuration","path":"\\/api#configuration","children":[{"title":"Handlers","path":"\\/api\\/handlers"},{"title":"Middleware","path":"\\/api\\/middleware"}]},{"title":"Core","path":"\\/api#core","children":[{"title":"createWorker","path":"\\/api\\/create-worker"},{"title":"startWorkerServer","path":"\\/api\\/start-worker-server"}]},{"title":"Drivers","path":"\\/api#drivers","children":[{"title":"ChildProcessCapabilities","path":"\\/api\\/child-process-capabilities"},{"title":"Driver","path":"\\/api\\/driver"},{"title":"DriverCapabilities","path":"\\/api\\/driver-capabilities"},{"title":"WorkerThreadsCapabilities","path":"\\/api\\/worker-threads-capabilities"}]},{"title":"Other","path":"\\/api#other","children":[{"title":"AllMessages","path":"\\/api\\/all-messages"},{"title":"AllResults","path":"\\/api\\/all-results"},{"title":"AnyMessage","path":"\\/api\\/any-message"},{"title":"BaseMessage","path":"\\/api\\/base-message"},{"title":"BuiltInTimeoutKey","path":"\\/api\\/built-in-timeout-key"},{"title":"ChildProcessChannel","path":"\\/api\\/child-process-channel"},{"title":"ChildProcessDriver","path":"\\/api\\/child-process-driver"},{"title":"ChildProcessDriverOptions","path":"\\/api\\/child-process-driver-options"},{"title":"ChildProcessDriverOptions","path":"\\/api\\/child-process-driver-options"},{"title":"ChildProcessDriverType","path":"\\/api\\/child-process-driver-type"},{"title":"ChildProcessServerChannel","path":"\\/api\\/child-process-server-channel"},{"title":"ChildProcessStartupData","path":"\\/api\\/child-process-startup-data"},{"title":"Connection","path":"\\/api\\/connection"},{"title":"ConnectionOptions","path":"\\/api\\/connection-options"},{"title":"createServer","path":"\\/api\\/create-server"},{"title":"createServer","path":"\\/api\\/create-server"},{"title":"DEFAULT_SERVER_CONNECT_TIMEOUT","path":"\\/api\\/default-server-connect-timeout"},{"title":"defaultLogger","path":"\\/api\\/default-logger"},{"title":"DetachCapability","path":"\\/api\\/detach-capability"},{"title":"DriverChannel","path":"\\/api\\/driver-channel"},{"title":"DriverMessage","path":"\\/api\\/driver-message"},{"title":"DriverOptionsFor","path":"\\/api\\/driver-options-for"},{"title":"encodeStartupData","path":"\\/api\\/encode-startup-data"},{"title":"Logger","path":"\\/api\\/logger"},{"title":"LogLevel","path":"\\/api\\/log-level"},{"title":"MaybePromise","path":"\\/api\\/maybe-promise"},{"title":"MessageDef","path":"\\/api\\/message-def"},{"title":"MessageDefs","path":"\\/api\\/message-defs"},{"title":"MessageHandler","path":"\\/api\\/message-handler"},{"title":"MessageOf","path":"\\/api\\/message-of"},{"title":"MessageResult","path":"\\/api\\/message-result"},{"title":"MessageType","path":"\\/api\\/message-type"},{"title":"MiddlewareContext","path":"\\/api\\/middleware-context"},{"title":"MiddlewareDirection","path":"\\/api\\/middleware-direction"},{"title":"PayloadOf","path":"\\/api\\/payload-of"},{"title":"ReconnectCapability","path":"\\/api\\/reconnect-capability"},{"title":"ResponseFunction","path":"\\/api\\/response-function"},{"title":"ResponseFunction","path":"\\/api\\/response-function"},{"title":"ResultOf","path":"\\/api\\/result-of"},{"title":"ResultPayloadOf","path":"\\/api\\/result-payload-of"},{"title":"ServerChannel","path":"\\/api\\/server-channel"},{"title":"ServerDriver","path":"\\/api\\/server-driver"},{"title":"ServerOptions","path":"\\/api\\/server-options"},{"title":"ShutdownReason","path":"\\/api\\/shutdown-reason"},{"title":"spawnWorker","path":"\\/api\\/spawn-worker"},{"title":"spawnWorker","path":"\\/api\\/spawn-worker"},{"title":"STARTUP_DATA_ENV_KEY","path":"\\/api\\/startup-data-env-key"},{"title":"STARTUP_DATA_WORKER_KEY","path":"\\/api\\/startup-data-worker-key"},{"title":"TimeoutConfig","path":"\\/api\\/timeout-config"},{"title":"TransactionIdGenerator","path":"\\/api\\/transaction-id-generator"},{"title":"TypedMessage","path":"\\/api\\/typed-message"},{"title":"TypedResult","path":"\\/api\\/typed-result"},{"title":"UnexpectedShutdownConfig","path":"\\/api\\/unexpected-shutdown-config"},{"title":"UnexpectedShutdownStrategy","path":"\\/api\\/unexpected-shutdown-strategy"},{"title":"WorkerClient","path":"\\/api\\/worker-client"},{"title":"WorkerCrashedError","path":"\\/api\\/worker-crashed-error"},{"title":"WorkerHandler","path":"\\/api\\/worker-handler"},{"title":"WorkerHandlers","path":"\\/api\\/worker-handlers"},{"title":"WorkerOptions","path":"\\/api\\/worker-options"},{"title":"WorkerServer","path":"\\/api\\/worker-server"},{"title":"WorkerServerOptions","path":"\\/api\\/worker-server-options"},{"title":"WorkerThreadsChannel","path":"\\/api\\/worker-threads-channel"},{"title":"WorkerThreadsDriver","path":"\\/api\\/worker-threads-driver"},{"title":"WorkerThreadsDriverOptions","path":"\\/api\\/worker-threads-driver-options"},{"title":"WorkerThreadsDriverOptions","path":"\\/api\\/worker-threads-driver-options"},{"title":"WorkerThreadsDriverType","path":"\\/api\\/worker-threads-driver-type"},{"title":"WorkerThreadsResourceLimits","path":"\\/api\\/worker-threads-resource-limits"},{"title":"WorkerThreadsResourceLimits","path":"\\/api\\/worker-threads-resource-limits"},{"title":"WorkerThreadsServerChannel","path":"\\/api\\/worker-threads-server-channel"},{"title":"WorkerThreadsStartupData","path":"\\/api\\/worker-threads-startup-data"}]},{"title":"Serialization","path":"\\/api#serialization","children":[{"title":"JsonSerializer","path":"\\/api\\/json-serializer"},{"title":"Serializer","path":"\\/api\\/serializer"}]},{"title":"Types","path":"\\/api#types","children":[{"title":"DefineMessages","path":"\\/api\\/define-messages"},{"title":"WithResult","path":"\\/api\\/with-result"}]}],"order":200},{"title":"Configuration","children":[{"title":"Shutdown Handling","path":"\\/docs\\/guides\\/shutdown-handling","order":4}]},{"title":"Resources","children":[{"title":"FAQ","path":"\\/docs\\/faq","order":0},{"title":"Contributing","path":"\\/docs\\/contributing","order":1}]}],"examples":{"basic-ping":{"id":"basic-ping","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/basic-ping","title":"Basic Ping-Pong Worker","description":"A simple example demonstrating the basics of isolated-workers: spawning a worker process, sending messages, and receiving responses. This example shows the fundamental request\\/response pattern with type-safe message definitions.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:basic-ping","title":"Run the example","assertions":[{"contains":"Worker spawned with PID"},{"contains":"Received response:"},{"contains":"Worker closed successfully"}]}],"hidden":false},"custom-serializer":{"id":"custom-serializer","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/custom-serializer","title":"Custom Serializer","description":"Shows how to implement and use a custom serializer for message encoding. This is useful for using binary formats like MessagePack, adding compression, or wrapping messages with metadata. Both host and worker must use the same serializer.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./serializer.ts":"serializer.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:custom-serializer","title":"Run the example","assertions":[{"contains":"VerboseJsonSerializer"},{"contains":"[SERIALIZER] Message #"},{"contains":"HELLO, CUSTOM SERIALIZER!"},{"contains":"Worker closed successfully"}]}],"hidden":false},"error-handling":{"id":"error-handling","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/error-handling","title":"Error Handling","description":"Demonstrates how errors thrown in worker handlers propagate back to the host,\nincluding error messages and proper cleanup.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:error-handling","title":"Run the example","assertions":[{"contains":"Test 1: 10 \\/ 2"},{"contains":"Result: 5"},{"contains":"Test 2: 10 \\/ 0 (should error)"},{"contains":"Division by zero"},{"contains":"All tests passed"}]}],"hidden":false},"image-processing":{"id":"image-processing","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/image-processing","title":"Image Processing Worker","description":"A complete example demonstrating how to build a production-ready worker\nfor CPU-intensive tasks like image processing. Shows type-safe messaging,\nper-operation timeouts, worker state, and batch processing.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:image-processing","title":"Run the example","assertions":[{"contains":"Worker PID:"},{"contains":"Image metadata:"},{"contains":"Worker status:"},{"contains":"Batch result:"},{"contains":"Worker shut down gracefully"}]}],"hidden":true},"middleware":{"id":"middleware","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/middleware","title":"Middleware Pipeline","description":"Demonstrates how to use middleware to intercept and process messages. Middleware can log messages, add metadata, validate structure, or transform payloads. Both the host and worker can have their own middleware pipelines.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:middleware","title":"Run the example","assertions":[{"contains":"[OUTGOING]"},{"contains":"[INCOMING]"},{"contains":"Hello, World!"},{"contains":"Worker closed successfully"}]}],"hidden":false},"readme-snippets":{"id":"readme-snippets","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/readme-snippets","title":"README Code Snippets","description":"Type-checked code snippets used in the package README.\nThis example is hidden from navigation.\n","entryPoint":"drivers.ts","fileMap":{"./drivers.ts":"drivers.ts","./api-overview.ts":"api-overview.ts"},"commands":"!undefined","hidden":true},"shutdown-handling":{"id":"shutdown-handling","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/shutdown-handling","title":"Unexpected Worker Shutdown Handling","description":"Demonstrates how to handle unexpected worker crashes with configurable\nretry strategies, per-message-type overrides, and detailed error context.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:shutdown-handling","title":"Run the example","assertions":[{"contains":"Test 1: Normal operation"},{"contains":"Result: 25"},{"contains":"Test 2: Idempotent operation with crash - retry exhaustion"},{"contains":"WorkerCrashedError after retries"},{"contains":"Attempt: 3\\/3"},{"contains":"Test 3: Non-idempotent operation"},{"contains":"Attempt: 1\\/1"},{"contains":"No retries"},{"contains":"Test 4: Batch processing with retry exhaustion"},{"contains":"Test 5: Successful batch processing"},{"contains":"Processed batch of 3 items"}]}],"hidden":false},"timeout-config":{"id":"timeout-config","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/timeout-config","title":"Timeout Configuration","description":"Demonstrates the flexible timeout configuration system. You can set timeouts for worker startup, server connection, a default message timeout, and per-message-type timeouts for fine-grained control over long-running operations.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:timeout-config","title":"Run the example","assertions":[{"contains":"Timeout configuration:"},{"contains":"Quick ping completed"},{"contains":"Slow process completed"},{"contains":"Worker closed successfully"}]}],"hidden":false},"worker-lifecycle":{"id":"worker-lifecycle","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/worker-lifecycle","title":"Worker Lifecycle Management","description":"Demonstrates worker lifecycle management including status checking (isActive, isConnected), state persistence across requests, and graceful shutdown. Shows how workers maintain state between messages and how to handle the worker after it's closed.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:worker-lifecycle","title":"Run the example","assertions":[{"contains":"Worker Created"},{"contains":"isActive: true"},{"contains":"isConnected: true"},{"contains":"Request count:"},{"contains":"isActive: false"},{"contains":"Worker is not active"}]}],"hidden":false},"worker-threads-driver":{"id":"worker-threads-driver","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/worker-threads-driver","title":"Worker Threads Driver","description":"Use the worker_threads driver for in-process workers with shared memory support.\nWorker threads run in the same process as the host, enabling SharedArrayBuffer\nand lower overhead compared to child processes.\n","entryPoint":"host.ts","fileMap":"!undefined","commands":[{"command":"node --import tsx {filename}","title":"Run worker threads example","assertions":[{"contains":"Result:"},{"contains":"Worker threads driver"}]}],"hidden":false}}}</script>
        <script src="/isolated-workers/assets/entries/entry-client-routing.io56qHg_.js" type="module" async></script>
        <link rel="modulepreload" href="/isolated-workers/assets/entries/pages_api.DbvEejGp.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-CoIusrxJ.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-B01QXYmX.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-DApX3sgb.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-jQ2pk9iw.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-Y59L1pI7.js" as="script" type="text/javascript">
      </body>
    </html>