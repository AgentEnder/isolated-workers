<!DOCTYPE html>
    <html lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/isolated-workers/assets/static/pages_tailwind-65fb2459.DWwu-Xsw.css">
        <meta charset="UTF-8" />
        
        
    <title>isolated-workers</title><meta property="og:title" content="isolated-workers" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="data:image/svg+xml,%3csvg%20width=&#x27;48&#x27;%20height=&#x27;48&#x27;%20viewBox=&#x27;0%200%2048%2048&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3c!--%20Background%20hexagon%20representing%20the%20isolated%20container%20--%3e%3cpath%20d=&#x27;M24%204L42%2014V34L24%2044L6%2034V14L24%204Z&#x27;%20fill=&#x27;%231a1a2e&#x27;%20stroke=&#x27;%234a5568&#x27;%20stroke-width=&#x27;1.5&#x27;/%3e%3c!--%20Inner%20isolated%20worker%20cells%20--%3e%3c!--%20Top%20worker%20--%3e%3cg%20transform=&#x27;translate(24,%2012)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%233b82f6&#x27;%20stroke=&#x27;%2360a5fa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-left%20worker%20--%3e%3cg%20transform=&#x27;translate(14,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%2310b981&#x27;%20stroke=&#x27;%2334d399&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-right%20worker%20--%3e%3cg%20transform=&#x27;translate(34,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%238b5cf6&#x27;%20stroke=&#x27;%23a78bfa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Communication%20channels%20(dashed%20lines%20showing%20IPC)%20--%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;14&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;34&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;20&#x27;%20y1=&#x27;30&#x27;%20x2=&#x27;28&#x27;%20y2=&#x27;30&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3c!--%20Type-safe%20data%20packets%20on%20channels%20--%3e%3ccircle%20cx=&#x27;19&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;29&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;24&#x27;%20cy=&#x27;30&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3c/svg%3e"/><meta name="theme-color" content="#131316"/><meta property="og:type" content="website"/><meta property="og:title" content="isolated-workers"/><meta property="og:description" content="Type-safe worker processes with end-to-end message contracts"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="isolated-workers"/><meta name="twitter:description" content="Type-safe worker processes with end-to-end message contracts"/>
    
    <meta name="description" content="Type-safe worker processes with end-to-end message contracts" /><meta property="og:description" content="Type-safe worker processes with end-to-end message contracts" />
    
  
        
      </head>
      <body>
        
        <div id="root"><div class="min-h-screen bg-primary text-gray-100"><div class="fixed inset-0 overflow-hidden pointer-events-none " aria-hidden="true"><div class="absolute inset-0 retro-horizon"></div><div class="absolute inset-0 retro-grid"></div><div class="absolute w-96 h-96 rounded-full blur-3xl animate-float" style="top:15%;left:20%;background:radial-gradient(circle, rgba(0, 240, 255, 0.15) 0%, transparent 70%)"></div><div class="absolute w-96 h-96 rounded-full blur-3xl animate-float" style="bottom:20%;right:15%;background:radial-gradient(circle, rgba(191, 0, 255, 0.12) 0%, transparent 70%);animation-delay:2s"></div><div class="absolute w-72 h-72 rounded-full blur-3xl animate-float" style="top:40%;left:50%;transform:translateX(-50%);background:radial-gradient(circle, rgba(255, 0, 128, 0.08) 0%, transparent 70%);animation-delay:4s"></div><div class="absolute w-64 h-64 rounded-full blur-3xl animate-pulse-slow" style="top:10%;right:25%;background:radial-gradient(circle, rgba(0, 255, 157, 0.06) 0%, transparent 70%);animation-delay:1s"></div><div class="absolute inset-0 retro-scanlines"></div></div><header class="fixed top-0 left-0 right-0 h-20 z-50 glass-enhanced border-b border-neon-cyan/10"><div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between"><a href="/isolated-workers/" class="flex items-center gap-3 group"><div class="relative neon-flicker-slow"><img src="data:image/svg+xml,%3csvg%20width=&#x27;48&#x27;%20height=&#x27;48&#x27;%20viewBox=&#x27;0%200%2048%2048&#x27;%20fill=&#x27;none&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%3e%3c!--%20Background%20hexagon%20representing%20the%20isolated%20container%20--%3e%3cpath%20d=&#x27;M24%204L42%2014V34L24%2044L6%2034V14L24%204Z&#x27;%20fill=&#x27;%231a1a2e&#x27;%20stroke=&#x27;%234a5568&#x27;%20stroke-width=&#x27;1.5&#x27;/%3e%3c!--%20Inner%20isolated%20worker%20cells%20--%3e%3c!--%20Top%20worker%20--%3e%3cg%20transform=&#x27;translate(24,%2012)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%233b82f6&#x27;%20stroke=&#x27;%2360a5fa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-left%20worker%20--%3e%3cg%20transform=&#x27;translate(14,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%2310b981&#x27;%20stroke=&#x27;%2334d399&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Bottom-right%20worker%20--%3e%3cg%20transform=&#x27;translate(34,%2030)&#x27;%3e%3crect%20x=&#x27;-6&#x27;%20y=&#x27;-4&#x27;%20width=&#x27;12&#x27;%20height=&#x27;8&#x27;%20rx=&#x27;2&#x27;%20fill=&#x27;%238b5cf6&#x27;%20stroke=&#x27;%23a78bfa&#x27;%20stroke-width=&#x27;1&#x27;/%3e%3ccircle%20cx=&#x27;0&#x27;%20cy=&#x27;0&#x27;%20r=&#x27;2&#x27;%20fill=&#x27;%23fff&#x27;/%3e%3c/g%3e%3c!--%20Communication%20channels%20(dashed%20lines%20showing%20IPC)%20--%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;14&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;24&#x27;%20y1=&#x27;16&#x27;%20x2=&#x27;34&#x27;%20y2=&#x27;26&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3cline%20x1=&#x27;20&#x27;%20y1=&#x27;30&#x27;%20x2=&#x27;28&#x27;%20y2=&#x27;30&#x27;%20stroke=&#x27;%236b7280&#x27;%20stroke-width=&#x27;1.5&#x27;%20stroke-dasharray=&#x27;2,2&#x27;/%3e%3c!--%20Type-safe%20data%20packets%20on%20channels%20--%3e%3ccircle%20cx=&#x27;19&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;29&#x27;%20cy=&#x27;21&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3ccircle%20cx=&#x27;24&#x27;%20cy=&#x27;30&#x27;%20r=&#x27;1.5&#x27;%20fill=&#x27;%23fbbf24&#x27;/%3e%3c/svg%3e" height="40" width="40" alt="isolated-workers logo" class="transition-all duration-300 group-hover:drop-shadow-[0_0_12px_rgba(0,240,255,0.6)]"/></div><span class="text-xl font-bold bg-linear-to-r from-neon-cyan to-neon-purple bg-clip-text text-transparent neon-flicker-alt neon-flicker-delay-1">isolated-workers</span></a><nav class="hidden md:flex items-center gap-6"><a href="/isolated-workers/docs/getting-started" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-gray-400 hover:text-gray-200
      ">Getting Started</a><a href="/isolated-workers/docs/guides" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-neon-cyan text-glow-cyan
      ">Guides<span class="absolute -bottom-1 left-0 right-0 h-0.5 bg-linear-to-r from-neon-cyan to-neon-purple shadow-neon-sm"></span></a><a href="/isolated-workers/examples" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-gray-400 hover:text-gray-200
      ">Examples</a><a href="/isolated-workers/api" class="
        text-sm font-medium transition-all duration-200 relative link-underline
        text-gray-400 hover:text-gray-200
      ">API Reference</a></nav><div class="hidden md:block"><div class="relative"><div class="relative"><svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg><input type="text" placeholder="Search docs..." class="
            w-64 pl-10 pr-16 py-2 rounded-lg text-sm
            bg-black/40 border border-white/10
            text-gray-100 placeholder:text-gray-500
            focus:border-neon-cyan focus:ring-1 focus:ring-neon-cyan/50
            focus:outline-none transition-all duration-200
            hover:border-white/20
          " value=""/><kbd class="absolute right-3 top-1/2 -translate-y-1/2 px-1.5 py-0.5 text-xs bg-white/5 border border-white/10 rounded text-gray-500 pointer-events-none flex items-center gap-0.5"><span class="text-[10px]">âŒ˜</span>K</kbd></div></div></div></div></header><div class="pt-20"><div class="relative flex min-h-[calc(100vh-5rem)] p-4 lg:max-w-9/12 m-auto gap-4"><aside class="hidden lg:block shrink-0 p-4 sticky top-0 self-start w-72 rounded-2xl glass-enhanced border-glow"><div class="h-[calc(100vh-6rem)] overflow-y-auto"><nav class="p-4 h-full overflow-y-auto space-y-6"><div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/getting-started" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Getting Started</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/getting-started/installation" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Installation</a></li><li><a href="/isolated-workers/docs/getting-started/quick-start" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Quick Start</a></li><li><a href="/isolated-workers/docs/getting-started/first-worker" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Building Your First Worker</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/concepts" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Concepts</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/concepts/why-isolated-workers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Why isolated-workers?</a></li><li><a href="/isolated-workers/docs/concepts/drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/guides" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Guides</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        bg-neon-cyan/10 text-neon-cyan border-l-2 border-neon-cyan shadow-neon-sm active-pulse
      ">Error Handling</a></li><li><a href="/isolated-workers/docs/guides/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware</a></li><li><a href="/isolated-workers/docs/guides/timeout-configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/docs/guides/custom-serializers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializers</a></li><li><a href="/isolated-workers/docs/guides/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle</a></li><li><a href="/isolated-workers/docs/guides/typescript" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">TypeScript Deep Dive</a></li><li><a href="/isolated-workers/docs/guides/troubleshooting" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Troubleshooting</a></li><li><a href="/isolated-workers/docs/guides/testing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Testing Workers</a></li><li><a href="/isolated-workers/docs/guides/security" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Security Considerations</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/examples" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Examples</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/examples/basic-ping" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Basic Ping-Pong Worker</a></li><li><a href="/isolated-workers/examples/custom-serializer" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializer</a></li><li><a href="/isolated-workers/examples/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Error Handling</a></li><li><a href="/isolated-workers/examples/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware Pipeline</a></li><li><a href="/isolated-workers/examples/timeout-config" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/examples/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Unexpected Worker Shutdown Handling</a></li><li><a href="/isolated-workers/examples/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle Management</a></li><li><a href="/isolated-workers/examples/worker-threads-driver" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Threads Driver</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/api" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">API Reference</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/api#configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Configuration</a></li><li><a href="/isolated-workers/api#core" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Core</a></li><li><a href="/isolated-workers/api#drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li><li><a href="/isolated-workers/api#other" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Other</a></li><li><a href="/isolated-workers/api#serialization" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Serialization</a></li><li><a href="/isolated-workers/api#types" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Types</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Configuration</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Shutdown Handling</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Resources</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/faq" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">FAQ</a></li><li><a href="/isolated-workers/docs/contributing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Contributing</a></li></ul></div></nav></div></aside><aside class="
                  lg:hidden left-4 bottom-4 top-24 w-72
                  glass-enhanced border-glow fixed! rounded-2xl
                  z-40 transition-transform duration-300 ease-in-out
                  -translate-x-full
                  overflow-clip
                "><div class="h-[calc(100vh-5rem)] overflow-y-auto"><nav class="p-4 h-full overflow-y-auto space-y-6"><div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/getting-started" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Getting Started</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/getting-started/installation" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Installation</a></li><li><a href="/isolated-workers/docs/getting-started/quick-start" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Quick Start</a></li><li><a href="/isolated-workers/docs/getting-started/first-worker" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Building Your First Worker</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/concepts" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Concepts</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/concepts/why-isolated-workers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Why isolated-workers?</a></li><li><a href="/isolated-workers/docs/concepts/drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/docs/guides" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Guides</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        bg-neon-cyan/10 text-neon-cyan border-l-2 border-neon-cyan shadow-neon-sm active-pulse
      ">Error Handling</a></li><li><a href="/isolated-workers/docs/guides/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware</a></li><li><a href="/isolated-workers/docs/guides/timeout-configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/docs/guides/custom-serializers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializers</a></li><li><a href="/isolated-workers/docs/guides/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle</a></li><li><a href="/isolated-workers/docs/guides/typescript" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">TypeScript Deep Dive</a></li><li><a href="/isolated-workers/docs/guides/troubleshooting" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Troubleshooting</a></li><li><a href="/isolated-workers/docs/guides/testing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Testing Workers</a></li><li><a href="/isolated-workers/docs/guides/security" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Security Considerations</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/examples" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">Examples</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/examples/basic-ping" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Basic Ping-Pong Worker</a></li><li><a href="/isolated-workers/examples/custom-serializer" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Custom Serializer</a></li><li><a href="/isolated-workers/examples/error-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Error Handling</a></li><li><a href="/isolated-workers/examples/middleware" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Middleware Pipeline</a></li><li><a href="/isolated-workers/examples/timeout-config" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Timeout Configuration</a></li><li><a href="/isolated-workers/examples/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Unexpected Worker Shutdown Handling</a></li><li><a href="/isolated-workers/examples/worker-lifecycle" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Lifecycle Management</a></li><li><a href="/isolated-workers/examples/worker-threads-driver" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Worker Threads Driver</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><a href="/isolated-workers/api" class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2 hover:text-neon-cyan transition-colors duration-200">API Reference</a><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/api#configuration" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Configuration</a></li><li><a href="/isolated-workers/api#core" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Core</a></li><li><a href="/isolated-workers/api#drivers" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Drivers</a></li><li><a href="/isolated-workers/api#other" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Other</a></li><li><a href="/isolated-workers/api#serialization" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Serialization</a></li><li><a href="/isolated-workers/api#types" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Types</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Configuration</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/guides/shutdown-handling" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Shutdown Handling</a></li></ul></div><div><div class="divider-glow mb-4"></div><div class="flex items-center justify-between mb-2 px-3"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider neon-flicker-slow neon-flicker-delay-2">Resources</span><button class="shrink-0 ml-2 hover:text-neon-cyan transition-colors"><svg class="w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div><ul class="space-y-1 list-none"><li><a href="/isolated-workers/docs/faq" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">FAQ</a></li><li><a href="/isolated-workers/docs/contributing" class="
        block px-3 py-2 rounded-lg text-sm transition-all duration-200
        text-gray-400 hover:text-gray-200 hover:bg-tertiary/30 hover:border-l-2 hover:border-neon-cyan/30
      ">Contributing</a></li></ul></div></nav></div></aside><main class="flex-1 min-w-0 py-4"><div class="max-w-4xl rounded-2xl bg-secondary/60 backdrop-blur-sm border border-tertiary/30 px-8 py-8"><div><div class="flex items-center gap-2 text-sm text-gray-400 mb-6"><a href="/isolated-workers/" class="hover:text-neon-cyan">Home</a><span>/</span><span class="text-gray-100">Error Handling</span></div><div class="prose prose-invert max-w-none space-y-8"><div class="docs-prose"><h1>Error Handling in isolated-workers</h1>
<p>When a worker throws an error, isolated-workers automatically serializes it and re-throws it in the host process. This guide explains how error propagation works and best practices for handling errors.</p>
<h2>How Error Propagation Works</h2>
<p>When you call <code class="inline-code">worker.sendRequest()</code>, the message is sent to the worker process over IPC. If the worker's handler throws an error:</p>
<ol>
<li>The error is caught by the worker infrastructure</li>
<li>The error message and stack trace are serialized</li>
<li>The serialized error is sent back to the host</li>
<li>The host reconstructs the error and throws it</li>
</ol>
<p>This means you can use standard try/catch patterns in your host code:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">typescript</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#F97583">try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> worker.</span><span style="color:#B392F0">send</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'divide'</span><span style="color:#E1E4E8">, { a: </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, b: </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Worker threw an error:'</span><span style="color:#E1E4E8">, error.message);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre></div></div></div></div></div><div class="docs-prose"><h2>Example: Division with Error Handling</h2>
<p>Here's a complete example showing error propagation. First, the shared message definitions:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">messages.ts</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Shared message definitions for the error-handling example</span></span>
<span class="line"><span style="color:#6A737D"> *</span></span>
<span class="line"><span style="color:#6A737D"> * This file is imported by both the host and worker to ensure</span></span>
<span class="line"><span style="color:#6A737D"> * type safety and avoid duplication.</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { <a href="/isolated-workers/api/define-messages" class="code-link" title="View DefineMessages documentation">DefineMessages</a> } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'isolated-workers'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Message types for the division example</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> type</span><span style="color:#B392F0"> Messages</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> <a href="/isolated-workers/api/define-messages" class="code-link" title="View DefineMessages documentation">DefineMessages</a></span><span style="color:#E1E4E8">&#x3C;{</span></span>
<span class="line"><span style="color:#FFAB70">  divide</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">    payload</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { </span><span style="color:#FFAB70">a</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">; </span><span style="color:#FFAB70">b</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8"> };</span></span>
<span class="line"><span style="color:#FFAB70">    result</span><span style="color:#F97583">:</span><span style="color:#E1E4E8"> { </span><span style="color:#FFAB70">result</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8"> };</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">}>;</span></span>
<span class="line"></span></code></pre></div></div></div></div></div><div class="docs-prose"><p>The worker validates input and throws for invalid operations:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">worker.ts</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Error Handling Example - Worker (Server) Side</span></span>
<span class="line"><span style="color:#6A737D"> *</span></span>
<span class="line"><span style="color:#6A737D"> * Demonstrates error throwing and propagation.</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { <a href="/isolated-workers/api/start-worker-server" class="code-link" title="View startWorkerServer documentation">startWorkerServer</a>, <a href="/isolated-workers/api/handlers" class="code-link" title="View Handlers documentation">Handlers</a> } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'isolated-workers'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#F97583"> type</span><span style="color:#E1E4E8"> { Messages } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> './messages.js'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Define handlers for incoming messages with proper typing</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> handlers</span><span style="color:#F97583">:</span><span style="color:#B392F0"> <a href="/isolated-workers/api/handlers" class="code-link" title="View Handlers documentation">Handlers</a></span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Messages</span><span style="color:#E1E4E8">> </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  divide</span><span style="color:#E1E4E8">: ({ </span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Worker: dividing ${</span><span style="color:#E1E4E8">a</span><span style="color:#9ECBFF">} / ${</span><span style="color:#E1E4E8">b</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (b </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Division by zero'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> { result: a </span><span style="color:#F97583">/</span><span style="color:#E1E4E8"> b };</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Worker: starting error-handling demo worker'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#B392F0"> <a href="/isolated-workers/api/start-worker-server" class="code-link" title="View startWorkerServer documentation">startWorkerServer</a></span><span style="color:#E1E4E8">(handlers);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Worker: ready'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  process.</span><span style="color:#B392F0">on</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'SIGTERM'</span><span style="color:#E1E4E8">, () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Worker: shutting down'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    process.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">main</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">err</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Worker error:'</span><span style="color:#E1E4E8">, err);</span></span>
<span class="line"><span style="color:#E1E4E8">  process.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre></div></div></div></div></div><div class="docs-prose"><p>The host catches and handles the error:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">host.ts</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Error Handling Example - Host (Client) Side</span></span>
<span class="line"><span style="color:#6A737D"> *</span></span>
<span class="line"><span style="color:#6A737D"> * Demonstrates error propagation from worker to host.</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { <a href="/isolated-workers/api/create-worker" class="code-link" title="View createWorker documentation">createWorker</a> } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'isolated-workers'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { fileURLToPath } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'url'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { dirname, join } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> 'path'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#F97583"> type</span><span style="color:#E1E4E8"> { Messages } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> './messages.js'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> __dirname</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> dirname</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">fileURLToPath</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">import</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">meta</span><span style="color:#E1E4E8">.url));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> main</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'=== Error Handling Example ===</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> worker</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> <a href="/isolated-workers/api/create-worker" class="code-link" title="View createWorker documentation">createWorker</a></span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Messages</span><span style="color:#E1E4E8">>({</span></span>
<span class="line"><span style="color:#E1E4E8">    script: </span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(__dirname, </span><span style="color:#9ECBFF">'worker.ts'</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">    timeout: </span><span style="color:#79B8FF">10000</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Worker spawned with PID: ${</span><span style="color:#E1E4E8">worker</span><span style="color:#9ECBFF">.</span><span style="color:#E1E4E8">pid</span><span style="color:#9ECBFF">}</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // Test 1: Successful division</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Test 1: 10 / 2'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    const</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> worker.</span><span style="color:#B392F0">send</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'divide'</span><span style="color:#E1E4E8">, { a: </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, b: </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Result:'</span><span style="color:#E1E4E8">, result.result, </span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (err) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Unexpected error:'</span><span style="color:#E1E4E8">, (err </span><span style="color:#F97583">as</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">).message, </span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // Test 2: Division by zero (should error)</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Test 2: 10 / 0 (should error)'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    await</span><span style="color:#E1E4E8"> worker.</span><span style="color:#B392F0">send</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'divide'</span><span style="color:#E1E4E8">, { a: </span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, b: </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'ERROR: Should have thrown!</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (err) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Caught expected error:'</span><span style="color:#E1E4E8">, (err </span><span style="color:#F97583">as</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">).message, </span><span style="color:#9ECBFF">'</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // Test 3: Cleanup</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Test 3: Cleanup'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#E1E4E8"> worker.</span><span style="color:#B392F0">close</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Worker closed successfully</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'=== All tests passed ==='</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">main</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">catch</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">err</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Host error:'</span><span style="color:#E1E4E8">, err);</span></span>
<span class="line"><span style="color:#E1E4E8">  process.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre></div></div></div></div></div><div class="docs-prose"><h2>Best Practices</h2>
<h3>1. Use Descriptive Error Messages</h3>
<p>Since errors cross process boundaries, make your error messages descriptive:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">typescript</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#6A737D">// Good - clear context</span></span>
<span class="line"><span style="color:#F97583">throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`Division by zero: cannot divide ${</span><span style="color:#E1E4E8">a</span><span style="color:#9ECBFF">} by ${</span><span style="color:#E1E4E8">b</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Bad - vague</span></span>
<span class="line"><span style="color:#F97583">throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Invalid input'</span><span style="color:#E1E4E8">);</span></span></code></pre></div></div></div></div></div><div class="docs-prose"><h3>2. Handle Errors at the Right Level</h3>
<p>Catch errors where you can meaningfully handle them:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">typescript</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#6A737D">// Handle specific operations</span></span>
<span class="line"><span style="color:#F97583">try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> result</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> worker.</span><span style="color:#B392F0">sendRequest</span><span style="color:#E1E4E8">({ type: </span><span style="color:#9ECBFF">'riskyOperation'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> result;</span></span>
<span class="line"><span style="color:#E1E4E8">} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#6A737D">  // Log and provide fallback</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Risky operation failed, using default'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> defaultValue;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre></div></div></div></div></div><div class="docs-prose"><h3>3. Validate Early</h3>
<p>Validate inputs in the worker before performing operations:</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">typescript</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#B392F0">handlers</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#B392F0">  divide</span><span style="color:#E1E4E8">: ({ </span><span style="color:#FFAB70">a</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">b</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">typeof</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> 'number'</span><span style="color:#F97583"> ||</span><span style="color:#F97583"> typeof</span><span style="color:#E1E4E8"> b </span><span style="color:#F97583">!==</span><span style="color:#9ECBFF"> 'number'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Both arguments must be numbers'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (b </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      throw</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Cannot divide by zero'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> a </span><span style="color:#F97583">/</span><span style="color:#E1E4E8"> b;</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre></div></div></div></div></div><div class="docs-prose"><h2>Error Types</h2>
<p>Currently, isolated-workers preserves:</p>
<ul>
<li>Error message (<code class="inline-code">error.message</code>)</li>
<li>Error type name (<code class="inline-code">error.name</code>)</li>
<li>Error stack trace (<code class="inline-code">error.stack</code>)</li>
<li>Error code for Node.js errors (<code class="inline-code">error.code</code>)</li>
</ul>
<p>Custom error properties may not be preserved across the process boundary. If you need to pass structured error data, consider returning an error result instead of throwing (note: this example uses a different pattern than the division example above):</p></div><div class="relative group my-6"><div class="
          rounded-lg overflow-hidden border border-white/10 bg-tertiary/80
          transition-all duration-300 border-glow
          shadow-neon-sm
        "><div class="px-4 py-3 bg-black/50 border-b border-white/5 flex items-center justify-between"><div class="flex items-center gap-3"><div class="flex gap-2"><span class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-[0_0_6px_rgba(255,95,86,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-[0_0_6px_rgba(255,189,46,0.4)]"></span><span class="w-3 h-3 rounded-full bg-[#27ca40] shadow-[0_0_6px_rgba(39,202,64,0.4)]"></span></div><span class="text-xs text-gray-500 font-mono">typescript</span></div><button class="
              text-xs flex items-center gap-1.5 px-2 py-1 rounded
              transition-all duration-200
              text-neon-cyan hover:text-neon-mint hover:bg-neon-cyan/10
            " title="Copy code"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>Copy</button></div><div class="overflow-x-auto bg-black/60"><div class="p-4 [&amp;_pre]:bg-transparent [&amp;_code]:bg-transparent"><div class="text-sm [&amp;_pre]:m-0 [&amp;_code]:m-0"><pre class="shiki github-dark" style="background-color:#00000000;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> DivideResult</span><span style="color:#F97583"> =</span></span>
<span class="line"><span style="color:#F97583">  |</span><span style="color:#E1E4E8"> { </span><span style="color:#FFAB70">success</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">; </span><span style="color:#FFAB70">value</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#F97583">  |</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">      success</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">      error</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">      code</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> 'DIVISION_BY_ZERO'</span><span style="color:#F97583"> |</span><span style="color:#9ECBFF"> 'INVALID_INPUT'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    };</span></span></code></pre></div></div></div></div></div><div class="docs-prose"><h2>See Also</h2>
<ul>
<li>{% example-link error-handling %} - Complete error handling example</li>
<li><a href="/isolated-workers/api/create-worker">API Reference: createWorker</a> - Worker creation options</li>
</ul></div></div><div class="mt-12 pt-8 border-t border-tertiary/50"><a href="/isolated-workers/" class="text-neon-cyan hover:text-neon-purple transition-colors">â† Back to Home</a></div></div></div></main></div></div><div class="fixed bottom-4 right-4 z-50"><div class="relative "><button class="p-2 rounded-lg bg-tertiary/50 border border-tertiary hover:border-neon-cyan/50 transition-colors" title="Toggle visual effects" aria-label="Toggle visual effects menu"><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg></button></div></div></div></div>
        
        <script id="vike_pageContext" type="application/json">{"pageId":"\\/pages\\/docs","routeParams":{"splat":"guides\\/error-handling"},"data":{"doc":{"path":"\\/docs\\/guides\\/error-handling","filePath":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/docs\\/guides\\/error-handling.md","title":"Error Handling","description":"How errors propagate from workers to hosts","nav":{"section":"Guides","order":1}},"segments":[{"type":"html","html":"\u003ch1>Error Handling in isolated-workers\u003c\\/h1>\n\u003cp>When a worker throws an error, isolated-workers automatically serializes it and re-throws it in the host process. This guide explains how error propagation works and best practices for handling errors.\u003c\\/p>\n\u003ch2>How Error Propagation Works\u003c\\/h2>\n\u003cp>When you call \u003ccode class=\"inline-code\">worker.sendRequest()\u003c\\/code>, the message is sent to the worker process over IPC. If the worker's handler throws an error:\u003c\\/p>\n\u003col>\n\u003cli>The error is caught by the worker infrastructure\u003c\\/li>\n\u003cli>The error message and stack trace are serialized\u003c\\/li>\n\u003cli>The serialized error is sent back to the host\u003c\\/li>\n\u003cli>The host reconstructs the error and throws it\u003c\\/li>\n\u003c\\/ol>\n\u003cp>This means you can use standard try\\/catch patterns in your host code:\u003c\\/p>"},{"type":"code-block","language":"typescript","content":"try {\n  const result = await worker.send('divide', { a: 10, b: 0 });\n} catch (error) {\n  console.error('Worker threw an error:', error.message);\n}","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">try\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  const\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> result\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003cspan style=\"color:#F97583\"> await\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> worker.\u003c\\/span>\u003cspan style=\"color:#B392F0\">send\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'divide'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, { a: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">10\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, b: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">0\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> });\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">} \u003c\\/span>\u003cspan style=\"color:#F97583\">catch\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (error) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Worker threw an error:'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, error.message);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">}\u003c\\/span>\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003ch2>Example: Division with Error Handling\u003c\\/h2>\n\u003cp>Here's a complete example showing error propagation. First, the shared message definitions:\u003c\\/p>"},{"type":"file","filename":"messages.ts","language":"typescript","content":"\\/**\n * Shared message definitions for the error-handling example\n *\n * This file is imported by both the host and worker to ensure\n * type safety and avoid duplication.\n *\\/\n\nimport { DefineMessages } from 'isolated-workers';\n\n\\/**\n * Message types for the division example\n *\\/\nexport type Messages = DefineMessages\u003c{\n  divide: {\n    payload: { a: number; b: number };\n    result: { result: number };\n  };\n}>;\n","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/**\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * Shared message definitions for the error-handling example\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * This file is imported by both the host and worker to ensure\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * type safety and avoid duplication.\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\\/\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { \u003ca href=\"\\/isolated-workers\\/api\\/define-messages\" class=\"code-link\" title=\"View DefineMessages documentation\">DefineMessages\u003c\\/a> } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'isolated-workers'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/**\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * Message types for the division example\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\\/\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">export\u003c\\/span>\u003cspan style=\"color:#F97583\"> type\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Messages\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003cspan style=\"color:#B392F0\"> \u003ca href=\"\\/isolated-workers\\/api\\/define-messages\" class=\"code-link\" title=\"View DefineMessages documentation\">DefineMessages\u003c\\/a>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">&#x3C;{\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#FFAB70\">  divide\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#FFAB70\">    payload\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { \u003c\\/span>\u003cspan style=\"color:#FFAB70\">a\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> number\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">; \u003c\\/span>\u003cspan style=\"color:#FFAB70\">b\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> number\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> };\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#FFAB70\">    result\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { \u003c\\/span>\u003cspan style=\"color:#FFAB70\">result\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> number\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> };\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  };\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">}>;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003cp>The worker validates input and throws for invalid operations:\u003c\\/p>"},{"type":"file","filename":"worker.ts","language":"typescript","content":"\\/**\n * Error Handling Example - Worker (Server) Side\n *\n * Demonstrates error throwing and propagation.\n *\\/\n\nimport { startWorkerServer, Handlers } from 'isolated-workers';\nimport type { Messages } from '.\\/messages.js';\n\n\\/\\/ Define handlers for incoming messages with proper typing\nconst handlers: Handlers\u003cMessages> = {\n  divide: ({ a, b }) => {\n    console.log(`Worker: dividing ${a} \\/ ${b}`);\n\n    if (b === 0) {\n      throw new Error('Division by zero');\n    }\n\n    return { result: a \\/ b };\n  },\n};\n\nasync function main() {\n  console.log('Worker: starting error-handling demo worker');\n\n  await startWorkerServer(handlers);\n\n  console.log('Worker: ready');\n\n  process.on('SIGTERM', () => {\n    console.log('Worker: shutting down');\n    process.exit(0);\n  });\n}\n\nmain().catch((err) => {\n  console.error('Worker error:', err);\n  process.exit(1);\n});\n","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/**\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * Error Handling Example - Worker (Server) Side\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * Demonstrates error throwing and propagation.\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\\/\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { \u003ca href=\"\\/isolated-workers\\/api\\/start-worker-server\" class=\"code-link\" title=\"View startWorkerServer documentation\">startWorkerServer\u003c\\/a>, \u003ca href=\"\\/isolated-workers\\/api\\/handlers\" class=\"code-link\" title=\"View Handlers documentation\">Handlers\u003c\\/a> } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'isolated-workers'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#F97583\"> type\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { Messages } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> '.\\/messages.js'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/\\/ Define handlers for incoming messages with proper typing\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">const\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> handlers\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#B392F0\"> \u003ca href=\"\\/isolated-workers\\/api\\/handlers\" class=\"code-link\" title=\"View Handlers documentation\">Handlers\u003c\\/a>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">&#x3C;\u003c\\/span>\u003cspan style=\"color:#B392F0\">Messages\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">> \u003c\\/span>\u003cspan style=\"color:#F97583\">=\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#B392F0\">  divide\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">: ({ \u003c\\/span>\u003cspan style=\"color:#FFAB70\">a\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, \u003c\\/span>\u003cspan style=\"color:#FFAB70\">b\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> }) \u003c\\/span>\u003cspan style=\"color:#F97583\">=>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">`Worker: dividing ${\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">a\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">} \\/ ${\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">b\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">}`\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    if\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (b \u003c\\/span>\u003cspan style=\"color:#F97583\">===\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> 0\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">      throw\u003c\\/span>\u003cspan style=\"color:#F97583\"> new\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Division by zero'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    }\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    return\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { result: a \u003c\\/span>\u003cspan style=\"color:#F97583\">\\/\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> b };\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  },\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">};\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">async\u003c\\/span>\u003cspan style=\"color:#F97583\"> function\u003c\\/span>\u003cspan style=\"color:#B392F0\"> main\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">() {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Worker: starting error-handling demo worker'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  await\u003c\\/span>\u003cspan style=\"color:#B392F0\"> \u003ca href=\"\\/isolated-workers\\/api\\/start-worker-server\" class=\"code-link\" title=\"View startWorkerServer documentation\">startWorkerServer\u003c\\/a>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(handlers);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Worker: ready'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  process.\u003c\\/span>\u003cspan style=\"color:#B392F0\">on\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'SIGTERM'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, () \u003c\\/span>\u003cspan style=\"color:#F97583\">=>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Worker: shutting down'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    process.\u003c\\/span>\u003cspan style=\"color:#B392F0\">exit\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#79B8FF\">0\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  });\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">}\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#B392F0\">main\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">().\u003c\\/span>\u003cspan style=\"color:#B392F0\">catch\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">((\u003c\\/span>\u003cspan style=\"color:#FFAB70\">err\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">) \u003c\\/span>\u003cspan style=\"color:#F97583\">=>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Worker error:'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, err);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  process.\u003c\\/span>\u003cspan style=\"color:#B392F0\">exit\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#79B8FF\">1\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">});\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003cp>The host catches and handles the error:\u003c\\/p>"},{"type":"file","filename":"host.ts","language":"typescript","content":"\\/**\n * Error Handling Example - Host (Client) Side\n *\n * Demonstrates error propagation from worker to host.\n *\\/\n\nimport { createWorker } from 'isolated-workers';\nimport { fileURLToPath } from 'url';\nimport { dirname, join } from 'path';\nimport type { Messages } from '.\\/messages.js';\n\nconst __dirname = dirname(fileURLToPath(import.meta.url));\n\nasync function main() {\n  console.log('=== Error Handling Example ===\\n');\n\n  const worker = await createWorker\u003cMessages>({\n    script: join(__dirname, 'worker.ts'),\n    timeout: 10000,\n  });\n\n  console.log(`Worker spawned with PID: ${worker.pid}\\n`);\n\n  \\/\\/ Test 1: Successful division\n  console.log('Test 1: 10 \\/ 2');\n  try {\n    const result = await worker.send('divide', { a: 10, b: 2 });\n    console.log('Result:', result.result, '\\n');\n  } catch (err) {\n    console.error('Unexpected error:', (err as Error).message, '\\n');\n  }\n\n  \\/\\/ Test 2: Division by zero (should error)\n  console.log('Test 2: 10 \\/ 0 (should error)');\n  try {\n    await worker.send('divide', { a: 10, b: 0 });\n    console.log('ERROR: Should have thrown!\\n');\n  } catch (err) {\n    console.log('Caught expected error:', (err as Error).message, '\\n');\n  }\n\n  \\/\\/ Test 3: Cleanup\n  console.log('Test 3: Cleanup');\n  await worker.close();\n  console.log('Worker closed successfully\\n');\n\n  console.log('=== All tests passed ===');\n}\n\nmain().catch((err) => {\n  console.error('Host error:', err);\n  process.exit(1);\n});\n","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/**\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * Error Handling Example - Host (Client) Side\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> * Demonstrates error propagation from worker to host.\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\"> *\\/\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { \u003ca href=\"\\/isolated-workers\\/api\\/create-worker\" class=\"code-link\" title=\"View createWorker documentation\">createWorker\u003c\\/a> } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'isolated-workers'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { fileURLToPath } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'url'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { dirname, join } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'path'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#F97583\"> type\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { Messages } \u003c\\/span>\u003cspan style=\"color:#F97583\">from\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> '.\\/messages.js'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">const\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> __dirname\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003cspan style=\"color:#B392F0\"> dirname\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#B392F0\">fileURLToPath\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#F97583\">import\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">.\u003c\\/span>\u003cspan style=\"color:#79B8FF\">meta\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">.url));\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">async\u003c\\/span>\u003cspan style=\"color:#F97583\"> function\u003c\\/span>\u003cspan style=\"color:#B392F0\"> main\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">() {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'=== Error Handling Example ===\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  const\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> worker\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003cspan style=\"color:#F97583\"> await\u003c\\/span>\u003cspan style=\"color:#B392F0\"> \u003ca href=\"\\/isolated-workers\\/api\\/create-worker\" class=\"code-link\" title=\"View createWorker documentation\">createWorker\u003c\\/a>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">&#x3C;\u003c\\/span>\u003cspan style=\"color:#B392F0\">Messages\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">>({\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    script: \u003c\\/span>\u003cspan style=\"color:#B392F0\">join\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(__dirname, \u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'worker.ts'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">),\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    timeout: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">10000\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">,\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  });\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">`Worker spawned with PID: ${\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">worker\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">.\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">pid\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">}\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">`\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">  \\/\\/ Test 1: Successful division\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Test 1: 10 \\/ 2'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  try\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    const\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> result\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003cspan style=\"color:#F97583\"> await\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> worker.\u003c\\/span>\u003cspan style=\"color:#B392F0\">send\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'divide'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, { a: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">10\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, b: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">2\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> });\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Result:'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, result.result, \u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  } \u003c\\/span>\u003cspan style=\"color:#F97583\">catch\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (err) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Unexpected error:'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, (err \u003c\\/span>\u003cspan style=\"color:#F97583\">as\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">).message, \u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  }\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">  \\/\\/ Test 2: Division by zero (should error)\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Test 2: 10 \\/ 0 (should error)'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  try\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    await\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> worker.\u003c\\/span>\u003cspan style=\"color:#B392F0\">send\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'divide'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, { a: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">10\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, b: \u003c\\/span>\u003cspan style=\"color:#79B8FF\">0\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> });\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'ERROR: Should have thrown!\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  } \u003c\\/span>\u003cspan style=\"color:#F97583\">catch\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (err) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Caught expected error:'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, (err \u003c\\/span>\u003cspan style=\"color:#F97583\">as\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">).message, \u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  }\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">  \\/\\/ Test 3: Cleanup\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Test 3: Cleanup'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  await\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> worker.\u003c\\/span>\u003cspan style=\"color:#B392F0\">close\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">();\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Worker closed successfully\u003c\\/span>\u003cspan style=\"color:#79B8FF\">\\n\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">log\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'=== All tests passed ==='\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">}\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#B392F0\">main\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">().\u003c\\/span>\u003cspan style=\"color:#B392F0\">catch\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">((\u003c\\/span>\u003cspan style=\"color:#FFAB70\">err\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">) \u003c\\/span>\u003cspan style=\"color:#F97583\">=>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Host error:'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, err);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  process.\u003c\\/span>\u003cspan style=\"color:#B392F0\">exit\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#79B8FF\">1\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">});\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003ch2>Best Practices\u003c\\/h2>\n\u003ch3>1. Use Descriptive Error Messages\u003c\\/h3>\n\u003cp>Since errors cross process boundaries, make your error messages descriptive:\u003c\\/p>"},{"type":"code-block","language":"typescript","content":"\\/\\/ Good - clear context\nthrow new Error(`Division by zero: cannot divide ${a} by ${b}`);\n\n\\/\\/ Bad - vague\nthrow new Error('Invalid input');","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/\\/ Good - clear context\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">throw\u003c\\/span>\u003cspan style=\"color:#F97583\"> new\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">`Division by zero: cannot divide ${\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">a\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">} by ${\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">b\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">}`\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/\\/ Bad - vague\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">throw\u003c\\/span>\u003cspan style=\"color:#F97583\"> new\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Invalid input'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003ch3>2. Handle Errors at the Right Level\u003c\\/h3>\n\u003cp>Catch errors where you can meaningfully handle them:\u003c\\/p>"},{"type":"code-block","language":"typescript","content":"\\/\\/ Handle specific operations\ntry {\n  const result = await worker.sendRequest({ type: 'riskyOperation' });\n  return result;\n} catch (error) {\n  \\/\\/ Log and provide fallback\n  console.error('Risky operation failed, using default');\n  return defaultValue;\n}","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">\\/\\/ Handle specific operations\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">try\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  const\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> result\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003cspan style=\"color:#F97583\"> await\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> worker.\u003c\\/span>\u003cspan style=\"color:#B392F0\">sendRequest\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">({ type: \u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'riskyOperation'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> });\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  return\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> result;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">} \u003c\\/span>\u003cspan style=\"color:#F97583\">catch\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (error) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#6A737D\">  \\/\\/ Log and provide fallback\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  console.\u003c\\/span>\u003cspan style=\"color:#B392F0\">error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Risky operation failed, using default'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  return\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> defaultValue;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">}\u003c\\/span>\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003ch3>3. Validate Early\u003c\\/h3>\n\u003cp>Validate inputs in the worker before performing operations:\u003c\\/p>"},{"type":"code-block","language":"typescript","content":"handlers: {\n  divide: ({ a, b }) => {\n    if (typeof a !== 'number' || typeof b !== 'number') {\n      throw new Error('Both arguments must be numbers');\n    }\n    if (b === 0) {\n      throw new Error('Cannot divide by zero');\n    }\n    return a \\/ b;\n  };\n}","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#B392F0\">handlers\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">: {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#B392F0\">  divide\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">: ({ \u003c\\/span>\u003cspan style=\"color:#FFAB70\">a\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">, \u003c\\/span>\u003cspan style=\"color:#FFAB70\">b\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> }) \u003c\\/span>\u003cspan style=\"color:#F97583\">=>\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    if\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (\u003c\\/span>\u003cspan style=\"color:#F97583\">typeof\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> a \u003c\\/span>\u003cspan style=\"color:#F97583\">!==\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'number'\u003c\\/span>\u003cspan style=\"color:#F97583\"> ||\u003c\\/span>\u003cspan style=\"color:#F97583\"> typeof\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> b \u003c\\/span>\u003cspan style=\"color:#F97583\">!==\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'number'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">      throw\u003c\\/span>\u003cspan style=\"color:#F97583\"> new\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Both arguments must be numbers'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    }\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    if\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> (b \u003c\\/span>\u003cspan style=\"color:#F97583\">===\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> 0\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">) {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">      throw\u003c\\/span>\u003cspan style=\"color:#F97583\"> new\u003c\\/span>\u003cspan style=\"color:#B392F0\"> Error\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">(\u003c\\/span>\u003cspan style=\"color:#9ECBFF\">'Cannot divide by zero'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">);\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    }\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">    return\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> a \u003c\\/span>\u003cspan style=\"color:#F97583\">\\/\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> b;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">  };\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">}\u003c\\/span>\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003ch2>Error Types\u003c\\/h2>\n\u003cp>Currently, isolated-workers preserves:\u003c\\/p>\n\u003cul>\n\u003cli>Error message (\u003ccode class=\"inline-code\">error.message\u003c\\/code>)\u003c\\/li>\n\u003cli>Error type name (\u003ccode class=\"inline-code\">error.name\u003c\\/code>)\u003c\\/li>\n\u003cli>Error stack trace (\u003ccode class=\"inline-code\">error.stack\u003c\\/code>)\u003c\\/li>\n\u003cli>Error code for Node.js errors (\u003ccode class=\"inline-code\">error.code\u003c\\/code>)\u003c\\/li>\n\u003c\\/ul>\n\u003cp>Custom error properties may not be preserved across the process boundary. If you need to pass structured error data, consider returning an error result instead of throwing (note: this example uses a different pattern than the division example above):\u003c\\/p>"},{"type":"code-block","language":"typescript","content":"type DivideResult =\n  | { success: true; value: number }\n  | {\n      success: false;\n      error: string;\n      code: 'DIVISION_BY_ZERO' | 'INVALID_INPUT';\n    };","highlightedHtml":"\u003cpre class=\"shiki github-dark\" style=\"background-color:#00000000;color:#e1e4e8\" tabindex=\"0\">\u003ccode>\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">type\u003c\\/span>\u003cspan style=\"color:#B392F0\"> DivideResult\u003c\\/span>\u003cspan style=\"color:#F97583\"> =\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  |\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> { \u003c\\/span>\u003cspan style=\"color:#FFAB70\">success\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> true\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">; \u003c\\/span>\u003cspan style=\"color:#FFAB70\">value\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> number\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> }\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#F97583\">  |\u003c\\/span>\u003cspan style=\"color:#E1E4E8\"> {\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#FFAB70\">      success\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> false\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#FFAB70\">      error\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#79B8FF\"> string\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#FFAB70\">      code\u003c\\/span>\u003cspan style=\"color:#F97583\">:\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'DIVISION_BY_ZERO'\u003c\\/span>\u003cspan style=\"color:#F97583\"> |\u003c\\/span>\u003cspan style=\"color:#9ECBFF\"> 'INVALID_INPUT'\u003c\\/span>\u003cspan style=\"color:#E1E4E8\">;\u003c\\/span>\u003c\\/span>\n\u003cspan class=\"line\">\u003cspan style=\"color:#E1E4E8\">    };\u003c\\/span>\u003c\\/span>\u003c\\/code>\u003c\\/pre>"},{"type":"html","html":"\u003ch2>See Also\u003c\\/h2>\n\u003cul>\n\u003cli>{% example-link error-handling %} - Complete error handling example\u003c\\/li>\n\u003cli>\u003ca href=\"\\/isolated-workers\\/api\\/create-worker\">API Reference: createWorker\u003c\\/a> - Worker creation options\u003c\\/li>\n\u003c\\/ul>"}]}}</script>
        <script id="vike_globalContext" type="application/json">{"navigation":[{"title":"Getting Started","children":[{"title":"Installation","path":"\\/docs\\/getting-started\\/installation","order":0},{"title":"Quick Start","path":"\\/docs\\/getting-started\\/quick-start","order":2},{"title":"Building Your First Worker","path":"\\/docs\\/getting-started\\/first-worker","order":3}],"order":0,"path":"\\/docs\\/getting-started"},{"title":"Concepts","children":[{"title":"Why isolated-workers?","path":"\\/docs\\/concepts\\/why-isolated-workers","order":1},{"title":"Drivers","path":"\\/docs\\/concepts\\/drivers","order":3}],"order":10,"path":"\\/docs\\/concepts"},{"title":"Guides","children":[{"title":"Error Handling","path":"\\/docs\\/guides\\/error-handling","order":1},{"title":"Middleware","path":"\\/docs\\/guides\\/middleware","order":2},{"title":"Timeout Configuration","path":"\\/docs\\/guides\\/timeout-configuration","order":3},{"title":"Custom Serializers","path":"\\/docs\\/guides\\/custom-serializers","order":4},{"title":"Worker Lifecycle","path":"\\/docs\\/guides\\/worker-lifecycle","order":5},{"title":"TypeScript Deep Dive","path":"\\/docs\\/guides\\/typescript","order":6},{"title":"Troubleshooting","path":"\\/docs\\/guides\\/troubleshooting","order":7},{"title":"Testing Workers","path":"\\/docs\\/guides\\/testing","order":8},{"title":"Security Considerations","path":"\\/docs\\/guides\\/security","order":9}],"order":20,"path":"\\/docs\\/guides"},{"title":"Examples","path":"\\/examples","children":[{"title":"Basic Ping-Pong Worker","path":"\\/examples\\/basic-ping"},{"title":"Custom Serializer","path":"\\/examples\\/custom-serializer"},{"title":"Error Handling","path":"\\/examples\\/error-handling"},{"title":"Middleware Pipeline","path":"\\/examples\\/middleware"},{"title":"Timeout Configuration","path":"\\/examples\\/timeout-config"},{"title":"Unexpected Worker Shutdown Handling","path":"\\/examples\\/shutdown-handling"},{"title":"Worker Lifecycle Management","path":"\\/examples\\/worker-lifecycle"},{"title":"Worker Threads Driver","path":"\\/examples\\/worker-threads-driver"}],"order":100},{"title":"API Reference","path":"\\/api","children":[{"title":"Configuration","path":"\\/api#configuration","children":[{"title":"Handlers","path":"\\/api\\/handlers"},{"title":"Middleware","path":"\\/api\\/middleware"}]},{"title":"Core","path":"\\/api#core","children":[{"title":"createWorker","path":"\\/api\\/create-worker"},{"title":"startWorkerServer","path":"\\/api\\/start-worker-server"}]},{"title":"Drivers","path":"\\/api#drivers","children":[{"title":"ChildProcessCapabilities","path":"\\/api\\/child-process-capabilities"},{"title":"Driver","path":"\\/api\\/driver"},{"title":"DriverCapabilities","path":"\\/api\\/driver-capabilities"},{"title":"WorkerThreadsCapabilities","path":"\\/api\\/worker-threads-capabilities"}]},{"title":"Other","path":"\\/api#other","children":[{"title":"AllMessages","path":"\\/api\\/all-messages"},{"title":"AllResults","path":"\\/api\\/all-results"},{"title":"AnyMessage","path":"\\/api\\/any-message"},{"title":"BaseMessage","path":"\\/api\\/base-message"},{"title":"BuiltInTimeoutKey","path":"\\/api\\/built-in-timeout-key"},{"title":"ChildProcessChannel","path":"\\/api\\/child-process-channel"},{"title":"ChildProcessDriver","path":"\\/api\\/child-process-driver"},{"title":"ChildProcessDriverOptions","path":"\\/api\\/child-process-driver-options"},{"title":"ChildProcessDriverOptions","path":"\\/api\\/child-process-driver-options"},{"title":"ChildProcessDriverType","path":"\\/api\\/child-process-driver-type"},{"title":"ChildProcessServerChannel","path":"\\/api\\/child-process-server-channel"},{"title":"ChildProcessStartupData","path":"\\/api\\/child-process-startup-data"},{"title":"Connection","path":"\\/api\\/connection"},{"title":"ConnectionOptions","path":"\\/api\\/connection-options"},{"title":"createServer","path":"\\/api\\/create-server"},{"title":"createServer","path":"\\/api\\/create-server"},{"title":"DEFAULT_SERVER_CONNECT_TIMEOUT","path":"\\/api\\/default-server-connect-timeout"},{"title":"defaultLogger","path":"\\/api\\/default-logger"},{"title":"DetachCapability","path":"\\/api\\/detach-capability"},{"title":"DriverChannel","path":"\\/api\\/driver-channel"},{"title":"DriverMessage","path":"\\/api\\/driver-message"},{"title":"DriverOptionsFor","path":"\\/api\\/driver-options-for"},{"title":"encodeStartupData","path":"\\/api\\/encode-startup-data"},{"title":"Logger","path":"\\/api\\/logger"},{"title":"LogLevel","path":"\\/api\\/log-level"},{"title":"MaybePromise","path":"\\/api\\/maybe-promise"},{"title":"MessageDef","path":"\\/api\\/message-def"},{"title":"MessageDefs","path":"\\/api\\/message-defs"},{"title":"MessageHandler","path":"\\/api\\/message-handler"},{"title":"MessageOf","path":"\\/api\\/message-of"},{"title":"MessageResult","path":"\\/api\\/message-result"},{"title":"MessageType","path":"\\/api\\/message-type"},{"title":"MiddlewareContext","path":"\\/api\\/middleware-context"},{"title":"MiddlewareDirection","path":"\\/api\\/middleware-direction"},{"title":"PayloadOf","path":"\\/api\\/payload-of"},{"title":"ReconnectCapability","path":"\\/api\\/reconnect-capability"},{"title":"ResponseFunction","path":"\\/api\\/response-function"},{"title":"ResponseFunction","path":"\\/api\\/response-function"},{"title":"ResultOf","path":"\\/api\\/result-of"},{"title":"ResultPayloadOf","path":"\\/api\\/result-payload-of"},{"title":"ServerChannel","path":"\\/api\\/server-channel"},{"title":"ServerDriver","path":"\\/api\\/server-driver"},{"title":"ServerOptions","path":"\\/api\\/server-options"},{"title":"ShutdownReason","path":"\\/api\\/shutdown-reason"},{"title":"spawnWorker","path":"\\/api\\/spawn-worker"},{"title":"spawnWorker","path":"\\/api\\/spawn-worker"},{"title":"STARTUP_DATA_ENV_KEY","path":"\\/api\\/startup-data-env-key"},{"title":"STARTUP_DATA_WORKER_KEY","path":"\\/api\\/startup-data-worker-key"},{"title":"TimeoutConfig","path":"\\/api\\/timeout-config"},{"title":"TransactionIdGenerator","path":"\\/api\\/transaction-id-generator"},{"title":"TypedMessage","path":"\\/api\\/typed-message"},{"title":"TypedResult","path":"\\/api\\/typed-result"},{"title":"UnexpectedShutdownConfig","path":"\\/api\\/unexpected-shutdown-config"},{"title":"UnexpectedShutdownStrategy","path":"\\/api\\/unexpected-shutdown-strategy"},{"title":"WorkerClient","path":"\\/api\\/worker-client"},{"title":"WorkerCrashedError","path":"\\/api\\/worker-crashed-error"},{"title":"WorkerHandler","path":"\\/api\\/worker-handler"},{"title":"WorkerHandlers","path":"\\/api\\/worker-handlers"},{"title":"WorkerOptions","path":"\\/api\\/worker-options"},{"title":"WorkerServer","path":"\\/api\\/worker-server"},{"title":"WorkerServerOptions","path":"\\/api\\/worker-server-options"},{"title":"WorkerThreadsChannel","path":"\\/api\\/worker-threads-channel"},{"title":"WorkerThreadsDriver","path":"\\/api\\/worker-threads-driver"},{"title":"WorkerThreadsDriverOptions","path":"\\/api\\/worker-threads-driver-options"},{"title":"WorkerThreadsDriverOptions","path":"\\/api\\/worker-threads-driver-options"},{"title":"WorkerThreadsDriverType","path":"\\/api\\/worker-threads-driver-type"},{"title":"WorkerThreadsResourceLimits","path":"\\/api\\/worker-threads-resource-limits"},{"title":"WorkerThreadsResourceLimits","path":"\\/api\\/worker-threads-resource-limits"},{"title":"WorkerThreadsServerChannel","path":"\\/api\\/worker-threads-server-channel"},{"title":"WorkerThreadsStartupData","path":"\\/api\\/worker-threads-startup-data"}]},{"title":"Serialization","path":"\\/api#serialization","children":[{"title":"JsonSerializer","path":"\\/api\\/json-serializer"},{"title":"Serializer","path":"\\/api\\/serializer"}]},{"title":"Types","path":"\\/api#types","children":[{"title":"DefineMessages","path":"\\/api\\/define-messages"},{"title":"WithResult","path":"\\/api\\/with-result"}]}],"order":200},{"title":"Configuration","children":[{"title":"Shutdown Handling","path":"\\/docs\\/guides\\/shutdown-handling","order":4}]},{"title":"Resources","children":[{"title":"FAQ","path":"\\/docs\\/faq","order":0},{"title":"Contributing","path":"\\/docs\\/contributing","order":1}]}],"examples":{"basic-ping":{"id":"basic-ping","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/basic-ping","title":"Basic Ping-Pong Worker","description":"A simple example demonstrating the basics of isolated-workers: spawning a worker process, sending messages, and receiving responses. This example shows the fundamental request\\/response pattern with type-safe message definitions.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:basic-ping","title":"Run the example","assertions":[{"contains":"Worker spawned with PID"},{"contains":"Received response:"},{"contains":"Worker closed successfully"}]}],"hidden":false},"custom-serializer":{"id":"custom-serializer","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/custom-serializer","title":"Custom Serializer","description":"Shows how to implement and use a custom serializer for message encoding. This is useful for using binary formats like MessagePack, adding compression, or wrapping messages with metadata. Both host and worker must use the same serializer.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./serializer.ts":"serializer.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:custom-serializer","title":"Run the example","assertions":[{"contains":"VerboseJsonSerializer"},{"contains":"[SERIALIZER] Message #"},{"contains":"HELLO, CUSTOM SERIALIZER!"},{"contains":"Worker closed successfully"}]}],"hidden":false},"error-handling":{"id":"error-handling","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/error-handling","title":"Error Handling","description":"Demonstrates how errors thrown in worker handlers propagate back to the host,\nincluding error messages and proper cleanup.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:error-handling","title":"Run the example","assertions":[{"contains":"Test 1: 10 \\/ 2"},{"contains":"Result: 5"},{"contains":"Test 2: 10 \\/ 0 (should error)"},{"contains":"Division by zero"},{"contains":"All tests passed"}]}],"hidden":false},"image-processing":{"id":"image-processing","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/image-processing","title":"Image Processing Worker","description":"A complete example demonstrating how to build a production-ready worker\nfor CPU-intensive tasks like image processing. Shows type-safe messaging,\nper-operation timeouts, worker state, and batch processing.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:image-processing","title":"Run the example","assertions":[{"contains":"Worker PID:"},{"contains":"Image metadata:"},{"contains":"Worker status:"},{"contains":"Batch result:"},{"contains":"Worker shut down gracefully"}]}],"hidden":true},"middleware":{"id":"middleware","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/middleware","title":"Middleware Pipeline","description":"Demonstrates how to use middleware to intercept and process messages. Middleware can log messages, add metadata, validate structure, or transform payloads. Both the host and worker can have their own middleware pipelines.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:middleware","title":"Run the example","assertions":[{"contains":"[OUTGOING]"},{"contains":"[INCOMING]"},{"contains":"Hello, World!"},{"contains":"Worker closed successfully"}]}],"hidden":false},"readme-snippets":{"id":"readme-snippets","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/readme-snippets","title":"README Code Snippets","description":"Type-checked code snippets used in the package README.\nThis example is hidden from navigation.\n","entryPoint":"drivers.ts","fileMap":{"./drivers.ts":"drivers.ts","./api-overview.ts":"api-overview.ts"},"commands":"!undefined","hidden":true},"shutdown-handling":{"id":"shutdown-handling","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/shutdown-handling","title":"Unexpected Worker Shutdown Handling","description":"Demonstrates how to handle unexpected worker crashes with configurable\nretry strategies, per-message-type overrides, and detailed error context.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:shutdown-handling","title":"Run the example","assertions":[{"contains":"Test 1: Normal operation"},{"contains":"Result: 25"},{"contains":"Test 2: Idempotent operation with crash - retry exhaustion"},{"contains":"WorkerCrashedError after retries"},{"contains":"Attempt: 3\\/3"},{"contains":"Test 3: Non-idempotent operation"},{"contains":"Attempt: 1\\/1"},{"contains":"No retries"},{"contains":"Test 4: Batch processing with retry exhaustion"},{"contains":"Test 5: Successful batch processing"},{"contains":"Processed batch of 3 items"}]}],"hidden":false},"timeout-config":{"id":"timeout-config","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/timeout-config","title":"Timeout Configuration","description":"Demonstrates the flexible timeout configuration system. You can set timeouts for worker startup, server connection, a default message timeout, and per-message-type timeouts for fine-grained control over long-running operations.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:timeout-config","title":"Run the example","assertions":[{"contains":"Timeout configuration:"},{"contains":"Quick ping completed"},{"contains":"Slow process completed"},{"contains":"Worker closed successfully"}]}],"hidden":false},"worker-lifecycle":{"id":"worker-lifecycle","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/worker-lifecycle","title":"Worker Lifecycle Management","description":"Demonstrates worker lifecycle management including status checking (isActive, isConnected), state persistence across requests, and graceful shutdown. Shows how workers maintain state between messages and how to handle the worker after it's closed.\n","entryPoint":"host.ts","fileMap":{"./messages.ts":"messages.ts","./host.ts":"host.ts","./worker.ts":"worker.ts"},"commands":[{"command":"pnpm run:worker-lifecycle","title":"Run the example","assertions":[{"contains":"Worker Created"},{"contains":"isActive: true"},{"contains":"isConnected: true"},{"contains":"Request count:"},{"contains":"isActive: false"},{"contains":"Worker is not active"}]}],"hidden":false},"worker-threads-driver":{"id":"worker-threads-driver","path":"\\/home\\/runner\\/work\\/isolated-workers\\/isolated-workers\\/examples\\/worker-threads-driver","title":"Worker Threads Driver","description":"Use the worker_threads driver for in-process workers with shared memory support.\nWorker threads run in the same process as the host, enabling SharedArrayBuffer\nand lower overhead compared to child processes.\n","entryPoint":"host.ts","fileMap":"!undefined","commands":[{"command":"node --import tsx {filename}","title":"Run worker threads example","assertions":[{"contains":"Result:"},{"contains":"Worker threads driver"}]}],"hidden":false}}}</script>
        <script src="/isolated-workers/assets/entries/entry-client-routing.io56qHg_.js" type="module" async></script>
        <link rel="modulepreload" href="/isolated-workers/assets/entries/pages_docs.D3lD6bTo.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-CoIusrxJ.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-B01QXYmX.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-DApX3sgb.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-Dzd9oD5V.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-jQ2pk9iw.js" as="script" type="text/javascript">
        <link rel="modulepreload" href="/isolated-workers/assets/chunks/chunk-Y59L1pI7.js" as="script" type="text/javascript">
      </body>
    </html>